var Va=Object.defineProperty;var vi=A=>{throw TypeError(A)};var Ua=(A,R,V)=>R in A?Va(A,R,{enumerable:!0,configurable:!0,writable:!0,value:V}):A[R]=V;var dn=(A,R,V)=>Ua(A,typeof R!="symbol"?R+"":R,V),Rr=(A,R,V)=>R.has(A)||vi("Cannot "+V);var me=(A,R,V)=>(Rr(A,R,"read from private field"),V?V.call(A):R.get(A)),pt=(A,R,V)=>R.has(A)?vi("Cannot add the same private member more than once"):R instanceof WeakSet?R.add(A):R.set(A,V),_t=(A,R,V,O)=>(Rr(A,R,"write to private field"),O?O.call(A,V):R.set(A,V),V),lt=(A,R,V)=>(Rr(A,R,"access private method"),V);var Fr=(A,R,V,O)=>({set _(B){_t(A,R,B,V)},get _(){return me(A,R,O)}});import{r as reactExports,x as getAugmentedNamespace,y as reactDomExports,j as jsxRuntimeExports,p as useParams}from"./index-D8y7tREh.js";import{V as VbqpplApi}from"./vbqpplApi-B4TMGqAU.js";import"./axiosClient-f7rFmG3x.js";import"./axios-B6xwUs71.js";function ArrowDownTrayIcon({title:A,titleId:R,...V},O){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:O,"aria-labelledby":R},V),A?reactExports.createElement("title",{id:R},A):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const ForwardRef$2=reactExports.forwardRef(ArrowDownTrayIcon);function DocumentIcon({title:A,titleId:R,...V},O){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:O,"aria-labelledby":R},V),A?reactExports.createElement("title",{id:R},A):null,reactExports.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),reactExports.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const ForwardRef$1=reactExports.forwardRef(DocumentIcon);function EyeIcon({title:A,titleId:R,...V},O){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:O,"aria-labelledby":R},V),A?reactExports.createElement("title",{id:R},A):null,reactExports.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),reactExports.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(EyeIcon);var lib$d={exports:{}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(R,V){module.exports=V()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.VerbosityLevel=R.Util=R.UnknownErrorException=R.UnexpectedResponseException=R.UNSUPPORTED_FEATURES=R.TextRenderingMode=R.RenderingIntentFlag=R.PermissionFlag=R.PasswordResponses=R.PasswordException=R.PageActionEventType=R.OPS=R.MissingPDFException=R.LINE_FACTOR=R.LINE_DESCENT_FACTOR=R.InvalidPDFException=R.ImageKind=R.IDENTITY_MATRIX=R.FormatError=R.FeatureTest=R.FONT_IDENTITY_MATRIX=R.DocumentActionEventType=R.CMapCompressionType=R.BaseException=R.BASELINE_FACTOR=R.AnnotationType=R.AnnotationStateModelType=R.AnnotationReviewState=R.AnnotationReplyType=R.AnnotationMode=R.AnnotationMarkedState=R.AnnotationFlag=R.AnnotationFieldFlag=R.AnnotationEditorType=R.AnnotationEditorPrefix=R.AnnotationEditorParamsType=R.AnnotationBorderStyleType=R.AnnotationActionEventType=R.AbortException=void 0,R.assert=Pe,R.bytesToString=oe,R.createPromiseCapability=Zt,R.createValidAbsoluteUrl=te,R.getModificationDate=Gt,R.getVerbosityLevel=Ne,R.info=Be,R.isArrayBuffer=vt,R.isArrayEqual=At,R.objectFromMap=xe,R.objectSize=le,R.setVerbosityLevel=qe,R.shadow=pe,R.string32=_e,R.stringToBytes=be,R.stringToPDFString=tt,R.stringToUTF8String=ct,R.unreachable=nt,R.utf8StringToString=gt,R.warn=Qe;const V=[1,0,0,1,0,0];R.IDENTITY_MATRIX=V;const O=[.001,0,0,.001,0,0];R.FONT_IDENTITY_MATRIX=O;const B=1.35;R.LINE_FACTOR=B;const $=.35;R.LINE_DESCENT_FACTOR=$;const re=$/B;R.BASELINE_FACTOR=re;const fe={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};R.RenderingIntentFlag=fe;const ve={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};R.AnnotationMode=ve;const ue="pdfjs_internal_editor_";R.AnnotationEditorPrefix=ue;const ie={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};R.AnnotationEditorType=ie;const ye={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};R.AnnotationEditorParamsType=ye;const ce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};R.PermissionFlag=ce;const ae={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};R.TextRenderingMode=ae;const J={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};R.ImageKind=J;const Q={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};R.AnnotationType=Q;const U={MARKED:"Marked",REVIEW:"Review"};R.AnnotationStateModelType=U;const Y={MARKED:"Marked",UNMARKED:"Unmarked"};R.AnnotationMarkedState=Y;const ne={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};R.AnnotationReviewState=ne;const q={GROUP:"Group",REPLY:"R"};R.AnnotationReplyType=q;const K={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};R.AnnotationFlag=K;const H={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};R.AnnotationFieldFlag=H;const G={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};R.AnnotationBorderStyleType=G;const de={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};R.AnnotationActionEventType=de;const W={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};R.DocumentActionEventType=W;const ge={O:"PageOpen",C:"PageClose"};R.PageActionEventType=ge;const Ee={ERRORS:0,WARNINGS:1,INFOS:5};R.VerbosityLevel=Ee;const Te={NONE:0,BINARY:1};R.CMapCompressionType=Te;const Ke={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};R.OPS=Ke;const ft={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};R.UNSUPPORTED_FEATURES=ft;const Ye={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};R.PasswordResponses=Ye;let et=Ee.WARNINGS;function qe(at){Number.isInteger(at)&&(et=at)}function Ne(){return et}function Be(at){et>=Ee.INFOS&&console.log(`Info: ${at}`)}function Qe(at){et>=Ee.WARNINGS&&console.log(`Warning: ${at}`)}function nt(at){throw new Error(at)}function Pe(at,Ge){at||nt(Ge)}function se(at){if(!at)return!1;switch(at.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function te(at,Ge=null,He=null){if(!at)return null;try{if(He&&typeof at=="string"){if(He.addDefaultProtocol&&at.startsWith("www.")){const Lt=at.match(/\./g);Lt&&Lt.length>=2&&(at=`http://${at}`)}if(He.tryConvertEncoding)try{at=ct(at)}catch{}}const bt=Ge?new URL(at,Ge):new URL(at);if(se(bt))return bt}catch{}return null}function pe(at,Ge,He,bt=!1){return Object.defineProperty(at,Ge,{value:He,enumerable:!bt,configurable:!0,writable:!1}),He}const Ae=function(){function Ge(He,bt){this.constructor===Ge&&nt("Cannot initialize BaseException."),this.message=He,this.name=bt}return Ge.prototype=new Error,Ge.constructor=Ge,Ge}();R.BaseException=Ae;class ke extends Ae{constructor(Ge,He){super(Ge,"PasswordException"),this.code=He}}R.PasswordException=ke;class Se extends Ae{constructor(Ge,He){super(Ge,"UnknownErrorException"),this.details=He}}R.UnknownErrorException=Se;class je extends Ae{constructor(Ge){super(Ge,"InvalidPDFException")}}R.InvalidPDFException=je;class Ze extends Ae{constructor(Ge){super(Ge,"MissingPDFException")}}R.MissingPDFException=Ze;class rt extends Ae{constructor(Ge,He){super(Ge,"UnexpectedResponseException"),this.status=He}}R.UnexpectedResponseException=rt;class We extends Ae{constructor(Ge){super(Ge,"FormatError")}}R.FormatError=We;class ee extends Ae{constructor(Ge){super(Ge,"AbortException")}}R.AbortException=ee;function oe(at){(typeof at!="object"||at===null||at.length===void 0)&&nt("Invalid argument for bytesToString");const Ge=at.length,He=8192;if(Ge<He)return String.fromCharCode.apply(null,at);const bt=[];for(let Lt=0;Lt<Ge;Lt+=He){const Vt=Math.min(Lt+He,Ge),Ut=at.subarray(Lt,Vt);bt.push(String.fromCharCode.apply(null,Ut))}return bt.join("")}function be(at){typeof at!="string"&&nt("Invalid argument for stringToBytes");const Ge=at.length,He=new Uint8Array(Ge);for(let bt=0;bt<Ge;++bt)He[bt]=at.charCodeAt(bt)&255;return He}function _e(at){return String.fromCharCode(at>>24&255,at>>16&255,at>>8&255,at&255)}function le(at){return Object.keys(at).length}function xe(at){const Ge=Object.create(null);for(const[He,bt]of at)Ge[He]=bt;return Ge}function Fe(){const at=new Uint8Array(4);return at[0]=1,new Uint32Array(at.buffer,0,1)[0]===1}function Le(){try{return new Function(""),!0}catch{return!1}}class Je{static get isLittleEndian(){return pe(this,"isLittleEndian",Fe())}static get isEvalSupported(){return pe(this,"isEvalSupported",Le())}static get isOffscreenCanvasSupported(){return pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?pe(this,"platform",{isWin:!1,isMac:!1}):pe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}R.FeatureTest=Je;const Ce=[...Array(256).keys()].map(at=>at.toString(16).padStart(2,"0"));class De{static makeHexColor(Ge,He,bt){return`#${Ce[Ge]}${Ce[He]}${Ce[bt]}`}static scaleMinMax(Ge,He){let bt;Ge[0]?(Ge[0]<0&&(bt=He[0],He[0]=He[1],He[1]=bt),He[0]*=Ge[0],He[1]*=Ge[0],Ge[3]<0&&(bt=He[2],He[2]=He[3],He[3]=bt),He[2]*=Ge[3],He[3]*=Ge[3]):(bt=He[0],He[0]=He[2],He[2]=bt,bt=He[1],He[1]=He[3],He[3]=bt,Ge[1]<0&&(bt=He[2],He[2]=He[3],He[3]=bt),He[2]*=Ge[1],He[3]*=Ge[1],Ge[2]<0&&(bt=He[0],He[0]=He[1],He[1]=bt),He[0]*=Ge[2],He[1]*=Ge[2]),He[0]+=Ge[4],He[1]+=Ge[4],He[2]+=Ge[5],He[3]+=Ge[5]}static transform(Ge,He){return[Ge[0]*He[0]+Ge[2]*He[1],Ge[1]*He[0]+Ge[3]*He[1],Ge[0]*He[2]+Ge[2]*He[3],Ge[1]*He[2]+Ge[3]*He[3],Ge[0]*He[4]+Ge[2]*He[5]+Ge[4],Ge[1]*He[4]+Ge[3]*He[5]+Ge[5]]}static applyTransform(Ge,He){const bt=Ge[0]*He[0]+Ge[1]*He[2]+He[4],Lt=Ge[0]*He[1]+Ge[1]*He[3]+He[5];return[bt,Lt]}static applyInverseTransform(Ge,He){const bt=He[0]*He[3]-He[1]*He[2],Lt=(Ge[0]*He[3]-Ge[1]*He[2]+He[2]*He[5]-He[4]*He[3])/bt,Vt=(-Ge[0]*He[1]+Ge[1]*He[0]+He[4]*He[1]-He[5]*He[0])/bt;return[Lt,Vt]}static getAxialAlignedBoundingBox(Ge,He){const bt=De.applyTransform(Ge,He),Lt=De.applyTransform(Ge.slice(2,4),He),Vt=De.applyTransform([Ge[0],Ge[3]],He),Ut=De.applyTransform([Ge[2],Ge[1]],He);return[Math.min(bt[0],Lt[0],Vt[0],Ut[0]),Math.min(bt[1],Lt[1],Vt[1],Ut[1]),Math.max(bt[0],Lt[0],Vt[0],Ut[0]),Math.max(bt[1],Lt[1],Vt[1],Ut[1])]}static inverseTransform(Ge){const He=Ge[0]*Ge[3]-Ge[1]*Ge[2];return[Ge[3]/He,-Ge[1]/He,-Ge[2]/He,Ge[0]/He,(Ge[2]*Ge[5]-Ge[4]*Ge[3])/He,(Ge[4]*Ge[1]-Ge[5]*Ge[0])/He]}static singularValueDecompose2dScale(Ge){const He=[Ge[0],Ge[2],Ge[1],Ge[3]],bt=Ge[0]*He[0]+Ge[1]*He[2],Lt=Ge[0]*He[1]+Ge[1]*He[3],Vt=Ge[2]*He[0]+Ge[3]*He[2],Ut=Ge[2]*He[1]+Ge[3]*He[3],kn=(bt+Ut)/2,zt=Math.sqrt((bt+Ut)**2-4*(bt*Ut-Vt*Lt))/2,on=kn+zt||1,yn=kn-zt||1;return[Math.sqrt(on),Math.sqrt(yn)]}static normalizeRect(Ge){const He=Ge.slice(0);return Ge[0]>Ge[2]&&(He[0]=Ge[2],He[2]=Ge[0]),Ge[1]>Ge[3]&&(He[1]=Ge[3],He[3]=Ge[1]),He}static intersect(Ge,He){const bt=Math.max(Math.min(Ge[0],Ge[2]),Math.min(He[0],He[2])),Lt=Math.min(Math.max(Ge[0],Ge[2]),Math.max(He[0],He[2]));if(bt>Lt)return null;const Vt=Math.max(Math.min(Ge[1],Ge[3]),Math.min(He[1],He[3])),Ut=Math.min(Math.max(Ge[1],Ge[3]),Math.max(He[1],He[3]));return Vt>Ut?null:[bt,Vt,Lt,Ut]}static bezierBoundingBox(Ge,He,bt,Lt,Vt,Ut,kn,zt){const on=[],yn=[[],[]];let Dn,Fn,Kn,gn,Vn,Yn,nr,rr;for(let ir=0;ir<2;++ir){if(ir===0?(Fn=6*Ge-12*bt+6*Vt,Dn=-3*Ge+9*bt-9*Vt+3*kn,Kn=3*bt-3*Ge):(Fn=6*He-12*Lt+6*Ut,Dn=-3*He+9*Lt-9*Ut+3*zt,Kn=3*Lt-3*He),Math.abs(Dn)<1e-12){if(Math.abs(Fn)<1e-12)continue;gn=-Kn/Fn,0<gn&&gn<1&&on.push(gn);continue}nr=Fn*Fn-4*Kn*Dn,rr=Math.sqrt(nr),!(nr<0)&&(Vn=(-Fn+rr)/(2*Dn),0<Vn&&Vn<1&&on.push(Vn),Yn=(-Fn-rr)/(2*Dn),0<Yn&&Yn<1&&on.push(Yn))}let Un=on.length,Pn;const Wn=Un;for(;Un--;)gn=on[Un],Pn=1-gn,yn[0][Un]=Pn*Pn*Pn*Ge+3*Pn*Pn*gn*bt+3*Pn*gn*gn*Vt+gn*gn*gn*kn,yn[1][Un]=Pn*Pn*Pn*He+3*Pn*Pn*gn*Lt+3*Pn*gn*gn*Ut+gn*gn*gn*zt;return yn[0][Wn]=Ge,yn[1][Wn]=He,yn[0][Wn+1]=kn,yn[1][Wn+1]=zt,yn[0].length=yn[1].length=Wn+2,[Math.min(...yn[0]),Math.min(...yn[1]),Math.max(...yn[0]),Math.max(...yn[1])]}}R.Util=De;const Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function tt(at){if(at[0]>="ï"){let He;if(at[0]==="þ"&&at[1]==="ÿ"?He="utf-16be":at[0]==="ÿ"&&at[1]==="þ"?He="utf-16le":at[0]==="ï"&&at[1]==="»"&&at[2]==="¿"&&(He="utf-8"),He)try{const bt=new TextDecoder(He,{fatal:!0}),Lt=be(at);return bt.decode(Lt)}catch(bt){Qe(`stringToPDFString: "${bt}".`)}}const Ge=[];for(let He=0,bt=at.length;He<bt;He++){const Lt=Re[at.charCodeAt(He)];Ge.push(Lt?String.fromCharCode(Lt):at.charAt(He))}return Ge.join("")}function ct(at){return decodeURIComponent(escape(at))}function gt(at){return unescape(encodeURIComponent(at))}function vt(at){return typeof at=="object"&&at!==null&&at.byteLength!==void 0}function At(at,Ge){if(at.length!==Ge.length)return!1;for(let He=0,bt=at.length;He<bt;He++)if(at[He]!==Ge[He])return!1;return!0}function Gt(at=new Date){return[at.getUTCFullYear().toString(),(at.getUTCMonth()+1).toString().padStart(2,"0"),at.getUTCDate().toString().padStart(2,"0"),at.getUTCHours().toString().padStart(2,"0"),at.getUTCMinutes().toString().padStart(2,"0"),at.getUTCSeconds().toString().padStart(2,"0")].join("")}function Zt(){const at=Object.create(null);let Ge=!1;return Object.defineProperty(at,"settled",{get(){return Ge}}),at.promise=new Promise(function(He,bt){at.resolve=function(Lt){Ge=!0,He(Lt)},at.reject=function(Lt){Ge=!0,bt(Lt)}}),at}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,R,O,B,$,re,fe,ve,ue,ie,Ir,ce,ae,Or,Q,U;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:ne,NodeCMapReaderFactory:q,NodeStandardFontDataFactory:K}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=ne,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=q,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=K}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:ne}=__w_pdfjs_require__(21);createPDFNetworkStream=q=>new ne(q)}else{const{PDFNetworkStream:ne}=__w_pdfjs_require__(24),{PDFFetchStream:q}=__w_pdfjs_require__(25);createPDFNetworkStream=K=>(0,_display_utils.isValidFetchUrl)(K.url)?new q(K):new ne(K)}function getDocument(ne){if(typeof ne=="string"||ne instanceof URL)ne={url:ne};else if((0,_util.isArrayBuffer)(ne))ne={data:ne};else if(ne instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),ne={range:ne};else if(typeof ne!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!ne.url&&!ne.data&&!ne.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const q=new PDFDocumentLoadingTask,K=ne.url?getUrlProp(ne.url):null,H=ne.data?getDataProp(ne.data):null,G=ne.httpHeaders||null,de=ne.withCredentials===!0,W=ne.password??null,ge=ne.range instanceof PDFDataRangeTransport?ne.range:null,Ee=Number.isInteger(ne.rangeChunkSize)&&ne.rangeChunkSize>0?ne.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Te=ne.worker instanceof PDFWorker?ne.worker:null;const Ke=ne.verbosity,ft=typeof ne.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(ne.docBaseUrl)?ne.docBaseUrl:null,Ye=typeof ne.cMapUrl=="string"?ne.cMapUrl:null,et=ne.cMapPacked!==!1,qe=ne.CMapReaderFactory||DefaultCMapReaderFactory,Ne=typeof ne.standardFontDataUrl=="string"?ne.standardFontDataUrl:null,Be=ne.StandardFontDataFactory||DefaultStandardFontDataFactory,Qe=ne.stopAtErrors!==!0,nt=Number.isInteger(ne.maxImageSize)&&ne.maxImageSize>-1?ne.maxImageSize:-1,Pe=ne.isEvalSupported!==!1,se=typeof ne.isOffscreenCanvasSupported=="boolean"?ne.isOffscreenCanvasSupported:!_is_node.isNodeJS,te=typeof ne.disableFontFace=="boolean"?ne.disableFontFace:_is_node.isNodeJS,pe=ne.fontExtraProperties===!0,Ae=ne.enableXfa===!0,ke=ne.ownerDocument||globalThis.document,Se=ne.disableRange===!0,je=ne.disableStream===!0,Ze=ne.disableAutoFetch===!0,rt=ne.pdfBug===!0,We=ge?ge.length:ne.length??NaN,ee=typeof ne.useSystemFonts=="boolean"?ne.useSystemFonts:!_is_node.isNodeJS&&!te,oe=typeof ne.useWorkerFetch=="boolean"?ne.useWorkerFetch:qe===_display_utils.DOMCMapReaderFactory&&Be===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(Ye,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Ne,document.baseURI),be=null;(0,_util.setVerbosityLevel)(Ke);const _e=oe?null:{cMapReaderFactory:new qe({baseUrl:Ye,isCompressed:et}),standardFontDataFactory:new Be({baseUrl:Ne})};if(!Te){const Le={verbosity:Ke,port:_worker_options.GlobalWorkerOptions.workerPort};Te=Le.port?PDFWorker.fromPort(Le):new PDFWorker(Le),q._worker=Te}const le=q.docId,xe={docId:le,apiVersion:"3.4.120",data:H,password:W,disableAutoFetch:Ze,rangeChunkSize:Ee,length:We,docBaseUrl:ft,enableXfa:Ae,evaluatorOptions:{maxImageSize:nt,disableFontFace:te,ignoreErrors:Qe,isEvalSupported:Pe,isOffscreenCanvasSupported:se,fontExtraProperties:pe,useSystemFonts:ee,cMapUrl:oe?Ye:null,standardFontDataUrl:oe?Ne:null}},Fe={ignoreErrors:Qe,isEvalSupported:Pe,disableFontFace:te,fontExtraProperties:pe,enableXfa:Ae,ownerDocument:ke,disableAutoFetch:Ze,pdfBug:rt,styleElement:be};return Te.promise.then(function(){if(q.destroyed)throw new Error("Loading aborted");const Le=_fetchDocument(Te,xe),Je=new Promise(function(Ce){let De;ge?De=new _transport_stream.PDFDataTransportStream({length:We,initialData:ge.initialData,progressiveDone:ge.progressiveDone,contentDispositionFilename:ge.contentDispositionFilename,disableRange:Se,disableStream:je},ge):H||(De=createPDFNetworkStream({url:K,length:We,httpHeaders:G,withCredentials:de,rangeChunkSize:Ee,disableRange:Se,disableStream:je})),Ce(De)});return Promise.all([Le,Je]).then(function([Ce,De]){if(q.destroyed)throw new Error("Loading aborted");const Re=new _message_handler.MessageHandler(le,Ce,Te.port),tt=new WorkerTransport(Re,q,De,Fe,_e);q._transport=tt,Re.send("Ready",null)})}).catch(q._capability.reject),q}async function _fetchDocument(ne,q){if(ne.destroyed)throw new Error("Worker was destroyed");const K=await ne.messageHandler.sendWithPromise("GetDocRequest",q,q.data?[q.data.buffer]:null);if(ne.destroyed)throw new Error("Worker was destroyed");return K}function getUrlProp(ne){if(ne instanceof URL)return ne.href;try{return new URL(ne,window.location).href}catch{if(_is_node.isNodeJS&&typeof ne=="string")return ne}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(ne){if(_is_node.isNodeJS&&typeof Buffer<"u"&&ne instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(ne);if(ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength)return ne;if(typeof ne=="string")return(0,_util.stringToBytes)(ne);if(typeof ne=="object"&&!isNaN(ne==null?void 0:ne.length)||(0,_util.isArrayBuffer)(ne))return new Uint8Array(ne);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const V=class V{constructor(){pt(this,R,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Fr(V,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return me(this,R)}set onUnsupportedFeature(q){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),_t(this,R,q)}get promise(){return this._capability.promise}async destroy(){var q;this.destroyed=!0,await((q=this._transport)==null?void 0:q.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};A=new WeakMap,R=new WeakMap,pt(V,A,0);let PDFDocumentLoadingTask=V;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(q,K,H=!1,G=null){this.length=q,this.initialData=K,this.progressiveDone=H,this.contentDispositionFilename=G,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(q){this._rangeListeners.push(q)}addProgressListener(q){this._progressListeners.push(q)}addProgressiveReadListener(q){this._progressiveReadListeners.push(q)}addProgressiveDoneListener(q){this._progressiveDoneListeners.push(q)}onDataRange(q,K){for(const H of this._rangeListeners)H(q,K)}onDataProgress(q,K){this._readyCapability.promise.then(()=>{for(const H of this._progressListeners)H(q,K)})}onDataProgressiveRead(q){this._readyCapability.promise.then(()=>{for(const K of this._progressiveReadListeners)K(q)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const q of this._progressiveDoneListeners)q()})}transportReady(){this._readyCapability.resolve()}requestDataRange(q,K){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(q,K){this._pdfInfo=q,this._transport=K}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(q){return this._transport.getPage(q)}getPageIndex(q){return this._transport.getPageIndex(q)}getDestinations(){return this._transport.getDestinations()}getDestination(q){return this._transport.getDestination(q)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(q=!1){return this._transport.startCleanup(q||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(q,K,H,G,de=!1){this._pageIndex=q,this._pageInfo=K,this._ownerDocument=G,this._transport=H,this._stats=de?new _display_utils.StatTimer:null,this._pdfBug=de,this.commonObjs=H.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:q,rotation:K=this.rotate,offsetX:H=0,offsetY:G=0,dontFlip:de=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:q,rotation:K,offsetX:H,offsetY:G,dontFlip:de})}getAnnotations({intent:q="display"}={}){const K=this._transport.getRenderingIntent(q);return this._transport.getAnnotations(this._pageIndex,K.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var q;return((q=this._transport._htmlForXfa)==null?void 0:q.children[this._pageIndex])||null}render({canvasContext:q,viewport:K,intent:H="display",annotationMode:G=_util.AnnotationMode.ENABLE,transform:de=null,canvasFactory:W=null,background:ge=null,optionalContentConfigPromise:Ee=null,annotationCanvasMap:Te=null,pageColors:Ke=null,printAnnotationStorage:ft=null}){var Pe,se;(Pe=this._stats)==null||Pe.time("Overall");const Ye=this._transport.getRenderingIntent(H,G,ft);this.pendingCleanup=!1,Ee||(Ee=this._transport.getOptionalContentConfig());let et=this._intentStates.get(Ye.cacheKey);et||(et=Object.create(null),this._intentStates.set(Ye.cacheKey,et)),et.streamReaderCancelTimeout&&(clearTimeout(et.streamReaderCancelTimeout),et.streamReaderCancelTimeout=null);const qe=W||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Ne=!!(Ye.renderingIntent&_util.RenderingIntentFlag.PRINT);et.displayReadyCapability||(et.displayReadyCapability=(0,_util.createPromiseCapability)(),et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(se=this._stats)==null||se.time("Page Request"),this._pumpOperatorList(Ye));const Be=te=>{var pe,Ae;et.renderTasks.delete(Qe),(this.cleanupAfterRender||Ne)&&(this.pendingCleanup=!0),this._tryCleanup(),te?(Qe.capability.reject(te),this._abortOperatorList({intentState:et,reason:te instanceof Error?te:new Error(te)})):Qe.capability.resolve(),(pe=this._stats)==null||pe.timeEnd("Rendering"),(Ae=this._stats)==null||Ae.timeEnd("Overall")},Qe=new InternalRenderTask({callback:Be,params:{canvasContext:q,viewport:K,transform:de,background:ge},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Te,operatorList:et.operatorList,pageIndex:this._pageIndex,canvasFactory:qe,useRequestAnimationFrame:!Ne,pdfBug:this._pdfBug,pageColors:Ke});(et.renderTasks||(et.renderTasks=new Set)).add(Qe);const nt=Qe.task;return Promise.all([et.displayReadyCapability.promise,Ee]).then(([te,pe])=>{var Ae;if(this.pendingCleanup){Be();return}(Ae=this._stats)==null||Ae.time("Rendering"),Qe.initializeGraphics({transparency:te,optionalContentConfig:pe}),Qe.operatorListChanged()}).catch(Be),nt}getOperatorList({intent:q="display",annotationMode:K=_util.AnnotationMode.ENABLE,printAnnotationStorage:H=null}={}){var Ee;function G(){W.operatorList.lastChunk&&(W.opListReadCapability.resolve(W.operatorList),W.renderTasks.delete(ge))}const de=this._transport.getRenderingIntent(q,K,H,!0);let W=this._intentStates.get(de.cacheKey);W||(W=Object.create(null),this._intentStates.set(de.cacheKey,W));let ge;return W.opListReadCapability||(ge=Object.create(null),ge.operatorListChanged=G,W.opListReadCapability=(0,_util.createPromiseCapability)(),(W.renderTasks||(W.renderTasks=new Set)).add(ge),W.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ee=this._stats)==null||Ee.time("Page Request"),this._pumpOperatorList(de)),W.opListReadCapability.promise}streamTextContent({disableCombineTextItems:q=!1,includeMarkedContent:K=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:q!==!0,includeMarkedContent:K===!0},{highWaterMark:100,size(G){return G.items.length}})}getTextContent(q={}){if(this._transport._htmlForXfa)return this.getXfa().then(H=>_xfa_text.XfaText.textContent(H));const K=this.streamTextContent(q);return new Promise(function(H,G){function de(){W.read().then(function({value:Ee,done:Te}){if(Te){H(ge);return}Object.assign(ge.styles,Ee.styles),ge.items.push(...Ee.items),de()},G)}const W=K.getReader(),ge={items:[],styles:Object.create(null)};de()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const q=[];for(const K of this._intentStates.values())if(this._abortOperatorList({intentState:K,reason:new Error("Page was destroyed."),force:!0}),!K.opListReadCapability)for(const H of K.renderTasks)q.push(H.completed),H.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(q)}cleanup(q=!1){return this.pendingCleanup=!0,this._tryCleanup(q)}_tryCleanup(q=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:K,operatorList:H}of this._intentStates.values())if(K.size>0||!H.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),q&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(q,K){var G,de;const H=this._intentStates.get(K);H&&((G=this._stats)==null||G.timeEnd("Page Request"),(de=H.displayReadyCapability)==null||de.resolve(q))}_renderPageChunk(q,K){for(let H=0,G=q.length;H<G;H++)K.operatorList.fnArray.push(q.fnArray[H]),K.operatorList.argsArray.push(q.argsArray[H]);K.operatorList.lastChunk=q.lastChunk,K.operatorList.separateAnnots=q.separateAnnots;for(const H of K.renderTasks)H.operatorListChanged();q.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:q,cacheKey:K,annotationStorageMap:H}){const de=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:q,cacheKey:K,annotationStorage:H}).getReader(),W=this._intentStates.get(K);W.streamReader=de;const ge=()=>{de.read().then(({value:Ee,done:Te})=>{if(Te){W.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Ee,W),ge())},Ee=>{if(W.streamReader=null,!this._transport.destroyed){if(W.operatorList){W.operatorList.lastChunk=!0;for(const Te of W.renderTasks)Te.operatorListChanged();this._tryCleanup()}if(W.displayReadyCapability)W.displayReadyCapability.reject(Ee);else if(W.opListReadCapability)W.opListReadCapability.reject(Ee);else throw Ee}})};ge()}_abortOperatorList({intentState:q,reason:K,force:H=!1}){if(q.streamReader){if(q.streamReaderCancelTimeout&&(clearTimeout(q.streamReaderCancelTimeout),q.streamReaderCancelTimeout=null),!H){if(q.renderTasks.size>0)return;if(K instanceof _display_utils.RenderingCancelledException){let G=RENDERING_CANCELLED_TIMEOUT;K.extraDelay>0&&K.extraDelay<1e3&&(G+=K.extraDelay),q.streamReaderCancelTimeout=setTimeout(()=>{q.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:q,reason:K,force:!0})},G);return}}if(q.streamReader.cancel(new _util.AbortException(K.message)).catch(()=>{}),q.streamReader=null,!this._transport.destroyed){for(const[G,de]of this._intentStates)if(de===q){this._intentStates.delete(G);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){pt(this,O,new Set);pt(this,B,Promise.resolve())}postMessage(q,K){const H={data:structuredClone(q,K)};me(this,B).then(()=>{for(const G of me(this,O))G.call(this,H)})}addEventListener(q,K){me(this,O).add(K)}removeEventListener(q,K){me(this,O).delete(K)}terminate(){me(this,O).clear()}}O=new WeakMap,B=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const ne=($=document==null?void 0:document.currentScript)==null?void 0:$.src;ne&&(PDFWorkerUtil.fallbackWorkerSrc=ne.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(ne,q){let K;try{if(K=new URL(ne),!K.origin||K.origin==="null")return!1}catch{return!1}const H=new URL(q,K);return K.origin===H.origin},PDFWorkerUtil.createCDNWrapper=function(ne){const q=`importScripts("${ne}");`;return URL.createObjectURL(new Blob([q]))}}const _PDFWorker=class _PDFWorker{constructor({name:ne=null,port:q=null,verbosity:K=(0,_util.getVerbosityLevel)()}={}){if(q&&me(_PDFWorker,re).has(q))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=ne,this.destroyed=!1,this.verbosity=K,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,q){me(_PDFWorker,re).set(q,this),this._initializeFromPort(q);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ne){this._port=ne,this._messageHandler=new _message_handler.MessageHandler("main","worker",ne),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:ne}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,ne)||(ne=PDFWorkerUtil.createCDNWrapper(new URL(ne,window.location).href));const q=new Worker(ne),K=new _message_handler.MessageHandler("main","worker",q),H=()=>{q.removeEventListener("error",G),K.destroy(),q.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},G=()=>{this._webWorker||H()};q.addEventListener("error",G),K.on("test",W=>{if(q.removeEventListener("error",G),this.destroyed){H();return}W?(this._messageHandler=K,this._port=q,this._webWorker=q,this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),K.destroy(),q.terminate())}),K.on("ready",W=>{if(q.removeEventListener("error",G),this.destroyed){H();return}try{de()}catch{this._setupFakeWorker()}});const de=()=>{const W=new Uint8Array;K.send("test",W,[W.buffer])};de();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(ne=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const q=new LoopbackPort;this._port=q;const K=`fake${PDFWorkerUtil.fakeWorkerId++}`,H=new _message_handler.MessageHandler(K+"_worker",K,q);ne.setup(H,q);const G=new _message_handler.MessageHandler(K,K+"_worker",q);this._messageHandler=G,this._readyCapability.resolve(),G.send("configure",{verbosity:this.verbosity})}).catch(ne=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ne.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),me(_PDFWorker,re).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ne){if(!(ne!=null&&ne.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return me(this,re).has(ne.port)?me(this,re).get(ne.port):new _PDFWorker(ne)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var ne;try{return((ne=globalThis.pdfjsWorker)==null?void 0:ne.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};re=new WeakMap,pt(_PDFWorker,re,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(q,K,H,G,de){pt(this,ie);pt(this,fe,new Map);pt(this,ve,new Map);pt(this,ue,new Map);this.messageHandler=q,this.loadingTask=K,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:G.ownerDocument,styleElement:G.styleElement}),this._params=G,this.cMapReaderFactory=de==null?void 0:de.cMapReaderFactory,this.standardFontDataFactory=de==null?void 0:de.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=H,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(q,K=_util.AnnotationMode.ENABLE,H=null,G=!1){let de=_util.RenderingIntentFlag.DISPLAY,W=null;switch(q){case"any":de=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":de=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${q}`)}switch(K){case _util.AnnotationMode.DISABLE:de+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:de+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:de+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,W=(de&_util.RenderingIntentFlag.PRINT&&H instanceof _annotation_storage.PrintAnnotationStorage?H:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${K}`)}return G&&(de+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:de,cacheKey:`${de}_${_annotation_storage.AnnotationStorage.getHash(W)}`,annotationStorageMap:W}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const q=[];for(const H of me(this,ve).values())q.push(H._destroy());me(this,ve).clear(),me(this,ue).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const K=this.messageHandler.sendWithPromise("Terminate",null);return q.push(K),Promise.all(q).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),me(this,fe).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:q,loadingTask:K}=this;q.on("GetReader",(H,G)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=de=>{this._lastProgress={loaded:de.loaded,total:de.total}},G.onPull=()=>{this._fullReader.read().then(function({value:de,done:W}){if(W){G.close();return}(0,_util.assert)(de instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(de),1,[de])}).catch(de=>{G.error(de)})},G.onCancel=de=>{this._fullReader.cancel(de),G.ready.catch(W=>{if(!this.destroyed)throw W})}}),q.on("ReaderHeadersReady",H=>{const G=(0,_util.createPromiseCapability)(),de=this._fullReader;return de.headersReady.then(()=>{var W;(!de.isStreamingSupported||!de.isRangeSupported)&&(this._lastProgress&&((W=K.onProgress)==null||W.call(K,this._lastProgress)),de.onProgress=ge=>{var Ee;(Ee=K.onProgress)==null||Ee.call(K,{loaded:ge.loaded,total:ge.total})}),G.resolve({isStreamingSupported:de.isStreamingSupported,isRangeSupported:de.isRangeSupported,contentLength:de.contentLength})},G.reject),G.promise}),q.on("GetRangeReader",(H,G)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const de=this._networkStream.getRangeReader(H.begin,H.end);if(!de){G.close();return}G.onPull=()=>{de.read().then(function({value:W,done:ge}){if(ge){G.close();return}(0,_util.assert)(W instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),G.enqueue(new Uint8Array(W),1,[W])}).catch(W=>{G.error(W)})},G.onCancel=W=>{de.cancel(W),G.ready.catch(ge=>{if(!this.destroyed)throw ge})}}),q.on("GetDoc",({pdfInfo:H})=>{this._numPages=H.numPages,this._htmlForXfa=H.htmlForXfa,delete H.htmlForXfa,K._capability.resolve(new PDFDocumentProxy(H,this))}),q.on("DocException",function(H){let G;switch(H.name){case"PasswordException":G=new _util.PasswordException(H.message,H.code);break;case"InvalidPDFException":G=new _util.InvalidPDFException(H.message);break;case"MissingPDFException":G=new _util.MissingPDFException(H.message);break;case"UnexpectedResponseException":G=new _util.UnexpectedResponseException(H.message,H.status);break;case"UnknownErrorException":G=new _util.UnknownErrorException(H.message,H.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}K._capability.reject(G)}),q.on("PasswordRequest",H=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),K.onPassword){const G=de=>{de instanceof Error?this._passwordCapability.reject(de):this._passwordCapability.resolve({password:de})};try{K.onPassword(G,H.code)}catch(de){this._passwordCapability.reject(de)}}else this._passwordCapability.reject(new _util.PasswordException(H.message,H.code));return this._passwordCapability.promise}),q.on("DataLoaded",H=>{var G;(G=K.onProgress)==null||G.call(K,{loaded:H.length,total:H.length}),this.downloadInfoCapability.resolve(H)}),q.on("StartRenderPage",H=>{if(this.destroyed)return;me(this,ve).get(H.pageIndex)._startRenderPage(H.transparency,H.cacheKey)}),q.on("commonobj",([H,G,de])=>{var W;if(!this.destroyed&&!this.commonObjs.has(H))switch(G){case"Font":const ge=this._params;if("error"in de){const Ke=de.error;(0,_util.warn)(`Error during font loading: ${Ke}`),this.commonObjs.resolve(H,Ke);break}let Ee=null;ge.pdfBug&&((W=globalThis.FontInspector)!=null&&W.enabled)&&(Ee={registerFont(Ke,ft){globalThis.FontInspector.fontAdded(Ke,ft)}});const Te=new _font_loader.FontFaceObject(de,{isEvalSupported:ge.isEvalSupported,disableFontFace:ge.disableFontFace,ignoreErrors:ge.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Ee});this.fontLoader.bind(Te).catch(Ke=>q.sendWithPromise("FontFallback",{id:H})).finally(()=>{!ge.fontExtraProperties&&Te.data&&(Te.data=null),this.commonObjs.resolve(H,Te)});break;case"FontPath":case"Image":this.commonObjs.resolve(H,de);break;default:throw new Error(`Got unknown common object type ${G}`)}}),q.on("obj",([H,G,de,W])=>{var Ee;if(this.destroyed)return;const ge=me(this,ve).get(G);if(!ge.objs.has(H))switch(de){case"Image":ge.objs.resolve(H,W);const Te=8e6;if(W){let Ke;if(W.bitmap){const{width:ft,height:Ye}=W;Ke=ft*Ye*4}else Ke=((Ee=W.data)==null?void 0:Ee.length)||0;Ke>Te&&(ge.cleanupAfterRender=!0)}break;case"Pattern":ge.objs.resolve(H,W);break;default:throw new Error(`Got unknown object type ${de}`)}}),q.on("DocProgress",H=>{var G;this.destroyed||(G=K.onProgress)==null||G.call(K,{loaded:H.loaded,total:H.total})}),q.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),q.on("FetchBuiltInCMap",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(H):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),q.on("FetchStandardFontData",H=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(H):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:q}){var K,H;this.destroyed||(H=(K=this.loadingTask).onUnsupportedFeature)==null||H.call(K,q)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var q;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((q=this._fullReader)==null?void 0:q.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(q){if(!Number.isInteger(q)||q<=0||q>this._numPages)return Promise.reject(new Error("Invalid page request."));const K=q-1,H=me(this,ue).get(K);if(H)return H;const G=this.messageHandler.sendWithPromise("GetPage",{pageIndex:K}).then(de=>{if(this.destroyed)throw new Error("Transport destroyed");const W=new PDFPageProxy(K,de,this,this._params.ownerDocument,this._params.pdfBug);return me(this,ve).set(K,W),W});return me(this,ue).set(K,G),G}getPageIndex(q){return typeof q!="object"||q===null||!Number.isInteger(q.num)||q.num<0||!Number.isInteger(q.gen)||q.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:q.num,gen:q.gen})}getAnnotations(q,K){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:q,intent:K})}getFieldObjects(){return lt(this,ie,Ir).call(this,"GetFieldObjects")}hasJSActions(){return lt(this,ie,Ir).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(q){return typeof q!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:q})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(q){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:q})}getStructTree(q){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:q})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(q=>new _optional_content_config.OptionalContentConfig(q))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const q="GetMetadata",K=me(this,fe).get(q);if(K)return K;const H=this.messageHandler.sendWithPromise(q,null).then(G=>{var de,W;return{info:G[0],metadata:G[1]?new _metadata.Metadata(G[1]):null,contentDispositionFilename:((de=this._fullReader)==null?void 0:de.filename)??null,contentLength:((W=this._fullReader)==null?void 0:W.contentLength)??null}});return me(this,fe).set(q,H),H}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(q=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const K of me(this,ve).values())if(!K.cleanup())throw new Error(`startCleanup: Page ${K.pageNumber} is currently rendering.`);this.commonObjs.clear(),q||this.fontLoader.clear(),me(this,fe).clear()}}get loadingParams(){const{disableAutoFetch:q,enableXfa:K}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:q,enableXfa:K})}}fe=new WeakMap,ve=new WeakMap,ue=new WeakMap,ie=new WeakSet,Ir=function(q,K=null){const H=me(this,fe).get(q);if(H)return H;const G=this.messageHandler.sendWithPromise(q,K);return me(this,fe).set(q,G),G};class PDFObjects{constructor(){pt(this,ae);pt(this,ce,Object.create(null))}get(q,K=null){if(K){const G=lt(this,ae,Or).call(this,q);return G.capability.promise.then(()=>K(G.data)),null}const H=me(this,ce)[q];if(!(H!=null&&H.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${q}.`);return H.data}has(q){const K=me(this,ce)[q];return(K==null?void 0:K.capability.settled)||!1}resolve(q,K=null){const H=lt(this,ae,Or).call(this,q);H.data=K,H.capability.resolve()}clear(){var q;for(const K in me(this,ce)){const{data:H}=me(this,ce)[K];(q=H==null?void 0:H.bitmap)==null||q.close()}_t(this,ce,Object.create(null))}}ce=new WeakMap,ae=new WeakSet,Or=function(q){const K=me(this,ce)[q];return K||(me(this,ce)[q]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(q){pt(this,Q,null);_t(this,Q,q),this.onContinue=null}get promise(){return me(this,Q).capability.promise}cancel(q=0){me(this,Q).cancel(null,q)}get separateAnnots(){const{separateAnnots:q}=me(this,Q).operatorList;if(!q)return!1;const{annotationCanvasMap:K}=me(this,Q);return q.form||q.canvas&&(K==null?void 0:K.size)>0}}Q=new WeakMap,exports.RenderTask=RenderTask;const Y=class Y{constructor({callback:q,params:K,objs:H,commonObjs:G,annotationCanvasMap:de,operatorList:W,pageIndex:ge,canvasFactory:Ee,useRequestAnimationFrame:Te=!1,pdfBug:Ke=!1,pageColors:ft=null}){this.callback=q,this.params=K,this.objs=H,this.commonObjs=G,this.annotationCanvasMap=de,this.operatorListIdx=null,this.operatorList=W,this._pageIndex=ge,this.canvasFactory=Ee,this._pdfBug=Ke,this.pageColors=ft,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Te===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=K.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:q=!1,optionalContentConfig:K}){var ge,Ee;if(this.cancelled)return;if(this._canvas){if(me(Y,U).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");me(Y,U).add(this._canvas)}this._pdfBug&&((ge=globalThis.StepperManager)!=null&&ge.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:H,viewport:G,transform:de,background:W}=this.params;this.gfx=new _canvas.CanvasGraphics(H,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:K},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:de,viewport:G,transparency:q,background:W}),this.operatorListIdx=0,this.graphicsReady=!0,(Ee=this.graphicsReadyCallback)==null||Ee.call(this)}cancel(q=null,K=0){var H;this.running=!1,this.cancelled=!0,(H=this.gfx)==null||H.endDrawing(),this._canvas&&me(Y,U).delete(this._canvas),this.callback(q||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",K))}operatorListChanged(){var q;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(q=this.stepper)==null||q.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&me(Y,U).delete(this._canvas),this.callback())))}};U=new WeakMap,pt(Y,U,new WeakSet);let InternalRenderTask=Y;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(A,R,V)=>{var ve,ue,ie,bi,ce;Object.defineProperty(R,"__esModule",{value:!0}),R.PrintAnnotationStorage=R.AnnotationStorage=void 0;var O=V(1),B=V(4),$=V(8);class re{constructor(){pt(this,ie);pt(this,ve,!1);pt(this,ue,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(J,Q){const U=me(this,ue).get(J);return U===void 0?Q:Object.assign(Q,U)}getRawValue(J){return me(this,ue).get(J)}remove(J){if(me(this,ue).delete(J),me(this,ue).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Q of me(this,ue).values())if(Q instanceof B.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(J,Q){const U=me(this,ue).get(J);let Y=!1;if(U!==void 0)for(const[ne,q]of Object.entries(Q))U[ne]!==q&&(Y=!0,U[ne]=q);else Y=!0,me(this,ue).set(J,Q);Y&&lt(this,ie,bi).call(this),Q instanceof B.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Q.constructor._type)}has(J){return me(this,ue).has(J)}getAll(){return me(this,ue).size>0?(0,O.objectFromMap)(me(this,ue)):null}setAll(J){for(const[Q,U]of Object.entries(J))this.setValue(Q,U)}get size(){return me(this,ue).size}resetModified(){me(this,ve)&&(_t(this,ve,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fe(this)}get serializable(){if(me(this,ue).size===0)return null;const J=new Map;for(const[Q,U]of me(this,ue)){const Y=U instanceof B.AnnotationEditor?U.serialize():U;Y&&J.set(Q,Y)}return J}static getHash(J){if(!J)return"";const Q=new $.MurmurHash3_64;for(const[U,Y]of J)Q.update(`${U}:${JSON.stringify(Y)}`);return Q.hexdigest()}}ve=new WeakMap,ue=new WeakMap,ie=new WeakSet,bi=function(){me(this,ve)||(_t(this,ve,!0),typeof this.onSetModified=="function"&&this.onSetModified())},R.AnnotationStorage=re;class fe extends re{constructor(Q){super();pt(this,ce,null);_t(this,ce,structuredClone(Q.serializable))}get print(){(0,O.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return me(this,ce)}}ce=new WeakMap,R.PrintAnnotationStorage=fe},(A,R,V)=>{var re,fe,ve,ue,ie,ye;Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationEditor=void 0;var O=V(5),B=V(1);const ce=class ce{constructor(J){pt(this,re,this.focusin.bind(this));pt(this,fe,this.focusout.bind(this));pt(this,ve,!1);pt(this,ue,!1);pt(this,ie,!1);dn(this,"_uiManager",null);pt(this,ye,ce._zIndex++);this.constructor===ce&&(0,B.unreachable)("Cannot initialize AnnotationEditor."),this.parent=J.parent,this.id=J.id,this.width=this.height=null,this.pageIndex=J.parent.pageIndex,this.name=J.name,this.div=null,this._uiManager=J.uiManager;const{rotation:Q,rawDims:{pageWidth:U,pageHeight:Y,pageX:ne,pageY:q}}=this.parent.viewport;this.rotation=Q,this.pageDimensions=[U,Y],this.pageTranslation=[ne,q];const[K,H]=this.parentDimensions;this.x=J.x/K,this.y=J.y/H,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,B.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(J){this._uiManager.addCommands(J)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=me(this,ye)}setParent(J){J!==null&&(this.pageIndex=J.pageIndex,this.pageDimensions=J.pageDimensions),this.parent=J}focusin(J){me(this,ve)?_t(this,ve,!1):this.parent.setSelected(this)}focusout(J){var U;if(!this.isAttachedToDOM)return;const Q=J.relatedTarget;Q!=null&&Q.closest(`#${this.id}`)||(J.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(J){const Q=this.parent.div.getBoundingClientRect();this.startX=J.clientX-Q.x,this.startY=J.clientY-Q.y,J.dataTransfer.setData("text/plain",this.id),J.dataTransfer.effectAllowed="move"}setAt(J,Q,U,Y){const[ne,q]=this.parentDimensions;[U,Y]=this.screenToPageTranslation(U,Y),this.x=(J+U)/ne,this.y=(Q+Y)/q,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(J,Q){const[U,Y]=this.parentDimensions;[J,Q]=this.screenToPageTranslation(J,Q),this.x+=J/U,this.y+=Q/Y,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(J,Q){switch(this.parentRotation){case 90:return[Q,-J];case 180:return[-J,-Q];case 270:return[-Q,J];default:return[J,Q]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:J}=this._uiManager.viewParameters,[Q,U]=this.pageDimensions;return[Q*J,U*J]}setDims(J,Q){const[U,Y]=this.parentDimensions;this.div.style.width=`${100*J/U}%`,this.div.style.height=`${100*Q/Y}%`}fixDims(){const{style:J}=this.div,{height:Q,width:U}=J,Y=U.endsWith("%"),ne=Q.endsWith("%");if(Y&&ne)return;const[q,K]=this.parentDimensions;Y||(J.width=`${100*parseFloat(U)/q}%`),ne||(J.height=`${100*parseFloat(Q)/K}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",me(this,re)),this.div.addEventListener("focusout",me(this,fe));const[J,Q]=this.getInitialTranslation();return this.translate(J,Q),(0,O.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(J){const{isMac:Q}=B.FeatureTest.platform;if(J.button!==0||J.ctrlKey&&Q){J.preventDefault();return}J.ctrlKey&&!Q||J.shiftKey||J.metaKey&&Q?this.parent.toggleSelected(this):this.parent.setSelected(this),_t(this,ve,!0)}getRect(J,Q){const U=this.parentScale,[Y,ne]=this.pageDimensions,[q,K]=this.pageTranslation,H=J/U,G=Q/U,de=this.x*Y,W=this.y*ne,ge=this.width*Y,Ee=this.height*ne;switch(this.rotation){case 0:return[de+H+q,ne-W-G-Ee+K,de+H+ge+q,ne-W-G+K];case 90:return[de+G+q,ne-W+H+K,de+G+Ee+q,ne-W+H+ge+K];case 180:return[de-H-ge+q,ne-W+G+K,de-H+q,ne-W+G+Ee+K];case 270:return[de-G-Ee+q,ne-W-H-ge+K,de-G+q,ne-W-H+K];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(J,Q){const[U,Y,ne,q]=J,K=ne-U,H=q-Y;switch(this.rotation){case 0:return[U,Q-q,K,H];case 90:return[U,Q-Y,H,K];case 180:return[ne,Q-Y,K,H];case 270:return[ne,Q-q,H,K];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_t(this,ie,!0)}disableEditMode(){_t(this,ie,!1)}isInEditMode(){return me(this,ie)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var J;(J=this.div)==null||J.addEventListener("focusin",me(this,re))}serialize(){(0,B.unreachable)("An editor must be serializable")}static deserialize(J,Q,U){const Y=new this.prototype.constructor({parent:Q,id:Q.getNextId(),uiManager:U});Y.rotation=J.rotation;const[ne,q]=Y.pageDimensions,[K,H,G,de]=Y.getRectInCurrentCoords(J.rect,q);return Y.x=K/ne,Y.y=H/q,Y.width=G/ne,Y.height=de/q,Y}remove(){this.div.removeEventListener("focusin",me(this,re)),this.div.removeEventListener("focusout",me(this,fe)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var J;(J=this.div)==null||J.classList.add("selectedEditor")}unselect(){var J;(J=this.div)==null||J.classList.remove("selectedEditor")}updateParams(J,Q){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return me(this,ue)}set isEditing(J){_t(this,ue,J),J?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};re=new WeakMap,fe=new WeakMap,ve=new WeakMap,ue=new WeakMap,ie=new WeakMap,ye=new WeakMap,dn(ce,"_colorManager",new O.ColorManager),dn(ce,"_zIndex",1);let $=ce;R.AnnotationEditor=$},(A,R,V)=>{var ce,ae,J,Q,U,Y,_i,K,H,G,de,W,ge,Ee,Te,Ke,ft,Ye,et,qe,Ne,Be,Qe,nt,Pe,se,te,pe,Ae,ke,Se,Ei,Lr,yi,Si,$n,sr,Ci,Ai,Dr,cr,Nr;Object.defineProperty(R,"__esModule",{value:!0}),R.KeyboardManager=R.CommandManager=R.ColorManager=R.AnnotationEditorUIManager=void 0,R.bindEvents=$,R.opacityToHex=re;var O=V(1),B=V(6);function $(Je,Ce,De){for(const Re of De)Ce.addEventListener(Re,Je[Re].bind(Je))}function re(Je){return Math.round(Math.min(255,Math.max(1,255*Je))).toString(16).padStart(2,"0")}class fe{constructor(){pt(this,ce,0)}getId(){return`${O.AnnotationEditorPrefix}${Fr(this,ce)._++}`}}ce=new WeakMap;class ve{constructor(Ce=128){pt(this,ae,[]);pt(this,J,!1);pt(this,Q);pt(this,U,-1);_t(this,Q,Ce)}add({cmd:Ce,undo:De,mustExec:Re,type:tt=NaN,overwriteIfSameType:ct=!1,keepUndo:gt=!1}){if(Re&&Ce(),me(this,J))return;const vt={cmd:Ce,undo:De,type:tt};if(me(this,U)===-1){me(this,ae).length>0&&(me(this,ae).length=0),_t(this,U,0),me(this,ae).push(vt);return}if(ct&&me(this,ae)[me(this,U)].type===tt){gt&&(vt.undo=me(this,ae)[me(this,U)].undo),me(this,ae)[me(this,U)]=vt;return}const At=me(this,U)+1;At===me(this,Q)?me(this,ae).splice(0,1):(_t(this,U,At),At<me(this,ae).length&&me(this,ae).splice(At)),me(this,ae).push(vt)}undo(){me(this,U)!==-1&&(_t(this,J,!0),me(this,ae)[me(this,U)].undo(),_t(this,J,!1),_t(this,U,me(this,U)-1))}redo(){me(this,U)<me(this,ae).length-1&&(_t(this,U,me(this,U)+1),_t(this,J,!0),me(this,ae)[me(this,U)].cmd(),_t(this,J,!1))}hasSomethingToUndo(){return me(this,U)!==-1}hasSomethingToRedo(){return me(this,U)<me(this,ae).length-1}destroy(){_t(this,ae,null)}}ae=new WeakMap,J=new WeakMap,Q=new WeakMap,U=new WeakMap,R.CommandManager=ve;class ue{constructor(Ce){pt(this,Y);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:De}=O.FeatureTest.platform;for(const[Re,tt]of Ce)for(const ct of Re){const gt=ct.startsWith("mac+");De&&gt?(this.callbacks.set(ct.slice(4),tt),this.allKeys.add(ct.split("+").at(-1))):!De&&!gt&&(this.callbacks.set(ct,tt),this.allKeys.add(ct.split("+").at(-1)))}}exec(Ce,De){if(!this.allKeys.has(De.key))return;const Re=this.callbacks.get(lt(this,Y,_i).call(this,De));Re&&(Re.bind(Ce)(),De.stopPropagation(),De.preventDefault())}}Y=new WeakSet,_i=function(Ce){Ce.altKey&&this.buffer.push("alt"),Ce.ctrlKey&&this.buffer.push("ctrl"),Ce.metaKey&&this.buffer.push("meta"),Ce.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ce.key);const De=this.buffer.join("+");return this.buffer.length=0,De},R.KeyboardManager=ue;const q=class q{get _colors(){const Ce=new Map([["CanvasText",null],["Canvas",null]]);return(0,B.getColorValues)(Ce),(0,O.shadow)(this,"_colors",Ce)}convert(Ce){const De=(0,B.getRGB)(Ce);if(!window.matchMedia("(forced-colors: active)").matches)return De;for(const[Re,tt]of this._colors)if(tt.every((ct,gt)=>ct===De[gt]))return q._colorsMapping.get(Re);return De}getHexCode(Ce){const De=this._colors.get(Ce);return De?O.Util.makeHexColor(...De):Ce}};dn(q,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ie=q;R.ColorManager=ie;const Le=class Le{constructor(Ce,De,Re){pt(this,Se);pt(this,K,null);pt(this,H,new Map);pt(this,G,new Map);pt(this,de,null);pt(this,W,new ve);pt(this,ge,0);pt(this,Ee,null);pt(this,Te,new Set);pt(this,Ke,null);pt(this,ft,new fe);pt(this,Ye,!1);pt(this,et,O.AnnotationEditorType.NONE);pt(this,qe,new Set);pt(this,Ne,this.copy.bind(this));pt(this,Be,this.cut.bind(this));pt(this,Qe,this.paste.bind(this));pt(this,nt,this.keydown.bind(this));pt(this,Pe,this.onEditingAction.bind(this));pt(this,se,this.onPageChanging.bind(this));pt(this,te,this.onScaleChanging.bind(this));pt(this,pe,this.onRotationChanging.bind(this));pt(this,Ae,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});pt(this,ke,null);_t(this,ke,Ce),_t(this,Ke,De),me(this,Ke)._on("editingaction",me(this,Pe)),me(this,Ke)._on("pagechanging",me(this,se)),me(this,Ke)._on("scalechanging",me(this,te)),me(this,Ke)._on("rotationchanging",me(this,pe)),_t(this,de,Re),this.viewParameters={realScale:B.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){lt(this,Se,Lr).call(this),me(this,Ke)._off("editingaction",me(this,Pe)),me(this,Ke)._off("pagechanging",me(this,se)),me(this,Ke)._off("scalechanging",me(this,te)),me(this,Ke)._off("rotationchanging",me(this,pe));for(const Ce of me(this,G).values())Ce.destroy();me(this,G).clear(),me(this,H).clear(),me(this,Te).clear(),_t(this,K,null),me(this,qe).clear(),me(this,W).destroy()}onPageChanging({pageNumber:Ce}){_t(this,ge,Ce-1)}focusMainContainer(){me(this,ke).focus()}addShouldRescale(Ce){me(this,Te).add(Ce)}removeShouldRescale(Ce){me(this,Te).delete(Ce)}onScaleChanging({scale:Ce}){this.commitOrRemove(),this.viewParameters.realScale=Ce*B.PixelsPerInch.PDF_TO_CSS_UNITS;for(const De of me(this,Te))De.onScaleChanging()}onRotationChanging({pagesRotation:Ce}){this.commitOrRemove(),this.viewParameters.rotation=Ce}addToAnnotationStorage(Ce){!Ce.isEmpty()&&me(this,de)&&!me(this,de).has(Ce.id)&&me(this,de).setValue(Ce.id,Ce)}copy(Ce){if(Ce.preventDefault(),me(this,K)&&me(this,K).commitOrRemove(),!this.hasSelection)return;const De=[];for(const Re of me(this,qe))Re.isEmpty()||De.push(Re.serialize());De.length!==0&&Ce.clipboardData.setData("application/pdfjs",JSON.stringify(De))}cut(Ce){this.copy(Ce),this.delete()}paste(Ce){Ce.preventDefault();let De=Ce.clipboardData.getData("application/pdfjs");if(!De)return;try{De=JSON.parse(De)}catch(tt){(0,O.warn)(`paste: "${tt.message}".`);return}if(!Array.isArray(De))return;this.unselectAll();const Re=me(this,G).get(me(this,ge));try{const tt=[];for(const vt of De){const At=Re.deserialize(vt);if(!At)return;tt.push(At)}const ct=()=>{for(const vt of tt)lt(this,Se,Dr).call(this,vt);lt(this,Se,Nr).call(this,tt)},gt=()=>{for(const vt of tt)vt.remove()};this.addCommands({cmd:ct,undo:gt,mustExec:!0})}catch(tt){(0,O.warn)(`paste: "${tt.message}".`)}}keydown(Ce){var De;(De=this.getActive())!=null&&De.shouldGetKeyboardEvents()||Le._keyboardManager.exec(this,Ce)}onEditingAction(Ce){["undo","redo","delete","selectAll"].includes(Ce.name)&&this[Ce.name]()}setEditingState(Ce){Ce?(lt(this,Se,Ei).call(this),lt(this,Se,yi).call(this),lt(this,Se,$n).call(this,{isEditing:me(this,et)!==O.AnnotationEditorType.NONE,isEmpty:lt(this,Se,cr).call(this),hasSomethingToUndo:me(this,W).hasSomethingToUndo(),hasSomethingToRedo:me(this,W).hasSomethingToRedo(),hasSelectedEditor:!1})):(lt(this,Se,Lr).call(this),lt(this,Se,Si).call(this),lt(this,Se,$n).call(this,{isEditing:!1}))}registerEditorTypes(Ce){if(!me(this,Ee)){_t(this,Ee,Ce);for(const De of me(this,Ee))lt(this,Se,sr).call(this,De.defaultPropertiesToUpdate)}}getId(){return me(this,ft).getId()}get currentLayer(){return me(this,G).get(me(this,ge))}get currentPageIndex(){return me(this,ge)}addLayer(Ce){me(this,G).set(Ce.pageIndex,Ce),me(this,Ye)?Ce.enable():Ce.disable()}removeLayer(Ce){me(this,G).delete(Ce.pageIndex)}updateMode(Ce){if(_t(this,et,Ce),Ce===O.AnnotationEditorType.NONE)this.setEditingState(!1),lt(this,Se,Ai).call(this);else{this.setEditingState(!0),lt(this,Se,Ci).call(this);for(const De of me(this,G).values())De.updateMode(Ce)}}updateToolbar(Ce){Ce!==me(this,et)&&me(this,Ke).dispatch("switchannotationeditormode",{source:this,mode:Ce})}updateParams(Ce,De){if(me(this,Ee)){for(const Re of me(this,qe))Re.updateParams(Ce,De);for(const Re of me(this,Ee))Re.updateDefaultParams(Ce,De)}}getEditors(Ce){const De=[];for(const Re of me(this,H).values())Re.pageIndex===Ce&&De.push(Re);return De}getEditor(Ce){return me(this,H).get(Ce)}addEditor(Ce){me(this,H).set(Ce.id,Ce)}removeEditor(Ce){var De;me(this,H).delete(Ce.id),this.unselect(Ce),(De=me(this,de))==null||De.remove(Ce.id)}setActiveEditor(Ce){me(this,K)!==Ce&&(_t(this,K,Ce),Ce&&lt(this,Se,sr).call(this,Ce.propertiesToUpdate))}toggleSelected(Ce){if(me(this,qe).has(Ce)){me(this,qe).delete(Ce),Ce.unselect(),lt(this,Se,$n).call(this,{hasSelectedEditor:this.hasSelection});return}me(this,qe).add(Ce),Ce.select(),lt(this,Se,sr).call(this,Ce.propertiesToUpdate),lt(this,Se,$n).call(this,{hasSelectedEditor:!0})}setSelected(Ce){for(const De of me(this,qe))De!==Ce&&De.unselect();me(this,qe).clear(),me(this,qe).add(Ce),Ce.select(),lt(this,Se,sr).call(this,Ce.propertiesToUpdate),lt(this,Se,$n).call(this,{hasSelectedEditor:!0})}isSelected(Ce){return me(this,qe).has(Ce)}unselect(Ce){Ce.unselect(),me(this,qe).delete(Ce),lt(this,Se,$n).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return me(this,qe).size!==0}undo(){me(this,W).undo(),lt(this,Se,$n).call(this,{hasSomethingToUndo:me(this,W).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:lt(this,Se,cr).call(this)})}redo(){me(this,W).redo(),lt(this,Se,$n).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:me(this,W).hasSomethingToRedo(),isEmpty:lt(this,Se,cr).call(this)})}addCommands(Ce){me(this,W).add(Ce),lt(this,Se,$n).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:lt(this,Se,cr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Ce=[...me(this,qe)],De=()=>{for(const tt of Ce)tt.remove()},Re=()=>{for(const tt of Ce)lt(this,Se,Dr).call(this,tt)};this.addCommands({cmd:De,undo:Re,mustExec:!0})}commitOrRemove(){var Ce;(Ce=me(this,K))==null||Ce.commitOrRemove()}selectAll(){for(const Ce of me(this,qe))Ce.commit();lt(this,Se,Nr).call(this,me(this,H).values())}unselectAll(){if(me(this,K)){me(this,K).commitOrRemove();return}if(me(this,qe).size!==0){for(const Ce of me(this,qe))Ce.unselect();me(this,qe).clear(),lt(this,Se,$n).call(this,{hasSelectedEditor:!1})}}isActive(Ce){return me(this,K)===Ce}getActive(){return me(this,K)}getMode(){return me(this,et)}};K=new WeakMap,H=new WeakMap,G=new WeakMap,de=new WeakMap,W=new WeakMap,ge=new WeakMap,Ee=new WeakMap,Te=new WeakMap,Ke=new WeakMap,ft=new WeakMap,Ye=new WeakMap,et=new WeakMap,qe=new WeakMap,Ne=new WeakMap,Be=new WeakMap,Qe=new WeakMap,nt=new WeakMap,Pe=new WeakMap,se=new WeakMap,te=new WeakMap,pe=new WeakMap,Ae=new WeakMap,ke=new WeakMap,Se=new WeakSet,Ei=function(){me(this,ke).addEventListener("keydown",me(this,nt))},Lr=function(){me(this,ke).removeEventListener("keydown",me(this,nt))},yi=function(){document.addEventListener("copy",me(this,Ne)),document.addEventListener("cut",me(this,Be)),document.addEventListener("paste",me(this,Qe))},Si=function(){document.removeEventListener("copy",me(this,Ne)),document.removeEventListener("cut",me(this,Be)),document.removeEventListener("paste",me(this,Qe))},$n=function(Ce){Object.entries(Ce).some(([Re,tt])=>me(this,Ae)[Re]!==tt)&&me(this,Ke).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(me(this,Ae),Ce)})},sr=function(Ce){me(this,Ke).dispatch("annotationeditorparamschanged",{source:this,details:Ce})},Ci=function(){if(!me(this,Ye)){_t(this,Ye,!0);for(const Ce of me(this,G).values())Ce.enable()}},Ai=function(){if(this.unselectAll(),me(this,Ye)){_t(this,Ye,!1);for(const Ce of me(this,G).values())Ce.disable()}},Dr=function(Ce){const De=me(this,G).get(Ce.pageIndex);De?De.addOrRebuild(Ce):this.addEditor(Ce)},cr=function(){if(me(this,H).size===0)return!0;if(me(this,H).size===1)for(const Ce of me(this,H).values())return Ce.isEmpty();return!1},Nr=function(Ce){me(this,qe).clear();for(const De of Ce)De.isEmpty()||(me(this,qe).add(De),De.select());lt(this,Se,$n).call(this,{hasSelectedEditor:!0})},dn(Le,"_keyboardManager",new ue([[["ctrl+a","mac+meta+a"],Le.prototype.selectAll],[["ctrl+z","mac+meta+z"],Le.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Le.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Le.prototype.delete],[["Escape","mac+Escape"],Le.prototype.unselectAll]]));let ye=Le;R.AnnotationEditorUIManager=ye},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.StatTimer=R.RenderingCancelledException=R.PixelsPerInch=R.PageViewport=R.PDFDateString=R.DOMStandardFontDataFactory=R.DOMSVGFactory=R.DOMCanvasFactory=R.DOMCMapReaderFactory=R.AnnotationPrefix=void 0,R.deprecated=G,R.getColorValues=Te,R.getCurrentTransform=Ke,R.getCurrentTransformInverse=ft,R.getFilenameFromUrl=Y,R.getPdfFilenameFromUrl=ne,R.getRGB=Ee,R.getXfaPageViewport=ge,R.isDataScheme=Q,R.isPdfFile=U,R.isValidFetchUrl=K,R.loadScript=H,R.setLayerDimensions=Ye;var O=V(7),B=V(1);const $="http://www.w3.org/2000/svg",re="pdfjs_internal_id_";R.AnnotationPrefix=re;const et=class et{};dn(et,"CSS",96),dn(et,"PDF",72),dn(et,"PDF_TO_CSS_UNITS",et.CSS/et.PDF);let fe=et;R.PixelsPerInch=fe;class ve extends O.BaseCanvasFactory{constructor({ownerDocument:Ne=globalThis.document}={}){super(),this._document=Ne}_createCanvas(Ne,Be){const Qe=this._document.createElement("canvas");return Qe.width=Ne,Qe.height=Be,Qe}}R.DOMCanvasFactory=ve;async function ue(qe,Ne=!1){if(K(qe,document.baseURI)){const Be=await fetch(qe);if(!Be.ok)throw new Error(Be.statusText);return Ne?new Uint8Array(await Be.arrayBuffer()):(0,B.stringToBytes)(await Be.text())}return new Promise((Be,Qe)=>{const nt=new XMLHttpRequest;nt.open("GET",qe,!0),Ne&&(nt.responseType="arraybuffer"),nt.onreadystatechange=()=>{if(nt.readyState===XMLHttpRequest.DONE){if(nt.status===200||nt.status===0){let Pe;if(Ne&&nt.response?Pe=new Uint8Array(nt.response):!Ne&&nt.responseText&&(Pe=(0,B.stringToBytes)(nt.responseText)),Pe){Be(Pe);return}}Qe(new Error(nt.statusText))}},nt.send(null)})}class ie extends O.BaseCMapReaderFactory{_fetchData(Ne,Be){return ue(Ne,this.isCompressed).then(Qe=>({cMapData:Qe,compressionType:Be}))}}R.DOMCMapReaderFactory=ie;class ye extends O.BaseStandardFontDataFactory{_fetchData(Ne){return ue(Ne,!0)}}R.DOMStandardFontDataFactory=ye;class ce extends O.BaseSVGFactory{_createSVG(Ne){return document.createElementNS($,Ne)}}R.DOMSVGFactory=ce;class ae{constructor({viewBox:Ne,scale:Be,rotation:Qe,offsetX:nt=0,offsetY:Pe=0,dontFlip:se=!1}){this.viewBox=Ne,this.scale=Be,this.rotation=Qe,this.offsetX=nt,this.offsetY=Pe;const te=(Ne[2]+Ne[0])/2,pe=(Ne[3]+Ne[1])/2;let Ae,ke,Se,je;switch(Qe%=360,Qe<0&&(Qe+=360),Qe){case 180:Ae=-1,ke=0,Se=0,je=1;break;case 90:Ae=0,ke=1,Se=1,je=0;break;case 270:Ae=0,ke=-1,Se=-1,je=0;break;case 0:Ae=1,ke=0,Se=0,je=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}se&&(Se=-Se,je=-je);let Ze,rt,We,ee;Ae===0?(Ze=Math.abs(pe-Ne[1])*Be+nt,rt=Math.abs(te-Ne[0])*Be+Pe,We=(Ne[3]-Ne[1])*Be,ee=(Ne[2]-Ne[0])*Be):(Ze=Math.abs(te-Ne[0])*Be+nt,rt=Math.abs(pe-Ne[1])*Be+Pe,We=(Ne[2]-Ne[0])*Be,ee=(Ne[3]-Ne[1])*Be),this.transform=[Ae*Be,ke*Be,Se*Be,je*Be,Ze-Ae*Be*te-Se*Be*pe,rt-ke*Be*te-je*Be*pe],this.width=We,this.height=ee}get rawDims(){const{viewBox:Ne}=this;return(0,B.shadow)(this,"rawDims",{pageWidth:Ne[2]-Ne[0],pageHeight:Ne[3]-Ne[1],pageX:Ne[0],pageY:Ne[1]})}clone({scale:Ne=this.scale,rotation:Be=this.rotation,offsetX:Qe=this.offsetX,offsetY:nt=this.offsetY,dontFlip:Pe=!1}={}){return new ae({viewBox:this.viewBox.slice(),scale:Ne,rotation:Be,offsetX:Qe,offsetY:nt,dontFlip:Pe})}convertToViewportPoint(Ne,Be){return B.Util.applyTransform([Ne,Be],this.transform)}convertToViewportRectangle(Ne){const Be=B.Util.applyTransform([Ne[0],Ne[1]],this.transform),Qe=B.Util.applyTransform([Ne[2],Ne[3]],this.transform);return[Be[0],Be[1],Qe[0],Qe[1]]}convertToPdfPoint(Ne,Be){return B.Util.applyInverseTransform([Ne,Be],this.transform)}}R.PageViewport=ae;class J extends B.BaseException{constructor(Ne,Be,Qe=0){super(Ne,"RenderingCancelledException"),this.type=Be,this.extraDelay=Qe}}R.RenderingCancelledException=J;function Q(qe){const Ne=qe.length;let Be=0;for(;Be<Ne&&qe[Be].trim()==="";)Be++;return qe.substring(Be,Be+5).toLowerCase()==="data:"}function U(qe){return typeof qe=="string"&&/\.pdf$/i.test(qe)}function Y(qe,Ne=!1){return Ne||([qe]=qe.split(/[#?]/,1)),qe.substring(qe.lastIndexOf("/")+1)}function ne(qe,Ne="document.pdf"){if(typeof qe!="string")return Ne;if(Q(qe))return(0,B.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ne;const Be=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Qe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,nt=Be.exec(qe);let Pe=Qe.exec(nt[1])||Qe.exec(nt[2])||Qe.exec(nt[3]);if(Pe&&(Pe=Pe[0],Pe.includes("%")))try{Pe=Qe.exec(decodeURIComponent(Pe))[0]}catch{}return Pe||Ne}class q{constructor(){dn(this,"started",Object.create(null));dn(this,"times",[])}time(Ne){Ne in this.started&&(0,B.warn)(`Timer is already running for ${Ne}`),this.started[Ne]=Date.now()}timeEnd(Ne){Ne in this.started||(0,B.warn)(`Timer has not been started for ${Ne}`),this.times.push({name:Ne,start:this.started[Ne],end:Date.now()}),delete this.started[Ne]}toString(){const Ne=[];let Be=0;for(const{name:Qe}of this.times)Be=Math.max(Qe.length,Be);for(const{name:Qe,start:nt,end:Pe}of this.times)Ne.push(`${Qe.padEnd(Be)} ${Pe-nt}ms
`);return Ne.join("")}}R.StatTimer=q;function K(qe,Ne){try{const{protocol:Be}=Ne?new URL(qe,Ne):new URL(qe);return Be==="http:"||Be==="https:"}catch{return!1}}function H(qe,Ne=!1){return new Promise((Be,Qe)=>{const nt=document.createElement("script");nt.src=qe,nt.onload=function(Pe){Ne&&nt.remove(),Be(Pe)},nt.onerror=function(){Qe(new Error(`Cannot load script at: ${nt.src}`))},(document.head||document.documentElement).append(nt)})}function G(qe){console.log("Deprecated API usage: "+qe)}let de;class W{static toDateObject(Ne){if(!Ne||typeof Ne!="string")return null;de||(de=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Be=de.exec(Ne);if(!Be)return null;const Qe=parseInt(Be[1],10);let nt=parseInt(Be[2],10);nt=nt>=1&&nt<=12?nt-1:0;let Pe=parseInt(Be[3],10);Pe=Pe>=1&&Pe<=31?Pe:1;let se=parseInt(Be[4],10);se=se>=0&&se<=23?se:0;let te=parseInt(Be[5],10);te=te>=0&&te<=59?te:0;let pe=parseInt(Be[6],10);pe=pe>=0&&pe<=59?pe:0;const Ae=Be[7]||"Z";let ke=parseInt(Be[8],10);ke=ke>=0&&ke<=23?ke:0;let Se=parseInt(Be[9],10)||0;return Se=Se>=0&&Se<=59?Se:0,Ae==="-"?(se+=ke,te+=Se):Ae==="+"&&(se-=ke,te-=Se),new Date(Date.UTC(Qe,nt,Pe,se,te,pe))}}R.PDFDateString=W;function ge(qe,{scale:Ne=1,rotation:Be=0}){const{width:Qe,height:nt}=qe.attributes.style,Pe=[0,0,parseInt(Qe),parseInt(nt)];return new ae({viewBox:Pe,scale:Ne,rotation:Be})}function Ee(qe){if(qe.startsWith("#")){const Ne=parseInt(qe.slice(1),16);return[(Ne&16711680)>>16,(Ne&65280)>>8,Ne&255]}return qe.startsWith("rgb(")?qe.slice(4,-1).split(",").map(Ne=>parseInt(Ne)):qe.startsWith("rgba(")?qe.slice(5,-1).split(",").map(Ne=>parseInt(Ne)).slice(0,3):((0,B.warn)(`Not a valid color format: "${qe}"`),[0,0,0])}function Te(qe){const Ne=document.createElement("span");Ne.style.visibility="hidden",document.body.append(Ne);for(const Be of qe.keys()){Ne.style.color=Be;const Qe=window.getComputedStyle(Ne).color;qe.set(Be,Ee(Qe))}Ne.remove()}function Ke(qe){const{a:Ne,b:Be,c:Qe,d:nt,e:Pe,f:se}=qe.getTransform();return[Ne,Be,Qe,nt,Pe,se]}function ft(qe){const{a:Ne,b:Be,c:Qe,d:nt,e:Pe,f:se}=qe.getTransform().invertSelf();return[Ne,Be,Qe,nt,Pe,se]}function Ye(qe,Ne,Be=!1,Qe=!0){if(Ne instanceof ae){const{pageWidth:nt,pageHeight:Pe}=Ne.rawDims,{style:se}=qe,te=`calc(var(--scale-factor) * ${nt}px)`,pe=`calc(var(--scale-factor) * ${Pe}px)`;!Be||Ne.rotation%180===0?(se.width=te,se.height=pe):(se.width=pe,se.height=te)}Qe&&qe.setAttribute("data-main-rotation",Ne.rotation)}},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.BaseStandardFontDataFactory=R.BaseSVGFactory=R.BaseCanvasFactory=R.BaseCMapReaderFactory=void 0;var O=V(1);class B{constructor(){this.constructor===B&&(0,O.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ue,ie){if(ue<=0||ie<=0)throw new Error("Invalid canvas size");const ye=this._createCanvas(ue,ie);return{canvas:ye,context:ye.getContext("2d")}}reset(ue,ie,ye){if(!ue.canvas)throw new Error("Canvas is not specified");if(ie<=0||ye<=0)throw new Error("Invalid canvas size");ue.canvas.width=ie,ue.canvas.height=ye}destroy(ue){if(!ue.canvas)throw new Error("Canvas is not specified");ue.canvas.width=0,ue.canvas.height=0,ue.canvas=null,ue.context=null}_createCanvas(ue,ie){(0,O.unreachable)("Abstract method `_createCanvas` called.")}}R.BaseCanvasFactory=B;class ${constructor({baseUrl:ue=null,isCompressed:ie=!0}){this.constructor===$&&(0,O.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ue,this.isCompressed=ie}async fetch({name:ue}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ue)throw new Error("CMap name must be specified.");const ie=this.baseUrl+ue+(this.isCompressed?".bcmap":""),ye=this.isCompressed?O.CMapCompressionType.BINARY:O.CMapCompressionType.NONE;return this._fetchData(ie,ye).catch(ce=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ie}`)})}_fetchData(ue,ie){(0,O.unreachable)("Abstract method `_fetchData` called.")}}R.BaseCMapReaderFactory=$;class re{constructor({baseUrl:ue=null}){this.constructor===re&&(0,O.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ue}async fetch({filename:ue}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ue)throw new Error("Font filename must be specified.");const ie=`${this.baseUrl}${ue}`;return this._fetchData(ie).catch(ye=>{throw new Error(`Unable to load font data at: ${ie}`)})}_fetchData(ue){(0,O.unreachable)("Abstract method `_fetchData` called.")}}R.BaseStandardFontDataFactory=re;class fe{constructor(){this.constructor===fe&&(0,O.unreachable)("Cannot initialize BaseSVGFactory.")}create(ue,ie,ye=!1){if(ue<=0||ie<=0)throw new Error("Invalid SVG dimensions");const ce=this._createSVG("svg:svg");return ce.setAttribute("version","1.1"),ye||(ce.setAttribute("width",`${ue}px`),ce.setAttribute("height",`${ie}px`)),ce.setAttribute("preserveAspectRatio","none"),ce.setAttribute("viewBox",`0 0 ${ue} ${ie}`),ce}createElement(ue){if(typeof ue!="string")throw new Error("Invalid SVG element type");return this._createSVG(ue)}_createSVG(ue){(0,O.unreachable)("Abstract method `_createSVG` called.")}}R.BaseSVGFactory=fe},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MurmurHash3_64=void 0;var O=V(1);const B=3285377520,$=4294901760,re=65535;class fe{constructor(ue){this.h1=ue?ue&4294967295:B,this.h2=ue?ue&4294967295:B}update(ue){let ie,ye;if(typeof ue=="string"){ie=new Uint8Array(ue.length*2),ye=0;for(let de=0,W=ue.length;de<W;de++){const ge=ue.charCodeAt(de);ge<=255?ie[ye++]=ge:(ie[ye++]=ge>>>8,ie[ye++]=ge&255)}}else if((0,O.isArrayBuffer)(ue))ie=ue.slice(),ye=ie.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ce=ye>>2,ae=ye-ce*4,J=new Uint32Array(ie.buffer,0,ce);let Q=0,U=0,Y=this.h1,ne=this.h2;const q=3432918353,K=461845907,H=q&re,G=K&re;for(let de=0;de<ce;de++)de&1?(Q=J[de],Q=Q*q&$|Q*H&re,Q=Q<<15|Q>>>17,Q=Q*K&$|Q*G&re,Y^=Q,Y=Y<<13|Y>>>19,Y=Y*5+3864292196):(U=J[de],U=U*q&$|U*H&re,U=U<<15|U>>>17,U=U*K&$|U*G&re,ne^=U,ne=ne<<13|ne>>>19,ne=ne*5+3864292196);switch(Q=0,ae){case 3:Q^=ie[ce*4+2]<<16;case 2:Q^=ie[ce*4+1]<<8;case 1:Q^=ie[ce*4],Q=Q*q&$|Q*H&re,Q=Q<<15|Q>>>17,Q=Q*K&$|Q*G&re,ce&1?Y^=Q:ne^=Q}this.h1=Y,this.h2=ne}hexdigest(){let ue=this.h1,ie=this.h2;return ue^=ie>>>1,ue=ue*3981806797&$|ue*36045&re,ie=ie*4283543511&$|((ie<<16|ue>>>16)*2950163797&$)>>>16,ue^=ie>>>1,ue=ue*444984403&$|ue*60499&re,ie=ie*3301882366&$|((ie<<16|ue>>>16)*3120437893&$)>>>16,ue^=ie>>>1,(ue>>>0).toString(16).padStart(8,"0")+(ie>>>0).toString(16).padStart(8,"0")}}R.MurmurHash3_64=fe},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.FontLoader=R.FontFaceObject=void 0;var O=V(1),B=V(10);class ${constructor({onUnsupportedFeature:ve,ownerDocument:ue=globalThis.document,styleElement:ie=null}){this._onUnsupportedFeature=ve,this._document=ue,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ve){this.nativeFontFaces.push(ve),this._document.fonts.add(ve)}insertRule(ve){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ue=this.styleElement.sheet;ue.insertRule(ve,ue.cssRules.length)}clear(){for(const ve of this.nativeFontFaces)this._document.fonts.delete(ve);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(ve){if(ve.attached||ve.missingFile)return;if(ve.attached=!0,this.isFontLoadingAPISupported){const ie=ve.createNativeFontFace();if(ie){this.addNativeFontFace(ie);try{await ie.loaded}catch(ye){throw this._onUnsupportedFeature({featureId:O.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,O.warn)(`Failed to load font '${ie.family}': '${ye}'.`),ve.disableFontFace=!0,ye}}return}const ue=ve.createFontFaceRule();if(ue){if(this.insertRule(ue),this.isSyncFontLoadingSupported)return;await new Promise(ie=>{const ye=this._queueLoadingCallback(ie);this._prepareFontLoadEvent(ve,ye)})}}get isFontLoadingAPISupported(){var ue;const ve=!!((ue=this._document)!=null&&ue.fonts);return(0,O.shadow)(this,"isFontLoadingAPISupported",ve)}get isSyncFontLoadingSupported(){let ve=!1;return(B.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ve=!0),(0,O.shadow)(this,"isSyncFontLoadingSupported",ve)}_queueLoadingCallback(ve){function ue(){for((0,O.assert)(!ye.done,"completeRequest() cannot be called twice."),ye.done=!0;ie.length>0&&ie[0].done;){const ce=ie.shift();setTimeout(ce.callback,0)}}const{loadingRequests:ie}=this,ye={done:!1,complete:ue,callback:ve};return ie.push(ye),ye}get _loadTestFont(){const ve=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,O.shadow)(this,"_loadTestFont",ve)}_prepareFontLoadEvent(ve,ue){function ie(Te,Ke){return Te.charCodeAt(Ke)<<24|Te.charCodeAt(Ke+1)<<16|Te.charCodeAt(Ke+2)<<8|Te.charCodeAt(Ke+3)&255}function ye(Te,Ke,ft,Ye){const et=Te.substring(0,Ke),qe=Te.substring(Ke+ft);return et+Ye+qe}let ce,ae;const J=this._document.createElement("canvas");J.width=1,J.height=1;const Q=J.getContext("2d");let U=0;function Y(Te,Ke){if(++U>30){(0,O.warn)("Load test font never loaded."),Ke();return}if(Q.font="30px "+Te,Q.fillText(".",0,20),Q.getImageData(0,0,1,1).data[3]>0){Ke();return}setTimeout(Y.bind(null,Te,Ke))}const ne=`lt${Date.now()}${this.loadTestFontId++}`;let q=this._loadTestFont;q=ye(q,976,ne.length,ne);const H=16,G=1482184792;let de=ie(q,H);for(ce=0,ae=ne.length-3;ce<ae;ce+=4)de=de-G+ie(ne,ce)|0;ce<ne.length&&(de=de-G+ie(ne+"XXX",ce)|0),q=ye(q,H,4,(0,O.string32)(de));const W=`url(data:font/opentype;base64,${btoa(q)});`,ge=`@font-face {font-family:"${ne}";src:${W}}`;this.insertRule(ge);const Ee=this._document.createElement("div");Ee.style.visibility="hidden",Ee.style.width=Ee.style.height="10px",Ee.style.position="absolute",Ee.style.top=Ee.style.left="0px";for(const Te of[ve.loadedName,ne]){const Ke=this._document.createElement("span");Ke.textContent="Hi",Ke.style.fontFamily=Te,Ee.append(Ke)}this._document.body.append(Ee),Y(ne,()=>{Ee.remove(),ue.complete()})}}R.FontLoader=$;class re{constructor(ve,{isEvalSupported:ue=!0,disableFontFace:ie=!1,ignoreErrors:ye=!1,onUnsupportedFeature:ce,fontRegistry:ae=null}){this.compiledGlyphs=Object.create(null);for(const J in ve)this[J]=ve[J];this.isEvalSupported=ue!==!1,this.disableFontFace=ie===!0,this.ignoreErrors=ye===!0,this._onUnsupportedFeature=ce,this.fontRegistry=ae}createNativeFontFace(){var ue;if(!this.data||this.disableFontFace)return null;let ve;if(!this.cssFontInfo)ve=new FontFace(this.loadedName,this.data,{});else{const ie={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ie.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ve=new FontFace(this.cssFontInfo.fontFamily,this.data,ie)}return(ue=this.fontRegistry)==null||ue.registerFont(this),ve}createFontFaceRule(){var ye;if(!this.data||this.disableFontFace)return null;const ve=(0,O.bytesToString)(this.data),ue=`url(data:${this.mimetype};base64,${btoa(ve)});`;let ie;if(!this.cssFontInfo)ie=`@font-face {font-family:"${this.loadedName}";src:${ue}}`;else{let ce=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ce+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ie=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ce}src:${ue}}`}return(ye=this.fontRegistry)==null||ye.registerFont(this,ue),ie}getPathGenerator(ve,ue){if(this.compiledGlyphs[ue]!==void 0)return this.compiledGlyphs[ue];let ie;try{ie=ve.get(this.loadedName+"_path_"+ue)}catch(ye){if(!this.ignoreErrors)throw ye;return this._onUnsupportedFeature({featureId:O.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,O.warn)(`getPathGenerator - ignoring character: "${ye}".`),this.compiledGlyphs[ue]=function(ce,ae){}}if(this.isEvalSupported&&O.FeatureTest.isEvalSupported){const ye=[];for(const ce of ie){const ae=ce.args!==void 0?ce.args.join(","):"";ye.push("c.",ce.cmd,"(",ae,`);
`)}return this.compiledGlyphs[ue]=new Function("c","size",ye.join(""))}return this.compiledGlyphs[ue]=function(ye,ce){for(const ae of ie)ae.cmd==="scale"&&(ae.args=[ce,-ce]),ye[ae.cmd].apply(ye,ae.args)}}}R.FontFaceObject=re},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.isNodeJS=void 0;const V=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");R.isNodeJS=V},(A,R,V)=>{var Be,jr;Object.defineProperty(R,"__esModule",{value:!0}),R.CanvasGraphics=void 0;var O=V(1),B=V(6),$=V(12),re=V(13);const fe=16,ve=100,ue=4096,ie=15,ye=10,ce=1e3,ae=16;function J(Pe,se){if(Pe._removeMirroring)throw new Error("Context is already forwarding operations.");Pe.__originalSave=Pe.save,Pe.__originalRestore=Pe.restore,Pe.__originalRotate=Pe.rotate,Pe.__originalScale=Pe.scale,Pe.__originalTranslate=Pe.translate,Pe.__originalTransform=Pe.transform,Pe.__originalSetTransform=Pe.setTransform,Pe.__originalResetTransform=Pe.resetTransform,Pe.__originalClip=Pe.clip,Pe.__originalMoveTo=Pe.moveTo,Pe.__originalLineTo=Pe.lineTo,Pe.__originalBezierCurveTo=Pe.bezierCurveTo,Pe.__originalRect=Pe.rect,Pe.__originalClosePath=Pe.closePath,Pe.__originalBeginPath=Pe.beginPath,Pe._removeMirroring=()=>{Pe.save=Pe.__originalSave,Pe.restore=Pe.__originalRestore,Pe.rotate=Pe.__originalRotate,Pe.scale=Pe.__originalScale,Pe.translate=Pe.__originalTranslate,Pe.transform=Pe.__originalTransform,Pe.setTransform=Pe.__originalSetTransform,Pe.resetTransform=Pe.__originalResetTransform,Pe.clip=Pe.__originalClip,Pe.moveTo=Pe.__originalMoveTo,Pe.lineTo=Pe.__originalLineTo,Pe.bezierCurveTo=Pe.__originalBezierCurveTo,Pe.rect=Pe.__originalRect,Pe.closePath=Pe.__originalClosePath,Pe.beginPath=Pe.__originalBeginPath,delete Pe._removeMirroring},Pe.save=function(){se.save(),this.__originalSave()},Pe.restore=function(){se.restore(),this.__originalRestore()},Pe.translate=function(pe,Ae){se.translate(pe,Ae),this.__originalTranslate(pe,Ae)},Pe.scale=function(pe,Ae){se.scale(pe,Ae),this.__originalScale(pe,Ae)},Pe.transform=function(pe,Ae,ke,Se,je,Ze){se.transform(pe,Ae,ke,Se,je,Ze),this.__originalTransform(pe,Ae,ke,Se,je,Ze)},Pe.setTransform=function(pe,Ae,ke,Se,je,Ze){se.setTransform(pe,Ae,ke,Se,je,Ze),this.__originalSetTransform(pe,Ae,ke,Se,je,Ze)},Pe.resetTransform=function(){se.resetTransform(),this.__originalResetTransform()},Pe.rotate=function(pe){se.rotate(pe),this.__originalRotate(pe)},Pe.clip=function(pe){se.clip(pe),this.__originalClip(pe)},Pe.moveTo=function(te,pe){se.moveTo(te,pe),this.__originalMoveTo(te,pe)},Pe.lineTo=function(te,pe){se.lineTo(te,pe),this.__originalLineTo(te,pe)},Pe.bezierCurveTo=function(te,pe,Ae,ke,Se,je){se.bezierCurveTo(te,pe,Ae,ke,Se,je),this.__originalBezierCurveTo(te,pe,Ae,ke,Se,je)},Pe.rect=function(te,pe,Ae,ke){se.rect(te,pe,Ae,ke),this.__originalRect(te,pe,Ae,ke)},Pe.closePath=function(){se.closePath(),this.__originalClosePath()},Pe.beginPath=function(){se.beginPath(),this.__originalBeginPath()}}class Q{constructor(se){this.canvasFactory=se,this.cache=Object.create(null)}getCanvas(se,te,pe){let Ae;return this.cache[se]!==void 0?(Ae=this.cache[se],this.canvasFactory.reset(Ae,te,pe)):(Ae=this.canvasFactory.create(te,pe),this.cache[se]=Ae),Ae}delete(se){delete this.cache[se]}clear(){for(const se in this.cache){const te=this.cache[se];this.canvasFactory.destroy(te),delete this.cache[se]}}}function U(Pe,se,te,pe,Ae,ke,Se,je,Ze,rt){const[We,ee,oe,be,_e,le]=(0,B.getCurrentTransform)(Pe);if(ee===0&&oe===0){const Le=Se*We+_e,Je=Math.round(Le),Ce=je*be+le,De=Math.round(Ce),Re=(Se+Ze)*We+_e,tt=Math.abs(Math.round(Re)-Je)||1,ct=(je+rt)*be+le,gt=Math.abs(Math.round(ct)-De)||1;return Pe.setTransform(Math.sign(We),0,0,Math.sign(be),Je,De),Pe.drawImage(se,te,pe,Ae,ke,0,0,tt,gt),Pe.setTransform(We,ee,oe,be,_e,le),[tt,gt]}if(We===0&&be===0){const Le=je*oe+_e,Je=Math.round(Le),Ce=Se*ee+le,De=Math.round(Ce),Re=(je+rt)*oe+_e,tt=Math.abs(Math.round(Re)-Je)||1,ct=(Se+Ze)*ee+le,gt=Math.abs(Math.round(ct)-De)||1;return Pe.setTransform(0,Math.sign(ee),Math.sign(oe),0,Je,De),Pe.drawImage(se,te,pe,Ae,ke,0,0,gt,tt),Pe.setTransform(We,ee,oe,be,_e,le),[gt,tt]}Pe.drawImage(se,te,pe,Ae,ke,Se,je,Ze,rt);const xe=Math.hypot(We,ee),Fe=Math.hypot(oe,be);return[xe*Ze,Fe*rt]}function Y(Pe){const{width:se,height:te}=Pe;if(se>ce||te>ce)return null;const pe=1e3,Ae=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ke=se+1;let Se=new Uint8Array(ke*(te+1)),je,Ze,rt;const We=se+7&-8;let ee=new Uint8Array(We*te),oe=0;for(const Fe of Pe.data){let Le=128;for(;Le>0;)ee[oe++]=Fe&Le?0:255,Le>>=1}let be=0;for(oe=0,ee[oe]!==0&&(Se[0]=1,++be),Ze=1;Ze<se;Ze++)ee[oe]!==ee[oe+1]&&(Se[Ze]=ee[oe]?2:1,++be),oe++;for(ee[oe]!==0&&(Se[Ze]=2,++be),je=1;je<te;je++){oe=je*We,rt=je*ke,ee[oe-We]!==ee[oe]&&(Se[rt]=ee[oe]?1:8,++be);let Fe=(ee[oe]?4:0)+(ee[oe-We]?8:0);for(Ze=1;Ze<se;Ze++)Fe=(Fe>>2)+(ee[oe+1]?4:0)+(ee[oe-We+1]?8:0),Ae[Fe]&&(Se[rt+Ze]=Ae[Fe],++be),oe++;if(ee[oe-We]!==ee[oe]&&(Se[rt+Ze]=ee[oe]?2:4,++be),be>pe)return null}for(oe=We*(te-1),rt=je*ke,ee[oe]!==0&&(Se[rt]=8,++be),Ze=1;Ze<se;Ze++)ee[oe]!==ee[oe+1]&&(Se[rt+Ze]=ee[oe]?4:8,++be),oe++;if(ee[oe]!==0&&(Se[rt+Ze]=4,++be),be>pe)return null;const _e=new Int32Array([0,ke,-1,0,-ke,0,0,0,1]),le=new Path2D;for(je=0;be&&je<=te;je++){let Fe=je*ke;const Le=Fe+se;for(;Fe<Le&&!Se[Fe];)Fe++;if(Fe===Le)continue;le.moveTo(Fe%ke,je);const Je=Fe;let Ce=Se[Fe];do{const De=_e[Ce];do Fe+=De;while(!Se[Fe]);const Re=Se[Fe];Re!==5&&Re!==10?(Ce=Re,Se[Fe]=0):(Ce=Re&51*Ce>>4,Se[Fe]&=Ce>>2|Ce<<2),le.lineTo(Fe%ke,Fe/ke|0),Se[Fe]||--be}while(Je!==Fe);--je}return ee=null,Se=null,function(Fe){Fe.save(),Fe.scale(1/se,-1/te),Fe.translate(0,-te),Fe.fill(le),Fe.beginPath(),Fe.restore()}}class ne{constructor(se,te){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=O.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=O.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,se,te])}clone(){const se=Object.create(this);return se.clipBox=this.clipBox.slice(),se}setCurrentPoint(se,te){this.x=se,this.y=te}updatePathMinMax(se,te,pe){[te,pe]=O.Util.applyTransform([te,pe],se),this.minX=Math.min(this.minX,te),this.minY=Math.min(this.minY,pe),this.maxX=Math.max(this.maxX,te),this.maxY=Math.max(this.maxY,pe)}updateRectMinMax(se,te){const pe=O.Util.applyTransform(te,se),Ae=O.Util.applyTransform(te.slice(2),se);this.minX=Math.min(this.minX,pe[0],Ae[0]),this.minY=Math.min(this.minY,pe[1],Ae[1]),this.maxX=Math.max(this.maxX,pe[0],Ae[0]),this.maxY=Math.max(this.maxY,pe[1],Ae[1])}updateScalingPathMinMax(se,te){O.Util.scaleMinMax(se,te),this.minX=Math.min(this.minX,te[0]),this.maxX=Math.max(this.maxX,te[1]),this.minY=Math.min(this.minY,te[2]),this.maxY=Math.max(this.maxY,te[3])}updateCurvePathMinMax(se,te,pe,Ae,ke,Se,je,Ze,rt,We){const ee=O.Util.bezierBoundingBox(te,pe,Ae,ke,Se,je,Ze,rt);if(We){We[0]=Math.min(We[0],ee[0],ee[2]),We[1]=Math.max(We[1],ee[0],ee[2]),We[2]=Math.min(We[2],ee[1],ee[3]),We[3]=Math.max(We[3],ee[1],ee[3]);return}this.updateRectMinMax(se,ee)}getPathBoundingBox(se=$.PathType.FILL,te=null){const pe=[this.minX,this.minY,this.maxX,this.maxY];if(se===$.PathType.STROKE){te||(0,O.unreachable)("Stroke bounding box must include transform.");const Ae=O.Util.singularValueDecompose2dScale(te),ke=Ae[0]*this.lineWidth/2,Se=Ae[1]*this.lineWidth/2;pe[0]-=ke,pe[1]-=Se,pe[2]+=ke,pe[3]+=Se}return pe}updateClipFromPath(){const se=O.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(se||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(se){this.clipBox=se,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(se=$.PathType.FILL,te=null){return O.Util.intersect(this.clipBox,this.getPathBoundingBox(se,te))}}function q(Pe,se,te=null){if(typeof ImageData<"u"&&se instanceof ImageData){Pe.putImageData(se,0,0);return}const pe=se.height,Ae=se.width,ke=pe%ae,Se=(pe-ke)/ae,je=ke===0?Se:Se+1,Ze=Pe.createImageData(Ae,ae);let rt=0,We;const ee=se.data,oe=Ze.data;let be,_e,le,xe,Fe,Le,Je,Ce;if(te)switch(te.length){case 1:Fe=te[0],Le=te[0],Je=te[0],Ce=te[0];break;case 4:Fe=te[0],Le=te[1],Je=te[2],Ce=te[3];break}if(se.kind===O.ImageKind.GRAYSCALE_1BPP){const De=ee.byteLength,Re=new Uint32Array(oe.buffer,0,oe.byteLength>>2),tt=Re.length,ct=Ae+7>>3;let gt=4294967295,vt=O.FeatureTest.isLittleEndian?4278190080:255;for(Ce&&Ce[0]===255&&Ce[255]===0&&([gt,vt]=[vt,gt]),be=0;be<je;be++){for(le=be<Se?ae:ke,We=0,_e=0;_e<le;_e++){const At=De-rt;let Gt=0;const Zt=At>ct?Ae:At*8-7,at=Zt&-8;let Ge=0,He=0;for(;Gt<at;Gt+=8)He=ee[rt++],Re[We++]=He&128?gt:vt,Re[We++]=He&64?gt:vt,Re[We++]=He&32?gt:vt,Re[We++]=He&16?gt:vt,Re[We++]=He&8?gt:vt,Re[We++]=He&4?gt:vt,Re[We++]=He&2?gt:vt,Re[We++]=He&1?gt:vt;for(;Gt<Zt;Gt++)Ge===0&&(He=ee[rt++],Ge=128),Re[We++]=He&Ge?gt:vt,Ge>>=1}for(;We<tt;)Re[We++]=0;Pe.putImageData(Ze,0,be*ae)}}else if(se.kind===O.ImageKind.RGBA_32BPP){const De=!!(Fe||Le||Je);for(_e=0,xe=Ae*ae*4,be=0;be<Se;be++){if(oe.set(ee.subarray(rt,rt+xe)),rt+=xe,De)for(let Re=0;Re<xe;Re+=4)Fe&&(oe[Re+0]=Fe[oe[Re+0]]),Le&&(oe[Re+1]=Le[oe[Re+1]]),Je&&(oe[Re+2]=Je[oe[Re+2]]);Pe.putImageData(Ze,0,_e),_e+=ae}if(be<je){if(xe=Ae*ke*4,oe.set(ee.subarray(rt,rt+xe)),De)for(let Re=0;Re<xe;Re+=4)Fe&&(oe[Re+0]=Fe[oe[Re+0]]),Le&&(oe[Re+1]=Le[oe[Re+1]]),Je&&(oe[Re+2]=Je[oe[Re+2]]);Pe.putImageData(Ze,0,_e)}}else if(se.kind===O.ImageKind.RGB_24BPP){const De=!!(Fe||Le||Je);for(le=ae,xe=Ae*le,be=0;be<je;be++){for(be>=Se&&(le=ke,xe=Ae*le),We=0,_e=xe;_e--;)oe[We++]=ee[rt++],oe[We++]=ee[rt++],oe[We++]=ee[rt++],oe[We++]=255;if(De)for(let Re=0;Re<We;Re+=4)Fe&&(oe[Re+0]=Fe[oe[Re+0]]),Le&&(oe[Re+1]=Le[oe[Re+1]]),Je&&(oe[Re+2]=Je[oe[Re+2]]);Pe.putImageData(Ze,0,be*ae)}}else throw new Error(`bad image kind: ${se.kind}`)}function K(Pe,se){if(se.bitmap){Pe.drawImage(se.bitmap,0,0);return}const te=se.height,pe=se.width,Ae=te%ae,ke=(te-Ae)/ae,Se=Ae===0?ke:ke+1,je=Pe.createImageData(pe,ae);let Ze=0;const rt=se.data,We=je.data;for(let ee=0;ee<Se;ee++){const oe=ee<ke?ae:Ae;({srcPos:Ze}=(0,re.applyMaskImageData)({src:rt,srcPos:Ze,dest:We,width:pe,height:oe})),Pe.putImageData(je,0,ee*ae)}}function H(Pe,se){const te=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const pe of te)Pe[pe]!==void 0&&(se[pe]=Pe[pe]);Pe.setLineDash!==void 0&&(se.setLineDash(Pe.getLineDash()),se.lineDashOffset=Pe.lineDashOffset)}function G(Pe,se){Pe.strokeStyle=Pe.fillStyle=se||"#000000",Pe.fillRule="nonzero",Pe.globalAlpha=1,Pe.lineWidth=1,Pe.lineCap="butt",Pe.lineJoin="miter",Pe.miterLimit=10,Pe.globalCompositeOperation="source-over",Pe.font="10px sans-serif",Pe.setLineDash!==void 0&&(Pe.setLineDash([]),Pe.lineDashOffset=0)}function de(Pe,se,te,pe){const Ae=Pe.length;for(let ke=3;ke<Ae;ke+=4){const Se=Pe[ke];if(Se===0)Pe[ke-3]=se,Pe[ke-2]=te,Pe[ke-1]=pe;else if(Se<255){const je=255-Se;Pe[ke-3]=Pe[ke-3]*Se+se*je>>8,Pe[ke-2]=Pe[ke-2]*Se+te*je>>8,Pe[ke-1]=Pe[ke-1]*Se+pe*je>>8}}}function W(Pe,se,te){const pe=Pe.length,Ae=1/255;for(let ke=3;ke<pe;ke+=4){const Se=te?te[Pe[ke]]:Pe[ke];se[ke]=se[ke]*Se*Ae|0}}function ge(Pe,se,te){const pe=Pe.length;for(let Ae=3;Ae<pe;Ae+=4){const ke=Pe[Ae-3]*77+Pe[Ae-2]*152+Pe[Ae-1]*28;se[Ae]=te?se[Ae]*te[ke>>8]>>8:se[Ae]*ke>>16}}function Ee(Pe,se,te,pe,Ae,ke,Se,je,Ze,rt,We){const ee=!!ke,oe=ee?ke[0]:0,be=ee?ke[1]:0,_e=ee?ke[2]:0;let le;Ae==="Luminosity"?le=ge:le=W;const Fe=Math.min(pe,Math.ceil(1048576/te));for(let Le=0;Le<pe;Le+=Fe){const Je=Math.min(Fe,pe-Le),Ce=Pe.getImageData(je-rt,Le+(Ze-We),te,Je),De=se.getImageData(je,Le+Ze,te,Je);ee&&de(Ce.data,oe,be,_e),le(Ce.data,De.data,Se),se.putImageData(De,je,Le+Ze)}}function Te(Pe,se,te,pe){const Ae=pe[0],ke=pe[1],Se=pe[2]-Ae,je=pe[3]-ke;Se===0||je===0||(Ee(se.context,te,Se,je,se.subtype,se.backdrop,se.transferMap,Ae,ke,se.offsetX,se.offsetY),Pe.save(),Pe.globalAlpha=1,Pe.globalCompositeOperation="source-over",Pe.setTransform(1,0,0,1,0,0),Pe.drawImage(te.canvas,0,0),Pe.restore())}function Ke(Pe,se){const te=O.Util.singularValueDecompose2dScale(Pe);te[0]=Math.fround(te[0]),te[1]=Math.fround(te[1]);const pe=Math.fround((globalThis.devicePixelRatio||1)*B.PixelsPerInch.PDF_TO_CSS_UNITS);return se!==void 0?se:te[0]<=pe||te[1]<=pe}const ft=["butt","round","square"],Ye=["miter","round","bevel"],et={},qe={},nt=class nt{constructor(se,te,pe,Ae,{optionalContentConfig:ke,markedContentStack:Se=null},je,Ze){pt(this,Be);this.ctx=se,this.current=new ne(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=te,this.objs=pe,this.canvasFactory=Ae,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Se||[],this.optionalContentConfig=ke,this.cachedCanvases=new Q(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=je,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ze==null?void 0:Ze.background)||null,this.foregroundColor=(Ze==null?void 0:Ze.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(se,te=null){return typeof se=="string"?se.startsWith("g_")?this.commonObjs.get(se):this.objs.get(se):te}beginDrawing({transform:se,viewport:te,transparency:pe=!1,background:Ae=null}){const ke=this.ctx.canvas.width,Se=this.ctx.canvas.height,je=Ae||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ze=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const rt=this.backgroundColor=this.ctx.fillStyle;let We=!0,ee=je;if(this.ctx.fillStyle=je,ee=this.ctx.fillStyle,We=typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee),Ze==="#000000"&&rt==="#ffffff"||Ze===rt||!We)this.foregroundColor=this.backgroundColor=null;else{const[oe,be,_e]=(0,B.getRGB)(ee),le=Fe=>(Fe/=255,Fe<=.03928?Fe/12.92:((Fe+.055)/1.055)**2.4),xe=Math.round(.2126*le(oe)+.7152*le(be)+.0722*le(_e));this.selectColor=(Fe,Le,Je)=>{const Ce=.2126*le(Fe)+.7152*le(Le)+.0722*le(Je);return Math.round(Ce)===xe?rt:Ze}}}if(this.ctx.fillStyle=this.backgroundColor||je,this.ctx.fillRect(0,0,ke,Se),this.ctx.restore(),pe){const Ze=this.cachedCanvases.getCanvas("transparent",ke,Se);this.compositeCtx=this.ctx,this.transparentCanvas=Ze.canvas,this.ctx=Ze.context,this.ctx.save(),this.ctx.transform(...(0,B.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),G(this.ctx,this.foregroundColor),se&&(this.ctx.transform(...se),this.outputScaleX=se[0],this.outputScaleY=se[0]),this.ctx.transform(...te.transform),this.viewportScale=te.scale,this.baseTransform=(0,B.getCurrentTransform)(this.ctx)}executeOperatorList(se,te,pe,Ae){const ke=se.argsArray,Se=se.fnArray;let je=te||0;const Ze=ke.length;if(Ze===je)return je;const rt=Ze-je>ye&&typeof pe=="function",We=rt?Date.now()+ie:0;let ee=0;const oe=this.commonObjs,be=this.objs;let _e;for(;;){if(Ae!==void 0&&je===Ae.nextBreakPoint)return Ae.breakIt(je,pe),je;if(_e=Se[je],_e!==O.OPS.dependency)this[_e].apply(this,ke[je]);else for(const le of ke[je]){const xe=le.startsWith("g_")?oe:be;if(!xe.has(le))return xe.get(le,pe),je}if(je++,je===Ze)return je;if(rt&&++ee>ye){if(Date.now()>We)return pe(),je;ee=0}}}endDrawing(){lt(this,Be,jr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const se of this._cachedBitmapsMap.values()){for(const te of se.values())typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement&&(te.width=te.height=0);se.clear()}this._cachedBitmapsMap.clear()}_scaleImage(se,te){const pe=se.width,Ae=se.height;let ke=Math.max(Math.hypot(te[0],te[1]),1),Se=Math.max(Math.hypot(te[2],te[3]),1),je=pe,Ze=Ae,rt="prescale1",We,ee;for(;ke>2&&je>1||Se>2&&Ze>1;){let oe=je,be=Ze;ke>2&&je>1&&(oe=Math.ceil(je/2),ke/=je/oe),Se>2&&Ze>1&&(be=Math.ceil(Ze/2),Se/=Ze/be),We=this.cachedCanvases.getCanvas(rt,oe,be),ee=We.context,ee.clearRect(0,0,oe,be),ee.drawImage(se,0,0,je,Ze,0,0,oe,be),se=We.canvas,je=oe,Ze=be,rt=rt==="prescale1"?"prescale2":"prescale1"}return{img:se,paintWidth:je,paintHeight:Ze}}_createMaskCanvas(se){const te=this.ctx,{width:pe,height:Ae}=se,ke=this.current.fillColor,Se=this.current.patternFill,je=(0,B.getCurrentTransform)(te);let Ze,rt,We,ee;if((se.bitmap||se.data)&&se.count>1){const tt=se.bitmap||se.data.buffer;rt=JSON.stringify(Se?je:[je.slice(0,4),ke]),Ze=this._cachedBitmapsMap.get(tt),Ze||(Ze=new Map,this._cachedBitmapsMap.set(tt,Ze));const ct=Ze.get(rt);if(ct&&!Se){const gt=Math.round(Math.min(je[0],je[2])+je[4]),vt=Math.round(Math.min(je[1],je[3])+je[5]);return{canvas:ct,offsetX:gt,offsetY:vt}}We=ct}We||(ee=this.cachedCanvases.getCanvas("maskCanvas",pe,Ae),K(ee.context,se));let oe=O.Util.transform(je,[1/pe,0,0,-1/Ae,0,0]);oe=O.Util.transform(oe,[1,0,0,1,0,-Ae]);const be=O.Util.applyTransform([0,0],oe),_e=O.Util.applyTransform([pe,Ae],oe),le=O.Util.normalizeRect([be[0],be[1],_e[0],_e[1]]),xe=Math.round(le[2]-le[0])||1,Fe=Math.round(le[3]-le[1])||1,Le=this.cachedCanvases.getCanvas("fillCanvas",xe,Fe),Je=Le.context,Ce=Math.min(be[0],_e[0]),De=Math.min(be[1],_e[1]);Je.translate(-Ce,-De),Je.transform(...oe),We||(We=this._scaleImage(ee.canvas,(0,B.getCurrentTransformInverse)(Je)),We=We.img,Ze&&Se&&Ze.set(rt,We)),Je.imageSmoothingEnabled=Ke((0,B.getCurrentTransform)(Je),se.interpolate),U(Je,We,0,0,We.width,We.height,0,0,pe,Ae),Je.globalCompositeOperation="source-in";const Re=O.Util.transform((0,B.getCurrentTransformInverse)(Je),[1,0,0,1,-Ce,-De]);return Je.fillStyle=Se?ke.getPattern(te,this,Re,$.PathType.FILL):ke,Je.fillRect(0,0,pe,Ae),Ze&&!Se&&(this.cachedCanvases.delete("fillCanvas"),Ze.set(rt,Le.canvas)),{canvas:Le.canvas,offsetX:Math.round(Ce),offsetY:Math.round(De)}}setLineWidth(se){se!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=se,this.ctx.lineWidth=se}setLineCap(se){this.ctx.lineCap=ft[se]}setLineJoin(se){this.ctx.lineJoin=Ye[se]}setMiterLimit(se){this.ctx.miterLimit=se}setDash(se,te){const pe=this.ctx;pe.setLineDash!==void 0&&(pe.setLineDash(se),pe.lineDashOffset=te)}setRenderingIntent(se){}setFlatness(se){}setGState(se){for(const[te,pe]of se)switch(te){case"LW":this.setLineWidth(pe);break;case"LC":this.setLineCap(pe);break;case"LJ":this.setLineJoin(pe);break;case"ML":this.setMiterLimit(pe);break;case"D":this.setDash(pe[0],pe[1]);break;case"RI":this.setRenderingIntent(pe);break;case"FL":this.setFlatness(pe);break;case"Font":this.setFont(pe[0],pe[1]);break;case"CA":this.current.strokeAlpha=pe;break;case"ca":this.current.fillAlpha=pe,this.ctx.globalAlpha=pe;break;case"BM":this.ctx.globalCompositeOperation=pe;break;case"SMask":this.current.activeSMask=pe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=pe}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const se=this.inSMaskMode;this.current.activeSMask&&!se?this.beginSMaskMode():!this.current.activeSMask&&se&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const se=this.ctx.canvas.width,te=this.ctx.canvas.height,pe="smaskGroupAt"+this.groupLevel,Ae=this.cachedCanvases.getCanvas(pe,se,te);this.suspendedCtx=this.ctx,this.ctx=Ae.context;const ke=this.ctx;ke.setTransform(...(0,B.getCurrentTransform)(this.suspendedCtx)),H(this.suspendedCtx,ke),J(ke,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),H(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(se){if(!this.current.activeSMask)return;se?(se[0]=Math.floor(se[0]),se[1]=Math.floor(se[1]),se[2]=Math.ceil(se[2]),se[3]=Math.ceil(se[3])):se=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const te=this.current.activeSMask,pe=this.suspendedCtx;Te(pe,te,this.ctx,se),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(H(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const se=this.current;this.stateStack.push(se),this.current=se.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),H(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(se,te,pe,Ae,ke,Se){this.ctx.transform(se,te,pe,Ae,ke,Se),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(se,te,pe){const Ae=this.ctx,ke=this.current;let Se=ke.x,je=ke.y,Ze,rt;const We=(0,B.getCurrentTransform)(Ae),ee=We[0]===0&&We[3]===0||We[1]===0&&We[2]===0,oe=ee?pe.slice(0):null;for(let be=0,_e=0,le=se.length;be<le;be++)switch(se[be]|0){case O.OPS.rectangle:Se=te[_e++],je=te[_e++];const xe=te[_e++],Fe=te[_e++],Le=Se+xe,Je=je+Fe;Ae.moveTo(Se,je),xe===0||Fe===0?Ae.lineTo(Le,Je):(Ae.lineTo(Le,je),Ae.lineTo(Le,Je),Ae.lineTo(Se,Je)),ee||ke.updateRectMinMax(We,[Se,je,Le,Je]),Ae.closePath();break;case O.OPS.moveTo:Se=te[_e++],je=te[_e++],Ae.moveTo(Se,je),ee||ke.updatePathMinMax(We,Se,je);break;case O.OPS.lineTo:Se=te[_e++],je=te[_e++],Ae.lineTo(Se,je),ee||ke.updatePathMinMax(We,Se,je);break;case O.OPS.curveTo:Ze=Se,rt=je,Se=te[_e+4],je=te[_e+5],Ae.bezierCurveTo(te[_e],te[_e+1],te[_e+2],te[_e+3],Se,je),ke.updateCurvePathMinMax(We,Ze,rt,te[_e],te[_e+1],te[_e+2],te[_e+3],Se,je,oe),_e+=6;break;case O.OPS.curveTo2:Ze=Se,rt=je,Ae.bezierCurveTo(Se,je,te[_e],te[_e+1],te[_e+2],te[_e+3]),ke.updateCurvePathMinMax(We,Ze,rt,Se,je,te[_e],te[_e+1],te[_e+2],te[_e+3],oe),Se=te[_e+2],je=te[_e+3],_e+=4;break;case O.OPS.curveTo3:Ze=Se,rt=je,Se=te[_e+2],je=te[_e+3],Ae.bezierCurveTo(te[_e],te[_e+1],Se,je,Se,je),ke.updateCurvePathMinMax(We,Ze,rt,te[_e],te[_e+1],Se,je,Se,je,oe),_e+=4;break;case O.OPS.closePath:Ae.closePath();break}ee&&ke.updateScalingPathMinMax(We,oe),ke.setCurrentPoint(Se,je)}closePath(){this.ctx.closePath()}stroke(se=!0){const te=this.ctx,pe=this.current.strokeColor;te.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof pe=="object"&&(pe!=null&&pe.getPattern)?(te.save(),te.strokeStyle=pe.getPattern(te,this,(0,B.getCurrentTransformInverse)(te),$.PathType.STROKE),this.rescaleAndStroke(!1),te.restore()):this.rescaleAndStroke(!0)),se&&this.consumePath(this.current.getClippedPathBoundingBox()),te.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(se=!0){const te=this.ctx,pe=this.current.fillColor,Ae=this.current.patternFill;let ke=!1;Ae&&(te.save(),te.fillStyle=pe.getPattern(te,this,(0,B.getCurrentTransformInverse)(te),$.PathType.FILL),ke=!0);const Se=this.current.getClippedPathBoundingBox();this.contentVisible&&Se!==null&&(this.pendingEOFill?(te.fill("evenodd"),this.pendingEOFill=!1):te.fill()),ke&&te.restore(),se&&this.consumePath(Se)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=et}eoClip(){this.pendingClip=qe}beginText(){this.current.textMatrix=O.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const se=this.pendingTextPaths,te=this.ctx;if(se===void 0){te.beginPath();return}te.save(),te.beginPath();for(const pe of se)te.setTransform(...pe.transform),te.translate(pe.x,pe.y),pe.addToPath(te,pe.fontSize);te.restore(),te.clip(),te.beginPath(),delete this.pendingTextPaths}setCharSpacing(se){this.current.charSpacing=se}setWordSpacing(se){this.current.wordSpacing=se}setHScale(se){this.current.textHScale=se/100}setLeading(se){this.current.leading=-se}setFont(se,te){const pe=this.commonObjs.get(se),Ae=this.current;if(!pe)throw new Error(`Can't find font for ${se}`);if(Ae.fontMatrix=pe.fontMatrix||O.FONT_IDENTITY_MATRIX,(Ae.fontMatrix[0]===0||Ae.fontMatrix[3]===0)&&(0,O.warn)("Invalid font matrix for font "+se),te<0?(te=-te,Ae.fontDirection=-1):Ae.fontDirection=1,this.current.font=pe,this.current.fontSize=te,pe.isType3Font)return;const ke=pe.loadedName||"sans-serif";let Se="normal";pe.black?Se="900":pe.bold&&(Se="bold");const je=pe.italic?"italic":"normal",Ze=`"${ke}", ${pe.fallbackName}`;let rt=te;te<fe?rt=fe:te>ve&&(rt=ve),this.current.fontSizeScale=te/rt,this.ctx.font=`${je} ${Se} ${rt}px ${Ze}`}setTextRenderingMode(se){this.current.textRenderingMode=se}setTextRise(se){this.current.textRise=se}moveText(se,te){this.current.x=this.current.lineX+=se,this.current.y=this.current.lineY+=te}setLeadingMoveText(se,te){this.setLeading(-te),this.moveText(se,te)}setTextMatrix(se,te,pe,Ae,ke,Se){this.current.textMatrix=[se,te,pe,Ae,ke,Se],this.current.textMatrixScale=Math.hypot(se,te),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(se,te,pe,Ae){const ke=this.ctx,Se=this.current,je=Se.font,Ze=Se.textRenderingMode,rt=Se.fontSize/Se.fontSizeScale,We=Ze&O.TextRenderingMode.FILL_STROKE_MASK,ee=!!(Ze&O.TextRenderingMode.ADD_TO_PATH_FLAG),oe=Se.patternFill&&!je.missingFile;let be;(je.disableFontFace||ee||oe)&&(be=je.getPathGenerator(this.commonObjs,se)),je.disableFontFace||oe?(ke.save(),ke.translate(te,pe),ke.beginPath(),be(ke,rt),Ae&&ke.setTransform(...Ae),(We===O.TextRenderingMode.FILL||We===O.TextRenderingMode.FILL_STROKE)&&ke.fill(),(We===O.TextRenderingMode.STROKE||We===O.TextRenderingMode.FILL_STROKE)&&ke.stroke(),ke.restore()):((We===O.TextRenderingMode.FILL||We===O.TextRenderingMode.FILL_STROKE)&&ke.fillText(se,te,pe),(We===O.TextRenderingMode.STROKE||We===O.TextRenderingMode.FILL_STROKE)&&ke.strokeText(se,te,pe)),ee&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,B.getCurrentTransform)(ke),x:te,y:pe,fontSize:rt,addToPath:be})}get isFontSubpixelAAEnabled(){const{context:se}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);se.scale(1.5,1),se.fillText("I",0,10);const te=se.getImageData(0,0,10,10).data;let pe=!1;for(let Ae=3;Ae<te.length;Ae+=4)if(te[Ae]>0&&te[Ae]<255){pe=!0;break}return(0,O.shadow)(this,"isFontSubpixelAAEnabled",pe)}showText(se){const te=this.current,pe=te.font;if(pe.isType3Font)return this.showType3Text(se);const Ae=te.fontSize;if(Ae===0)return;const ke=this.ctx,Se=te.fontSizeScale,je=te.charSpacing,Ze=te.wordSpacing,rt=te.fontDirection,We=te.textHScale*rt,ee=se.length,oe=pe.vertical,be=oe?1:-1,_e=pe.defaultVMetrics,le=Ae*te.fontMatrix[0],xe=te.textRenderingMode===O.TextRenderingMode.FILL&&!pe.disableFontFace&&!te.patternFill;ke.save(),ke.transform(...te.textMatrix),ke.translate(te.x,te.y+te.textRise),rt>0?ke.scale(We,-1):ke.scale(We,1);let Fe;if(te.patternFill){ke.save();const Re=te.fillColor.getPattern(ke,this,(0,B.getCurrentTransformInverse)(ke),$.PathType.FILL);Fe=(0,B.getCurrentTransform)(ke),ke.restore(),ke.fillStyle=Re}let Le=te.lineWidth;const Je=te.textMatrixScale;if(Je===0||Le===0){const Re=te.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;(Re===O.TextRenderingMode.STROKE||Re===O.TextRenderingMode.FILL_STROKE)&&(Le=this.getSinglePixelWidth())}else Le/=Je;if(Se!==1&&(ke.scale(Se,Se),Le/=Se),ke.lineWidth=Le,pe.isInvalidPDFjsFont){const Re=[];let tt=0;for(const ct of se)Re.push(ct.unicode),tt+=ct.width;ke.fillText(Re.join(""),0,0),te.x+=tt*le*We,ke.restore(),this.compose();return}let Ce=0,De;for(De=0;De<ee;++De){const Re=se[De];if(typeof Re=="number"){Ce+=be*Re*Ae/1e3;continue}let tt=!1;const ct=(Re.isSpace?Ze:0)+je,gt=Re.fontChar,vt=Re.accent;let At,Gt,Zt=Re.width;if(oe){const Ge=Re.vmetric||_e,He=-(Re.vmetric?Ge[1]:Zt*.5)*le,bt=Ge[2]*le;Zt=Ge?-Ge[0]:Zt,At=He/Se,Gt=(Ce+bt)/Se}else At=Ce/Se,Gt=0;if(pe.remeasure&&Zt>0){const Ge=ke.measureText(gt).width*1e3/Ae*Se;if(Zt<Ge&&this.isFontSubpixelAAEnabled){const He=Zt/Ge;tt=!0,ke.save(),ke.scale(He,1),At/=He}else Zt!==Ge&&(At+=(Zt-Ge)/2e3*Ae/Se)}if(this.contentVisible&&(Re.isInFont||pe.missingFile)){if(xe&&!vt)ke.fillText(gt,At,Gt);else if(this.paintChar(gt,At,Gt,Fe),vt){const Ge=At+Ae*vt.offset.x/Se,He=Gt-Ae*vt.offset.y/Se;this.paintChar(vt.fontChar,Ge,He,Fe)}}let at;oe?at=Zt*le-ct*rt:at=Zt*le+ct*rt,Ce+=at,tt&&ke.restore()}oe?te.y-=Ce:te.x+=Ce*We,ke.restore(),this.compose()}showType3Text(se){const te=this.ctx,pe=this.current,Ae=pe.font,ke=pe.fontSize,Se=pe.fontDirection,je=Ae.vertical?1:-1,Ze=pe.charSpacing,rt=pe.wordSpacing,We=pe.textHScale*Se,ee=pe.fontMatrix||O.FONT_IDENTITY_MATRIX,oe=se.length,be=pe.textRenderingMode===O.TextRenderingMode.INVISIBLE;let _e,le,xe,Fe;if(!(be||ke===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,te.save(),te.transform(...pe.textMatrix),te.translate(pe.x,pe.y),te.scale(We,Se),_e=0;_e<oe;++_e){if(le=se[_e],typeof le=="number"){Fe=je*le*ke/1e3,this.ctx.translate(Fe,0),pe.x+=Fe*We;continue}const Le=(le.isSpace?rt:0)+Ze,Je=Ae.charProcOperatorList[le.operatorListId];if(!Je){(0,O.warn)(`Type3 character "${le.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=le,this.save(),te.scale(ke,ke),te.transform(...ee),this.executeOperatorList(Je),this.restore()),xe=O.Util.applyTransform([le.width,0],ee)[0]*ke+Le,te.translate(xe,0),pe.x+=xe*We}te.restore(),this.processingType3=null}}setCharWidth(se,te){}setCharWidthAndBounds(se,te,pe,Ae,ke,Se){this.ctx.rect(pe,Ae,ke-pe,Se-Ae),this.ctx.clip(),this.endPath()}getColorN_Pattern(se){let te;if(se[0]==="TilingPattern"){const pe=se[1],Ae=this.baseTransform||(0,B.getCurrentTransform)(this.ctx),ke={createCanvasGraphics:Se=>new nt(Se,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};te=new $.TilingPattern(se,pe,this.ctx,ke,Ae)}else te=this._getPattern(se[1],se[2]);return te}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(se,te,pe){var ke;const Ae=((ke=this.selectColor)==null?void 0:ke.call(this,se,te,pe))||O.Util.makeHexColor(se,te,pe);this.ctx.strokeStyle=Ae,this.current.strokeColor=Ae}setFillRGBColor(se,te,pe){var ke;const Ae=((ke=this.selectColor)==null?void 0:ke.call(this,se,te,pe))||O.Util.makeHexColor(se,te,pe);this.ctx.fillStyle=Ae,this.current.fillColor=Ae,this.current.patternFill=!1}_getPattern(se,te=null){let pe;return this.cachedPatterns.has(se)?pe=this.cachedPatterns.get(se):(pe=(0,$.getShadingPattern)(this.objs.get(se)),this.cachedPatterns.set(se,pe)),te&&(pe.matrix=te),pe}shadingFill(se){if(!this.contentVisible)return;const te=this.ctx;this.save();const pe=this._getPattern(se);te.fillStyle=pe.getPattern(te,this,(0,B.getCurrentTransformInverse)(te),$.PathType.SHADING);const Ae=(0,B.getCurrentTransformInverse)(te);if(Ae){const ke=te.canvas,Se=ke.width,je=ke.height,Ze=O.Util.applyTransform([0,0],Ae),rt=O.Util.applyTransform([0,je],Ae),We=O.Util.applyTransform([Se,0],Ae),ee=O.Util.applyTransform([Se,je],Ae),oe=Math.min(Ze[0],rt[0],We[0],ee[0]),be=Math.min(Ze[1],rt[1],We[1],ee[1]),_e=Math.max(Ze[0],rt[0],We[0],ee[0]),le=Math.max(Ze[1],rt[1],We[1],ee[1]);this.ctx.fillRect(oe,be,_e-oe,le-be)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,O.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,O.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(se,te){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(se)&&se.length===6&&this.transform(...se),this.baseTransform=(0,B.getCurrentTransform)(this.ctx),te)){const pe=te[2]-te[0],Ae=te[3]-te[1];this.ctx.rect(te[0],te[1],pe,Ae),this.current.updateRectMinMax((0,B.getCurrentTransform)(this.ctx),te),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(se){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const te=this.ctx;se.isolated||(0,O.info)("TODO: Support non-isolated groups."),se.knockout&&(0,O.warn)("Knockout groups not supported.");const pe=(0,B.getCurrentTransform)(te);if(se.matrix&&te.transform(...se.matrix),!se.bbox)throw new Error("Bounding box is required.");let Ae=O.Util.getAxialAlignedBoundingBox(se.bbox,(0,B.getCurrentTransform)(te));const ke=[0,0,te.canvas.width,te.canvas.height];Ae=O.Util.intersect(Ae,ke)||[0,0,0,0];const Se=Math.floor(Ae[0]),je=Math.floor(Ae[1]);let Ze=Math.max(Math.ceil(Ae[2])-Se,1),rt=Math.max(Math.ceil(Ae[3])-je,1),We=1,ee=1;Ze>ue&&(We=Ze/ue,Ze=ue),rt>ue&&(ee=rt/ue,rt=ue),this.current.startNewPathAndClipBox([0,0,Ze,rt]);let oe="groupAt"+this.groupLevel;se.smask&&(oe+="_smask_"+this.smaskCounter++%2);const be=this.cachedCanvases.getCanvas(oe,Ze,rt),_e=be.context;_e.scale(1/We,1/ee),_e.translate(-Se,-je),_e.transform(...pe),se.smask?this.smaskStack.push({canvas:be.canvas,context:_e,offsetX:Se,offsetY:je,scaleX:We,scaleY:ee,subtype:se.smask.subtype,backdrop:se.smask.backdrop,transferMap:se.smask.transferMap||null,startTransformInverse:null}):(te.setTransform(1,0,0,1,0,0),te.translate(Se,je),te.scale(We,ee),te.save()),H(te,_e),this.ctx=_e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(te),this.groupLevel++}endGroup(se){if(!this.contentVisible)return;this.groupLevel--;const te=this.ctx,pe=this.groupStack.pop();if(this.ctx=pe,this.ctx.imageSmoothingEnabled=!1,se.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Ae=(0,B.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Ae);const ke=O.Util.getAxialAlignedBoundingBox([0,0,te.canvas.width,te.canvas.height],Ae);this.ctx.drawImage(te.canvas,0,0),this.ctx.restore(),this.compose(ke)}}beginAnnotation(se,te,pe,Ae,ke){if(lt(this,Be,jr).call(this),G(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(te)&&te.length===4){const Se=te[2]-te[0],je=te[3]-te[1];if(ke&&this.annotationCanvasMap){pe=pe.slice(),pe[4]-=te[0],pe[5]-=te[1],te=te.slice(),te[0]=te[1]=0,te[2]=Se,te[3]=je;const[Ze,rt]=O.Util.singularValueDecompose2dScale((0,B.getCurrentTransform)(this.ctx)),{viewportScale:We}=this,ee=Math.ceil(Se*this.outputScaleX*We),oe=Math.ceil(je*this.outputScaleY*We);this.annotationCanvas=this.canvasFactory.create(ee,oe);const{canvas:be,context:_e}=this.annotationCanvas;this.annotationCanvasMap.set(se,be),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_e,this.ctx.setTransform(Ze,0,0,-rt,0,je*rt),G(this.ctx,this.foregroundColor)}else G(this.ctx,this.foregroundColor),this.ctx.rect(te[0],te[1],Se,je),this.ctx.clip(),this.endPath()}this.current=new ne(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...pe),this.transform(...Ae)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(se){if(!this.contentVisible)return;const te=se.count;se=this.getObject(se.data,se),se.count=te;const pe=this.ctx,Ae=this.processingType3;if(Ae&&(Ae.compiled===void 0&&(Ae.compiled=Y(se)),Ae.compiled)){Ae.compiled(pe);return}const ke=this._createMaskCanvas(se),Se=ke.canvas;pe.save(),pe.setTransform(1,0,0,1,0,0),pe.drawImage(Se,ke.offsetX,ke.offsetY),pe.restore(),this.compose()}paintImageMaskXObjectRepeat(se,te,pe=0,Ae=0,ke,Se){if(!this.contentVisible)return;se=this.getObject(se.data,se);const je=this.ctx;je.save();const Ze=(0,B.getCurrentTransform)(je);je.transform(te,pe,Ae,ke,0,0);const rt=this._createMaskCanvas(se);je.setTransform(1,0,0,1,rt.offsetX-Ze[4],rt.offsetY-Ze[5]);for(let We=0,ee=Se.length;We<ee;We+=2){const oe=O.Util.transform(Ze,[te,pe,Ae,ke,Se[We],Se[We+1]]),[be,_e]=O.Util.applyTransform([0,0],oe);je.drawImage(rt.canvas,be,_e)}je.restore(),this.compose()}paintImageMaskXObjectGroup(se){if(!this.contentVisible)return;const te=this.ctx,pe=this.current.fillColor,Ae=this.current.patternFill;for(const ke of se){const{data:Se,width:je,height:Ze,transform:rt}=ke,We=this.cachedCanvases.getCanvas("maskCanvas",je,Ze),ee=We.context;ee.save();const oe=this.getObject(Se,ke);K(ee,oe),ee.globalCompositeOperation="source-in",ee.fillStyle=Ae?pe.getPattern(ee,this,(0,B.getCurrentTransformInverse)(te),$.PathType.FILL):pe,ee.fillRect(0,0,je,Ze),ee.restore(),te.save(),te.transform(...rt),te.scale(1,-1),U(te,We.canvas,0,0,je,Ze,0,-1,1,1),te.restore()}this.compose()}paintImageXObject(se){if(!this.contentVisible)return;const te=this.getObject(se);if(!te){(0,O.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(te)}paintImageXObjectRepeat(se,te,pe,Ae){if(!this.contentVisible)return;const ke=this.getObject(se);if(!ke){(0,O.warn)("Dependent image isn't ready yet");return}const Se=ke.width,je=ke.height,Ze=[];for(let rt=0,We=Ae.length;rt<We;rt+=2)Ze.push({transform:[te,0,0,pe,Ae[rt],Ae[rt+1]],x:0,y:0,w:Se,h:je});this.paintInlineImageXObjectGroup(ke,Ze)}paintInlineImageXObject(se){if(!this.contentVisible)return;const te=se.width,pe=se.height,Ae=this.ctx;this.save(),Ae.scale(1/te,-1/pe);let ke;if(typeof HTMLElement=="function"&&se instanceof HTMLElement||!se.data)ke=se;else{const je=this.cachedCanvases.getCanvas("inlineImage",te,pe),Ze=je.context;q(Ze,se,this.current.transferMaps),ke=je.canvas}const Se=this._scaleImage(ke,(0,B.getCurrentTransformInverse)(Ae));Ae.imageSmoothingEnabled=Ke((0,B.getCurrentTransform)(Ae),se.interpolate),U(Ae,Se.img,0,0,Se.paintWidth,Se.paintHeight,0,-pe,te,pe),this.compose(),this.restore()}paintInlineImageXObjectGroup(se,te){if(!this.contentVisible)return;const pe=this.ctx,Ae=se.width,ke=se.height,Se=this.cachedCanvases.getCanvas("inlineImage",Ae,ke),je=Se.context;q(je,se,this.current.transferMaps);for(const Ze of te)pe.save(),pe.transform(...Ze.transform),pe.scale(1,-1),U(pe,Se.canvas,Ze.x,Ze.y,Ze.w,Ze.h,0,-1,1,1),pe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(se){}markPointProps(se,te){}beginMarkedContent(se){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(se,te){se==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(te)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(se){const te=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(se);const pe=this.ctx;this.pendingClip&&(te||(this.pendingClip===qe?pe.clip("evenodd"):pe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),pe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const se=(0,B.getCurrentTransform)(this.ctx);if(se[1]===0&&se[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(se[0]),Math.abs(se[3]));else{const te=Math.abs(se[0]*se[3]-se[2]*se[1]),pe=Math.hypot(se[0],se[2]),Ae=Math.hypot(se[1],se[3]);this._cachedGetSinglePixelWidth=Math.max(pe,Ae)/te}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:se}=this.current,te=(0,B.getCurrentTransform)(this.ctx);let pe,Ae;if(te[1]===0&&te[2]===0){const ke=Math.abs(te[0]),Se=Math.abs(te[3]);if(se===0)pe=1/ke,Ae=1/Se;else{const je=ke*se,Ze=Se*se;pe=je<1?1/je:1,Ae=Ze<1?1/Ze:1}}else{const ke=Math.abs(te[0]*te[3]-te[2]*te[1]),Se=Math.hypot(te[0],te[1]),je=Math.hypot(te[2],te[3]);if(se===0)pe=je/ke,Ae=Se/ke;else{const Ze=se*ke;pe=je>Ze?je/Ze:1,Ae=Se>Ze?Se/Ze:1}}this._cachedScaleForStroking=[pe,Ae]}return this._cachedScaleForStroking}rescaleAndStroke(se){const{ctx:te}=this,{lineWidth:pe}=this.current,[Ae,ke]=this.getScaleForStroking();if(te.lineWidth=pe||1,Ae===1&&ke===1){te.stroke();return}let Se,je,Ze;se&&(Se=(0,B.getCurrentTransform)(te),je=te.getLineDash().slice(),Ze=te.lineDashOffset),te.scale(Ae,ke);const rt=Math.max(Ae,ke);te.setLineDash(te.getLineDash().map(We=>We/rt)),te.lineDashOffset/=rt,te.stroke(),se&&(te.setTransform(...Se),te.setLineDash(je),te.lineDashOffset=Ze)}isContentVisible(){for(let se=this.markedContentStack.length-1;se>=0;se--)if(!this.markedContentStack[se].visible)return!1;return!0}};Be=new WeakSet,jr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Ne=nt;R.CanvasGraphics=Ne;for(const Pe in O.OPS)Ne.prototype[Pe]!==void 0&&(Ne.prototype[O.OPS[Pe]]=Ne.prototype[Pe])},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.TilingPattern=R.PathType=void 0,R.getShadingPattern=ae;var O=V(1),B=V(6);const $={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};R.PathType=$;function re(U,Y){if(!Y)return;const ne=Y[2]-Y[0],q=Y[3]-Y[1],K=new Path2D;K.rect(Y[0],Y[1],ne,q),U.clip(K)}class fe{constructor(){this.constructor===fe&&(0,O.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,O.unreachable)("Abstract method `getPattern` called.")}}class ve extends fe{constructor(Y){super(),this._type=Y[1],this._bbox=Y[2],this._colorStops=Y[3],this._p0=Y[4],this._p1=Y[5],this._r0=Y[6],this._r1=Y[7],this.matrix=null}_createGradient(Y){let ne;this._type==="axial"?ne=Y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ne=Y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const q of this._colorStops)ne.addColorStop(q[0],q[1]);return ne}getPattern(Y,ne,q,K){let H;if(K===$.STROKE||K===$.FILL){const G=ne.current.getClippedPathBoundingBox(K,(0,B.getCurrentTransform)(Y))||[0,0,0,0],de=Math.ceil(G[2]-G[0])||1,W=Math.ceil(G[3]-G[1])||1,ge=ne.cachedCanvases.getCanvas("pattern",de,W,!0),Ee=ge.context;Ee.clearRect(0,0,Ee.canvas.width,Ee.canvas.height),Ee.beginPath(),Ee.rect(0,0,Ee.canvas.width,Ee.canvas.height),Ee.translate(-G[0],-G[1]),q=O.Util.transform(q,[1,0,0,1,G[0],G[1]]),Ee.transform(...ne.baseTransform),this.matrix&&Ee.transform(...this.matrix),re(Ee,this._bbox),Ee.fillStyle=this._createGradient(Ee),Ee.fill(),H=Y.createPattern(ge.canvas,"no-repeat");const Te=new DOMMatrix(q);H.setTransform(Te)}else re(Y,this._bbox),H=this._createGradient(Y);return H}}function ue(U,Y,ne,q,K,H,G,de){const W=Y.coords,ge=Y.colors,Ee=U.data,Te=U.width*4;let Ke;W[ne+1]>W[q+1]&&(Ke=ne,ne=q,q=Ke,Ke=H,H=G,G=Ke),W[q+1]>W[K+1]&&(Ke=q,q=K,K=Ke,Ke=G,G=de,de=Ke),W[ne+1]>W[q+1]&&(Ke=ne,ne=q,q=Ke,Ke=H,H=G,G=Ke);const ft=(W[ne]+Y.offsetX)*Y.scaleX,Ye=(W[ne+1]+Y.offsetY)*Y.scaleY,et=(W[q]+Y.offsetX)*Y.scaleX,qe=(W[q+1]+Y.offsetY)*Y.scaleY,Ne=(W[K]+Y.offsetX)*Y.scaleX,Be=(W[K+1]+Y.offsetY)*Y.scaleY;if(Ye>=Be)return;const Qe=ge[H],nt=ge[H+1],Pe=ge[H+2],se=ge[G],te=ge[G+1],pe=ge[G+2],Ae=ge[de],ke=ge[de+1],Se=ge[de+2],je=Math.round(Ye),Ze=Math.round(Be);let rt,We,ee,oe,be,_e,le,xe;for(let Fe=je;Fe<=Ze;Fe++){if(Fe<qe){let Re;Fe<Ye?Re=0:Re=(Ye-Fe)/(Ye-qe),rt=ft-(ft-et)*Re,We=Qe-(Qe-se)*Re,ee=nt-(nt-te)*Re,oe=Pe-(Pe-pe)*Re}else{let Re;Fe>Be?Re=1:qe===Be?Re=0:Re=(qe-Fe)/(qe-Be),rt=et-(et-Ne)*Re,We=se-(se-Ae)*Re,ee=te-(te-ke)*Re,oe=pe-(pe-Se)*Re}let Le;Fe<Ye?Le=0:Fe>Be?Le=1:Le=(Ye-Fe)/(Ye-Be),be=ft-(ft-Ne)*Le,_e=Qe-(Qe-Ae)*Le,le=nt-(nt-ke)*Le,xe=Pe-(Pe-Se)*Le;const Je=Math.round(Math.min(rt,be)),Ce=Math.round(Math.max(rt,be));let De=Te*Fe+Je*4;for(let Re=Je;Re<=Ce;Re++)Le=(rt-Re)/(rt-be),Le<0?Le=0:Le>1&&(Le=1),Ee[De++]=We-(We-_e)*Le|0,Ee[De++]=ee-(ee-le)*Le|0,Ee[De++]=oe-(oe-xe)*Le|0,Ee[De++]=255}}function ie(U,Y,ne){const q=Y.coords,K=Y.colors;let H,G;switch(Y.type){case"lattice":const de=Y.verticesPerRow,W=Math.floor(q.length/de)-1,ge=de-1;for(H=0;H<W;H++){let Ee=H*de;for(let Te=0;Te<ge;Te++,Ee++)ue(U,ne,q[Ee],q[Ee+1],q[Ee+de],K[Ee],K[Ee+1],K[Ee+de]),ue(U,ne,q[Ee+de+1],q[Ee+1],q[Ee+de],K[Ee+de+1],K[Ee+1],K[Ee+de])}break;case"triangles":for(H=0,G=q.length;H<G;H+=3)ue(U,ne,q[H],q[H+1],q[H+2],K[H],K[H+1],K[H+2]);break;default:throw new Error("illegal figure")}}class ye extends fe{constructor(Y){super(),this._coords=Y[2],this._colors=Y[3],this._figures=Y[4],this._bounds=Y[5],this._bbox=Y[7],this._background=Y[8],this.matrix=null}_createMeshCanvas(Y,ne,q){const de=Math.floor(this._bounds[0]),W=Math.floor(this._bounds[1]),ge=Math.ceil(this._bounds[2])-de,Ee=Math.ceil(this._bounds[3])-W,Te=Math.min(Math.ceil(Math.abs(ge*Y[0]*1.1)),3e3),Ke=Math.min(Math.ceil(Math.abs(Ee*Y[1]*1.1)),3e3),ft=ge/Te,Ye=Ee/Ke,et={coords:this._coords,colors:this._colors,offsetX:-de,offsetY:-W,scaleX:1/ft,scaleY:1/Ye},qe=Te+2*2,Ne=Ke+2*2,Be=q.getCanvas("mesh",qe,Ne,!1),Qe=Be.context,nt=Qe.createImageData(Te,Ke);if(ne){const se=nt.data;for(let te=0,pe=se.length;te<pe;te+=4)se[te]=ne[0],se[te+1]=ne[1],se[te+2]=ne[2],se[te+3]=255}for(const se of this._figures)ie(nt,se,et);return Qe.putImageData(nt,2,2),{canvas:Be.canvas,offsetX:de-2*ft,offsetY:W-2*Ye,scaleX:ft,scaleY:Ye}}getPattern(Y,ne,q,K){re(Y,this._bbox);let H;if(K===$.SHADING)H=O.Util.singularValueDecompose2dScale((0,B.getCurrentTransform)(Y));else if(H=O.Util.singularValueDecompose2dScale(ne.baseTransform),this.matrix){const de=O.Util.singularValueDecompose2dScale(this.matrix);H=[H[0]*de[0],H[1]*de[1]]}const G=this._createMeshCanvas(H,K===$.SHADING?null:this._background,ne.cachedCanvases);return K!==$.SHADING&&(Y.setTransform(...ne.baseTransform),this.matrix&&Y.transform(...this.matrix)),Y.translate(G.offsetX,G.offsetY),Y.scale(G.scaleX,G.scaleY),Y.createPattern(G.canvas,"no-repeat")}}class ce extends fe{getPattern(){return"hotpink"}}function ae(U){switch(U[0]){case"RadialAxial":return new ve(U);case"Mesh":return new ye(U);case"Dummy":return new ce}throw new Error(`Unknown IR type: ${U[0]}`)}const J={COLORED:1,UNCOLORED:2};class Q{static get MAX_PATTERN_SIZE(){return(0,O.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(Y,ne,q,K,H){this.operatorList=Y[2],this.matrix=Y[3]||[1,0,0,1,0,0],this.bbox=Y[4],this.xstep=Y[5],this.ystep=Y[6],this.paintType=Y[7],this.tilingType=Y[8],this.color=ne,this.ctx=q,this.canvasGraphicsFactory=K,this.baseTransform=H}createPatternCanvas(Y){const ne=this.operatorList,q=this.bbox,K=this.xstep,H=this.ystep,G=this.paintType,de=this.tilingType,W=this.color,ge=this.canvasGraphicsFactory;(0,O.info)("TilingType: "+de);const Ee=q[0],Te=q[1],Ke=q[2],ft=q[3],Ye=O.Util.singularValueDecompose2dScale(this.matrix),et=O.Util.singularValueDecompose2dScale(this.baseTransform),qe=[Ye[0]*et[0],Ye[1]*et[1]],Ne=this.getSizeAndScale(K,this.ctx.canvas.width,qe[0]),Be=this.getSizeAndScale(H,this.ctx.canvas.height,qe[1]),Qe=Y.cachedCanvases.getCanvas("pattern",Ne.size,Be.size,!0),nt=Qe.context,Pe=ge.createCanvasGraphics(nt);Pe.groupLevel=Y.groupLevel,this.setFillAndStrokeStyleToContext(Pe,G,W);let se=Ee,te=Te,pe=Ke,Ae=ft;return Ee<0&&(se=0,pe+=Math.abs(Ee)),Te<0&&(te=0,Ae+=Math.abs(Te)),nt.translate(-(Ne.scale*se),-(Be.scale*te)),Pe.transform(Ne.scale,0,0,Be.scale,0,0),nt.save(),this.clipBbox(Pe,se,te,pe,Ae),Pe.baseTransform=(0,B.getCurrentTransform)(Pe.ctx),Pe.executeOperatorList(ne),Pe.endDrawing(),{canvas:Qe.canvas,scaleX:Ne.scale,scaleY:Be.scale,offsetX:se,offsetY:te}}getSizeAndScale(Y,ne,q){Y=Math.abs(Y);const K=Math.max(Q.MAX_PATTERN_SIZE,ne);let H=Math.ceil(Y*q);return H>=K?H=K:q=H/Y,{scale:q,size:H}}clipBbox(Y,ne,q,K,H){const G=K-ne,de=H-q;Y.ctx.rect(ne,q,G,de),Y.current.updateRectMinMax((0,B.getCurrentTransform)(Y.ctx),[ne,q,K,H]),Y.clip(),Y.endPath()}setFillAndStrokeStyleToContext(Y,ne,q){const K=Y.ctx,H=Y.current;switch(ne){case J.COLORED:const G=this.ctx;K.fillStyle=G.fillStyle,K.strokeStyle=G.strokeStyle,H.fillColor=G.fillStyle,H.strokeColor=G.strokeStyle;break;case J.UNCOLORED:const de=O.Util.makeHexColor(q[0],q[1],q[2]);K.fillStyle=de,K.strokeStyle=de,H.fillColor=de,H.strokeColor=de;break;default:throw new O.FormatError(`Unsupported paint type: ${ne}`)}}getPattern(Y,ne,q,K){let H=q;K!==$.SHADING&&(H=O.Util.transform(H,ne.baseTransform),this.matrix&&(H=O.Util.transform(H,this.matrix)));const G=this.createPatternCanvas(ne);let de=new DOMMatrix(H);de=de.translate(G.offsetX,G.offsetY),de=de.scale(1/G.scaleX,1/G.scaleY);const W=Y.createPattern(G.canvas,"repeat");return W.setTransform(de),W}}R.TilingPattern=Q},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.applyMaskImageData=B;var O=V(1);function B({src:$,srcPos:re=0,dest:fe,destPos:ve=0,width:ue,height:ie,inverseDecode:ye=!1}){const ce=O.FeatureTest.isLittleEndian?4278190080:255,[ae,J]=ye?[0,ce]:[ce,0],Q=ue>>3,U=ue&7,Y=$.length;fe=new Uint32Array(fe.buffer);for(let ne=0;ne<ie;ne++){for(const K=re+Q;re<K;re++){const H=re<Y?$[re]:255;fe[ve++]=H&128?J:ae,fe[ve++]=H&64?J:ae,fe[ve++]=H&32?J:ae,fe[ve++]=H&16?J:ae,fe[ve++]=H&8?J:ae,fe[ve++]=H&4?J:ae,fe[ve++]=H&2?J:ae,fe[ve++]=H&1?J:ae}if(U===0)continue;const q=re<Y?$[re++]:255;for(let K=0;K<U;K++)fe[ve++]=q&1<<7-K?J:ae}return{srcPos:re,destPos:ve}}},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.GlobalWorkerOptions=void 0;const V=Object.create(null);R.GlobalWorkerOptions=V,V.workerPort=null,V.workerSrc=""},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.MessageHandler=void 0;var O=V(1);const B={UNKNOWN:0,DATA:1,ERROR:2},$={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function re(ve){switch(ve instanceof Error||typeof ve=="object"&&ve!==null||(0,O.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ve.name){case"AbortException":return new O.AbortException(ve.message);case"MissingPDFException":return new O.MissingPDFException(ve.message);case"PasswordException":return new O.PasswordException(ve.message,ve.code);case"UnexpectedResponseException":return new O.UnexpectedResponseException(ve.message,ve.status);case"UnknownErrorException":return new O.UnknownErrorException(ve.message,ve.details);default:return new O.UnknownErrorException(ve.message,ve.toString())}}class fe{constructor(ue,ie,ye){this.sourceName=ue,this.targetName=ie,this.comObj=ye,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ce=>{const ae=ce.data;if(ae.targetName!==this.sourceName)return;if(ae.stream){this._processStreamMessage(ae);return}if(ae.callback){const Q=ae.callbackId,U=this.callbackCapabilities[Q];if(!U)throw new Error(`Cannot resolve callback ${Q}`);if(delete this.callbackCapabilities[Q],ae.callback===B.DATA)U.resolve(ae.data);else if(ae.callback===B.ERROR)U.reject(re(ae.reason));else throw new Error("Unexpected callback case");return}const J=this.actionHandler[ae.action];if(!J)throw new Error(`Unknown action from worker: ${ae.action}`);if(ae.callbackId){const Q=this.sourceName,U=ae.sourceName;new Promise(function(Y){Y(J(ae.data))}).then(function(Y){ye.postMessage({sourceName:Q,targetName:U,callback:B.DATA,callbackId:ae.callbackId,data:Y})},function(Y){ye.postMessage({sourceName:Q,targetName:U,callback:B.ERROR,callbackId:ae.callbackId,reason:re(Y)})});return}if(ae.streamId){this._createStreamSink(ae);return}J(ae.data)},ye.addEventListener("message",this._onComObjOnMessage)}on(ue,ie){const ye=this.actionHandler;if(ye[ue])throw new Error(`There is already an actionName called "${ue}"`);ye[ue]=ie}send(ue,ie,ye){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ue,data:ie},ye)}sendWithPromise(ue,ie,ye){const ce=this.callbackId++,ae=(0,O.createPromiseCapability)();this.callbackCapabilities[ce]=ae;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ue,callbackId:ce,data:ie},ye)}catch(J){ae.reject(J)}return ae.promise}sendWithStream(ue,ie,ye,ce){const ae=this.streamId++,J=this.sourceName,Q=this.targetName,U=this.comObj;return new ReadableStream({start:Y=>{const ne=(0,O.createPromiseCapability)();return this.streamControllers[ae]={controller:Y,startCall:ne,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:J,targetName:Q,action:ue,streamId:ae,data:ie,desiredSize:Y.desiredSize},ce),ne.promise},pull:Y=>{const ne=(0,O.createPromiseCapability)();return this.streamControllers[ae].pullCall=ne,U.postMessage({sourceName:J,targetName:Q,stream:$.PULL,streamId:ae,desiredSize:Y.desiredSize}),ne.promise},cancel:Y=>{(0,O.assert)(Y instanceof Error,"cancel must have a valid reason");const ne=(0,O.createPromiseCapability)();return this.streamControllers[ae].cancelCall=ne,this.streamControllers[ae].isClosed=!0,U.postMessage({sourceName:J,targetName:Q,stream:$.CANCEL,streamId:ae,reason:re(Y)}),ne.promise}},ye)}_createStreamSink(ue){const ie=ue.streamId,ye=this.sourceName,ce=ue.sourceName,ae=this.comObj,J=this,Q=this.actionHandler[ue.action],U={enqueue(Y,ne=1,q){if(this.isCancelled)return;const K=this.desiredSize;this.desiredSize-=ne,K>0&&this.desiredSize<=0&&(this.sinkCapability=(0,O.createPromiseCapability)(),this.ready=this.sinkCapability.promise),ae.postMessage({sourceName:ye,targetName:ce,stream:$.ENQUEUE,streamId:ie,chunk:Y},q)},close(){this.isCancelled||(this.isCancelled=!0,ae.postMessage({sourceName:ye,targetName:ce,stream:$.CLOSE,streamId:ie}),delete J.streamSinks[ie])},error(Y){(0,O.assert)(Y instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ae.postMessage({sourceName:ye,targetName:ce,stream:$.ERROR,streamId:ie,reason:re(Y)}))},sinkCapability:(0,O.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ue.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[ie]=U,new Promise(function(Y){Y(Q(ue.data,U))}).then(function(){ae.postMessage({sourceName:ye,targetName:ce,stream:$.START_COMPLETE,streamId:ie,success:!0})},function(Y){ae.postMessage({sourceName:ye,targetName:ce,stream:$.START_COMPLETE,streamId:ie,reason:re(Y)})})}_processStreamMessage(ue){const ie=ue.streamId,ye=this.sourceName,ce=ue.sourceName,ae=this.comObj,J=this.streamControllers[ie],Q=this.streamSinks[ie];switch(ue.stream){case $.START_COMPLETE:ue.success?J.startCall.resolve():J.startCall.reject(re(ue.reason));break;case $.PULL_COMPLETE:ue.success?J.pullCall.resolve():J.pullCall.reject(re(ue.reason));break;case $.PULL:if(!Q){ae.postMessage({sourceName:ye,targetName:ce,stream:$.PULL_COMPLETE,streamId:ie,success:!0});break}Q.desiredSize<=0&&ue.desiredSize>0&&Q.sinkCapability.resolve(),Q.desiredSize=ue.desiredSize,new Promise(function(U){U(Q.onPull&&Q.onPull())}).then(function(){ae.postMessage({sourceName:ye,targetName:ce,stream:$.PULL_COMPLETE,streamId:ie,success:!0})},function(U){ae.postMessage({sourceName:ye,targetName:ce,stream:$.PULL_COMPLETE,streamId:ie,reason:re(U)})});break;case $.ENQUEUE:if((0,O.assert)(J,"enqueue should have stream controller"),J.isClosed)break;J.controller.enqueue(ue.chunk);break;case $.CLOSE:if((0,O.assert)(J,"close should have stream controller"),J.isClosed)break;J.isClosed=!0,J.controller.close(),this._deleteStreamController(J,ie);break;case $.ERROR:(0,O.assert)(J,"error should have stream controller"),J.controller.error(re(ue.reason)),this._deleteStreamController(J,ie);break;case $.CANCEL_COMPLETE:ue.success?J.cancelCall.resolve():J.cancelCall.reject(re(ue.reason)),this._deleteStreamController(J,ie);break;case $.CANCEL:if(!Q)break;new Promise(function(U){U(Q.onCancel&&Q.onCancel(re(ue.reason)))}).then(function(){ae.postMessage({sourceName:ye,targetName:ce,stream:$.CANCEL_COMPLETE,streamId:ie,success:!0})},function(U){ae.postMessage({sourceName:ye,targetName:ce,stream:$.CANCEL_COMPLETE,streamId:ie,reason:re(U)})}),Q.sinkCapability.reject(re(ue.reason)),Q.isCancelled=!0,delete this.streamSinks[ie];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ue,ie){await Promise.allSettled([ue.startCall&&ue.startCall.promise,ue.pullCall&&ue.pullCall.promise,ue.cancelCall&&ue.cancelCall.promise]),delete this.streamControllers[ie]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}R.MessageHandler=fe},(A,R,V)=>{var $,re;Object.defineProperty(R,"__esModule",{value:!0}),R.Metadata=void 0;var O=V(1);class B{constructor({parsedData:ve,rawData:ue}){pt(this,$);pt(this,re);_t(this,$,ve),_t(this,re,ue)}getRaw(){return me(this,re)}get(ve){return me(this,$).get(ve)??null}getAll(){return(0,O.objectFromMap)(me(this,$))}has(ve){return me(this,$).has(ve)}}$=new WeakMap,re=new WeakMap,R.Metadata=B},(A,R,V)=>{var ve,ue,ie,ye,ce,ae,Br;Object.defineProperty(R,"__esModule",{value:!0}),R.OptionalContentConfig=void 0;var O=V(1),B=V(8);const $=Symbol("INTERNAL");class re{constructor(U,Y){pt(this,ve,!0);this.name=U,this.intent=Y}get visible(){return me(this,ve)}_setVisible(U,Y){U!==$&&(0,O.unreachable)("Internal method `_setVisible` called."),_t(this,ve,Y)}}ve=new WeakMap;class fe{constructor(U){pt(this,ae);pt(this,ue,null);pt(this,ie,new Map);pt(this,ye,null);pt(this,ce,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,_t(this,ce,U.order);for(const Y of U.groups)me(this,ie).set(Y.id,new re(Y.name,Y.intent));if(U.baseState==="OFF")for(const Y of me(this,ie).values())Y._setVisible($,!1);for(const Y of U.on)me(this,ie).get(Y)._setVisible($,!0);for(const Y of U.off)me(this,ie).get(Y)._setVisible($,!1);_t(this,ye,this.getHash())}}isVisible(U){if(me(this,ie).size===0)return!0;if(!U)return(0,O.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return me(this,ie).has(U.id)?me(this,ie).get(U.id).visible:((0,O.warn)(`Optional content group not found: ${U.id}`),!0);if(U.type==="OCMD"){if(U.expression)return lt(this,ae,Br).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const Y of U.ids){if(!me(this,ie).has(Y))return(0,O.warn)(`Optional content group not found: ${Y}`),!0;if(me(this,ie).get(Y).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const Y of U.ids){if(!me(this,ie).has(Y))return(0,O.warn)(`Optional content group not found: ${Y}`),!0;if(!me(this,ie).get(Y).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const Y of U.ids){if(!me(this,ie).has(Y))return(0,O.warn)(`Optional content group not found: ${Y}`),!0;if(!me(this,ie).get(Y).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const Y of U.ids){if(!me(this,ie).has(Y))return(0,O.warn)(`Optional content group not found: ${Y}`),!0;if(me(this,ie).get(Y).visible)return!1}return!0}return(0,O.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,O.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,Y=!0){if(!me(this,ie).has(U)){(0,O.warn)(`Optional content group not found: ${U}`);return}me(this,ie).get(U)._setVisible($,!!Y),_t(this,ue,null)}get hasInitialVisibility(){return this.getHash()===me(this,ye)}getOrder(){return me(this,ie).size?me(this,ce)?me(this,ce).slice():[...me(this,ie).keys()]:null}getGroups(){return me(this,ie).size>0?(0,O.objectFromMap)(me(this,ie)):null}getGroup(U){return me(this,ie).get(U)||null}getHash(){if(me(this,ue)!==null)return me(this,ue);const U=new B.MurmurHash3_64;for(const[Y,ne]of me(this,ie))U.update(`${Y}:${ne.visible}`);return _t(this,ue,U.hexdigest())}}ue=new WeakMap,ie=new WeakMap,ye=new WeakMap,ce=new WeakMap,ae=new WeakSet,Br=function(U){const Y=U.length;if(Y<2)return!0;const ne=U[0];for(let q=1;q<Y;q++){const K=U[q];let H;if(Array.isArray(K))H=lt(this,ae,Br).call(this,K);else if(me(this,ie).has(K))H=me(this,ie).get(K).visible;else return(0,O.warn)(`Optional content group not found: ${K}`),!0;switch(ne){case"And":if(!H)return!1;break;case"Or":if(H)return!0;break;case"Not":return!H;default:return!0}}return ne==="And"},R.OptionalContentConfig=fe},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFDataTransportStream=void 0;var O=V(1),B=V(6);class ${constructor({length:ue,initialData:ie,progressiveDone:ye=!1,contentDispositionFilename:ce=null,disableRange:ae=!1,disableStream:J=!1},Q){if((0,O.assert)(Q,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ye,this._contentDispositionFilename=ce,(ie==null?void 0:ie.length)>0){const U=ie instanceof Uint8Array&&ie.byteLength===ie.buffer.byteLength?ie.buffer:new Uint8Array(ie).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=Q,this._isStreamingSupported=!J,this._isRangeSupported=!ae,this._contentLength=ue,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,Y)=>{this._onReceiveData({begin:U,chunk:Y})}),this._pdfDataRangeTransport.addProgressListener((U,Y)=>{this._onProgress({loaded:U,total:Y})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ue,chunk:ie}){const ye=ie instanceof Uint8Array&&ie.byteLength===ie.buffer.byteLength?ie.buffer:new Uint8Array(ie).buffer;if(ue===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ye):this._queuedChunks.push(ye);else{const ce=this._rangeReaders.some(function(ae){return ae._begin!==ue?!1:(ae._enqueue(ye),!0)});(0,O.assert)(ce,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ue;return((ue=this._fullRequestReader)==null?void 0:ue._loaded)??0}_onProgress(ue){var ie,ye,ce,ae;ue.total===void 0?(ye=(ie=this._rangeReaders[0])==null?void 0:ie.onProgress)==null||ye.call(ie,{loaded:ue.loaded}):(ae=(ce=this._fullRequestReader)==null?void 0:ce.onProgress)==null||ae.call(ce,{loaded:ue.loaded,total:ue.total})}_onProgressiveDone(){var ue;(ue=this._fullRequestReader)==null||ue.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ue){const ie=this._rangeReaders.indexOf(ue);ie>=0&&this._rangeReaders.splice(ie,1)}getFullReader(){(0,O.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ue=this._queuedChunks;return this._queuedChunks=null,new re(this,ue,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ue,ie){if(ie<=this._progressiveDataLength)return null;const ye=new fe(this,ue,ie);return this._pdfDataRangeTransport.requestDataRange(ue,ie),this._rangeReaders.push(ye),ye}cancelAllRequests(ue){var ie;(ie=this._fullRequestReader)==null||ie.cancel(ue);for(const ye of this._rangeReaders.slice(0))ye.cancel(ue);this._pdfDataRangeTransport.abort()}}R.PDFDataTransportStream=$;class re{constructor(ue,ie,ye=!1,ce=null){this._stream=ue,this._done=ye||!1,this._filename=(0,B.isPdfFile)(ce)?ce:null,this._queuedChunks=ie||[],this._loaded=0;for(const ae of this._queuedChunks)this._loaded+=ae.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ue._fullRequestReader=this,this.onProgress=null}_enqueue(ue){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ue,done:!1}):this._queuedChunks.push(ue),this._loaded+=ue.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ue=(0,O.createPromiseCapability)();return this._requests.push(ue),ue.promise}cancel(ue){this._done=!0;for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class fe{constructor(ue,ie,ye){this._stream=ue,this._begin=ie,this._end=ye,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ue){if(!this._done){if(this._requests.length===0)this._queuedChunk=ue;else{this._requests.shift().resolve({value:ue,done:!1});for(const ye of this._requests)ye.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ie=this._queuedChunk;return this._queuedChunk=null,{value:ie,done:!1}}if(this._done)return{value:void 0,done:!0};const ue=(0,O.createPromiseCapability)();return this._requests.push(ue),ue.promise}cancel(ue){this._done=!0;for(const ie of this._requests)ie.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaText=void 0;class V{static textContent(B){const $=[],re={items:$,styles:Object.create(null)};function fe(ve){var ye;if(!ve)return;let ue=null;const ie=ve.name;if(ie==="#text")ue=ve.value;else if(V.shouldBuildText(ie))(ye=ve==null?void 0:ve.attributes)!=null&&ye.textContent?ue=ve.attributes.textContent:ve.value&&(ue=ve.value);else return;if(ue!==null&&$.push({str:ue}),!!ve.children)for(const ce of ve.children)fe(ce)}return fe(B),re}static shouldBuildText(B){return!(B==="textarea"||B==="input"||B==="option"||B==="select")}}R.XfaText=V},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.NodeStandardFontDataFactory=R.NodeCanvasFactory=R.NodeCMapReaderFactory=void 0;var O=V(7);const B=function(ve){return new Promise((ue,ie)=>{require$$5.readFile(ve,(ce,ae)=>{if(ce||!ae){ie(new Error(ce));return}ue(new Uint8Array(ae))})})};class $ extends O.BaseCanvasFactory{_createCanvas(ue,ie){return require$$5.createCanvas(ue,ie)}}R.NodeCanvasFactory=$;class re extends O.BaseCMapReaderFactory{_fetchData(ue,ie){return B(ue).then(ye=>({cMapData:ye,compressionType:ie}))}}R.NodeCMapReaderFactory=re;class fe extends O.BaseStandardFontDataFactory{_fetchData(ue){return B(ue)}}R.NodeStandardFontDataFactory=fe},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFNodeStream=void 0;var O=V(1),B=V(22);const $=require$$5,re=require$$5,fe=require$$5,ve=require$$5,ue=/^file:\/\/\/[a-zA-Z]:\//;function ie(q){const K=ve.parse(q);return K.protocol==="file:"||K.host?K:/^[a-z]:[/\\]/i.test(q)?ve.parse(`file:///${q}`):(K.host||(K.protocol="file:"),K)}class ye{constructor(K){this.source=K,this.url=ie(K.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&K.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var K;return((K=this._fullRequestReader)==null?void 0:K._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Y(this):new Q(this),this._fullRequestReader}getRangeReader(K,H){if(H<=this._progressiveDataLength)return null;const G=this.isFsUrl?new ne(this,K,H):new U(this,K,H);return this._rangeRequestReaders.push(G),G}cancelAllRequests(K){var H;(H=this._fullRequestReader)==null||H.cancel(K);for(const G of this._rangeRequestReaders.slice(0))G.cancel(K)}}R.PDFNodeStream=ye;class ce{constructor(K){this._url=K.url,this._done=!1,this._storedError=null,this.onProgress=null;const H=K.source;this._contentLength=H.length,this._loaded=0,this._filename=null,this._disableRange=H.disableRange||!1,this._rangeChunkSize=H.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!H.disableStream,this._isRangeSupported=!H.disableRange,this._readableStream=null,this._readCapability=(0,O.createPromiseCapability)(),this._headersCapability=(0,O.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var G;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const K=this._readableStream.read();return K===null?(this._readCapability=(0,O.createPromiseCapability)(),this.read()):(this._loaded+=K.length,(G=this.onProgress)==null||G.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(K).buffer,done:!1})}cancel(K){if(!this._readableStream){this._error(K);return}this._readableStream.destroy(K)}_error(K){this._storedError=K,this._readCapability.resolve()}_setReadableStream(K){this._readableStream=K,K.on("readable",()=>{this._readCapability.resolve()}),K.on("end",()=>{K.destroy(),this._done=!0,this._readCapability.resolve()}),K.on("error",H=>{this._error(H)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new O.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ae{constructor(K){this._url=K.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,O.createPromiseCapability)();const H=K.source;this._isStreamingSupported=!H.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var G;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const K=this._readableStream.read();return K===null?(this._readCapability=(0,O.createPromiseCapability)(),this.read()):(this._loaded+=K.length,(G=this.onProgress)==null||G.call(this,{loaded:this._loaded}),{value:new Uint8Array(K).buffer,done:!1})}cancel(K){if(!this._readableStream){this._error(K);return}this._readableStream.destroy(K)}_error(K){this._storedError=K,this._readCapability.resolve()}_setReadableStream(K){this._readableStream=K,K.on("readable",()=>{this._readCapability.resolve()}),K.on("end",()=>{K.destroy(),this._done=!0,this._readCapability.resolve()}),K.on("error",H=>{this._error(H)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function J(q,K){return{protocol:q.protocol,auth:q.auth,host:q.hostname,port:q.port,path:q.path,method:"GET",headers:K}}class Q extends ce{constructor(K){super(K);const H=G=>{if(G.statusCode===404){const Ee=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ee,this._headersCapability.reject(Ee);return}this._headersCapability.resolve(),this._setReadableStream(G);const de=Ee=>this._readableStream.headers[Ee.toLowerCase()],{allowRangeRequests:W,suggestedLength:ge}=(0,B.validateRangeRequestCapabilities)({getResponseHeader:de,isHttp:K.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=W,this._contentLength=ge||this._contentLength,this._filename=(0,B.extractFilenameFromHeader)(de)};this._request=null,this._url.protocol==="http:"?this._request=re.request(J(this._url,K.httpHeaders),H):this._request=fe.request(J(this._url,K.httpHeaders),H),this._request.on("error",G=>{this._storedError=G,this._headersCapability.reject(G)}),this._request.end()}}class U extends ae{constructor(K,H,G){super(K),this._httpHeaders={};for(const W in K.httpHeaders){const ge=K.httpHeaders[W];ge!==void 0&&(this._httpHeaders[W]=ge)}this._httpHeaders.Range=`bytes=${H}-${G-1}`;const de=W=>{if(W.statusCode===404){const ge=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ge;return}this._setReadableStream(W)};this._request=null,this._url.protocol==="http:"?this._request=re.request(J(this._url,this._httpHeaders),de):this._request=fe.request(J(this._url,this._httpHeaders),de),this._request.on("error",W=>{this._storedError=W}),this._request.end()}}class Y extends ce{constructor(K){super(K);let H=decodeURIComponent(this._url.path);ue.test(this._url.href)&&(H=H.replace(/^\//,"")),$.lstat(H,(G,de)=>{if(G){G.code==="ENOENT"&&(G=new O.MissingPDFException(`Missing PDF "${H}".`)),this._storedError=G,this._headersCapability.reject(G);return}this._contentLength=de.size,this._setReadableStream($.createReadStream(H)),this._headersCapability.resolve()})}}class ne extends ae{constructor(K,H,G){super(K);let de=decodeURIComponent(this._url.path);ue.test(this._url.href)&&(de=de.replace(/^\//,"")),this._setReadableStream($.createReadStream(de,{start:H,end:G-1}))}}},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.createResponseStatusError=ve,R.extractFilenameFromHeader=fe,R.validateRangeRequestCapabilities=re,R.validateResponseStatus=ue;var O=V(1),B=V(23),$=V(6);function re({getResponseHeader:ie,isHttp:ye,rangeChunkSize:ce,disableRange:ae}){const J={allowRangeRequests:!1,suggestedLength:void 0},Q=parseInt(ie("Content-Length"),10);return!Number.isInteger(Q)||(J.suggestedLength=Q,Q<=2*ce)||ae||!ye||ie("Accept-Ranges")!=="bytes"||(ie("Content-Encoding")||"identity")!=="identity"||(J.allowRangeRequests=!0),J}function fe(ie){const ye=ie("Content-Disposition");if(ye){let ce=(0,B.getFilenameFromContentDispositionHeader)(ye);if(ce.includes("%"))try{ce=decodeURIComponent(ce)}catch{}if((0,$.isPdfFile)(ce))return ce}return null}function ve(ie,ye){return ie===404||ie===0&&ye.startsWith("file:")?new O.MissingPDFException('Missing PDF "'+ye+'".'):new O.UnexpectedResponseException(`Unexpected server response (${ie}) while retrieving PDF "${ye}".`,ie)}function ue(ie){return ie===200||ie===206}},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.getFilenameFromContentDispositionHeader=B;var O=V(1);function B($){let re=!0,fe=ve("filename\\*","i").exec($);if(fe){fe=fe[1];let Q=ce(fe);return Q=unescape(Q),Q=ae(Q),Q=J(Q),ie(Q)}if(fe=ye($),fe){const Q=J(fe);return ie(Q)}if(fe=ve("filename","i").exec($),fe){fe=fe[1];let Q=ce(fe);return Q=J(Q),ie(Q)}function ve(Q,U){return new RegExp("(?:^|;)\\s*"+Q+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function ue(Q,U){if(Q){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const Y=new TextDecoder(Q,{fatal:!0}),ne=(0,O.stringToBytes)(U);U=Y.decode(ne),re=!1}catch{}}return U}function ie(Q){return re&&/[\x80-\xff]/.test(Q)&&(Q=ue("utf-8",Q),re&&(Q=ue("iso-8859-1",Q))),Q}function ye(Q){const U=[];let Y;const ne=ve("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Y=ne.exec(Q))!==null;){let[,K,H,G]=Y;if(K=parseInt(K,10),K in U){if(K===0)break;continue}U[K]=[H,G]}const q=[];for(let K=0;K<U.length&&K in U;++K){let[H,G]=U[K];G=ce(G),H&&(G=unescape(G),K===0&&(G=ae(G))),q.push(G)}return q.join("")}function ce(Q){if(Q.startsWith('"')){const U=Q.slice(1).split('\\"');for(let Y=0;Y<U.length;++Y){const ne=U[Y].indexOf('"');ne!==-1&&(U[Y]=U[Y].slice(0,ne),U.length=Y+1),U[Y]=U[Y].replace(/\\(.)/g,"$1")}Q=U.join('"')}return Q}function ae(Q){const U=Q.indexOf("'");if(U===-1)return Q;const Y=Q.slice(0,U),q=Q.slice(U+1).replace(/^[^']*'/,"");return ue(Y,q)}function J(Q){return!Q.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Q)?Q:Q.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,Y,ne,q){if(ne==="q"||ne==="Q")return q=q.replace(/_/g," "),q=q.replace(/=([0-9a-fA-F]{2})/g,function(K,H){return String.fromCharCode(parseInt(H,16))}),ue(Y,q);try{q=atob(q)}catch{}return ue(Y,q)})}return""}},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFNetworkStream=void 0;var O=V(1),B=V(22);const $=200,re=206;function fe(ce){const ae=ce.response;return typeof ae!="string"?ae:(0,O.stringToBytes)(ae).buffer}class ve{constructor(ae,J={}){this.url=ae,this.isHttp=/^https?:/i.test(ae),this.httpHeaders=this.isHttp&&J.httpHeaders||Object.create(null),this.withCredentials=J.withCredentials||!1,this.getXhr=J.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ae,J,Q){const U={begin:ae,end:J};for(const Y in Q)U[Y]=Q[Y];return this.request(U)}requestFull(ae){return this.request(ae)}request(ae){const J=this.getXhr(),Q=this.currXhrId++,U=this.pendingRequests[Q]={xhr:J};J.open("GET",this.url),J.withCredentials=this.withCredentials;for(const Y in this.httpHeaders){const ne=this.httpHeaders[Y];ne!==void 0&&J.setRequestHeader(Y,ne)}return this.isHttp&&"begin"in ae&&"end"in ae?(J.setRequestHeader("Range",`bytes=${ae.begin}-${ae.end-1}`),U.expectedStatus=re):U.expectedStatus=$,J.responseType="arraybuffer",ae.onError&&(J.onerror=function(Y){ae.onError(J.status)}),J.onreadystatechange=this.onStateChange.bind(this,Q),J.onprogress=this.onProgress.bind(this,Q),U.onHeadersReceived=ae.onHeadersReceived,U.onDone=ae.onDone,U.onError=ae.onError,U.onProgress=ae.onProgress,J.send(null),Q}onProgress(ae,J){var U;const Q=this.pendingRequests[ae];Q&&((U=Q.onProgress)==null||U.call(Q,J))}onStateChange(ae,J){var K,H,G;const Q=this.pendingRequests[ae];if(!Q)return;const U=Q.xhr;if(U.readyState>=2&&Q.onHeadersReceived&&(Q.onHeadersReceived(),delete Q.onHeadersReceived),U.readyState!==4||!(ae in this.pendingRequests))return;if(delete this.pendingRequests[ae],U.status===0&&this.isHttp){(K=Q.onError)==null||K.call(Q,U.status);return}const Y=U.status||$;if(!(Y===$&&Q.expectedStatus===re)&&Y!==Q.expectedStatus){(H=Q.onError)==null||H.call(Q,U.status);return}const q=fe(U);if(Y===re){const de=U.getResponseHeader("Content-Range"),W=/bytes (\d+)-(\d+)\/(\d+)/.exec(de);Q.onDone({begin:parseInt(W[1],10),chunk:q})}else q?Q.onDone({begin:0,chunk:q}):(G=Q.onError)==null||G.call(Q,U.status)}getRequestXhr(ae){return this.pendingRequests[ae].xhr}isPendingRequest(ae){return ae in this.pendingRequests}abortRequest(ae){const J=this.pendingRequests[ae].xhr;delete this.pendingRequests[ae],J.abort()}}class ue{constructor(ae){this._source=ae,this._manager=new ve(ae.url,{httpHeaders:ae.httpHeaders,withCredentials:ae.withCredentials}),this._rangeChunkSize=ae.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ae){const J=this._rangeRequestReaders.indexOf(ae);J>=0&&this._rangeRequestReaders.splice(J,1)}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ie(this._manager,this._source),this._fullRequestReader}getRangeReader(ae,J){const Q=new ye(this._manager,ae,J);return Q.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Q),Q}cancelAllRequests(ae){var J;(J=this._fullRequestReader)==null||J.cancel(ae);for(const Q of this._rangeRequestReaders.slice(0))Q.cancel(ae)}}R.PDFNetworkStream=ue;class ie{constructor(ae,J){this._manager=ae;const Q={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=J.url,this._fullRequestId=ae.requestFull(Q),this._headersReceivedCapability=(0,O.createPromiseCapability)(),this._disableRange=J.disableRange||!1,this._contentLength=J.length,this._rangeChunkSize=J.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ae=this._fullRequestId,J=this._manager.getRequestXhr(ae),Q=ne=>J.getResponseHeader(ne),{allowRangeRequests:U,suggestedLength:Y}=(0,B.validateRangeRequestCapabilities)({getResponseHeader:Q,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=Y||this._contentLength,this._filename=(0,B.extractFilenameFromHeader)(Q),this._isRangeSupported&&this._manager.abortRequest(ae),this._headersReceivedCapability.resolve()}_onDone(ae){if(ae&&(this._requests.length>0?this._requests.shift().resolve({value:ae.chunk,done:!1}):this._cachedChunks.push(ae.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ae){this._storedError=(0,B.createResponseStatusError)(ae,this._url),this._headersReceivedCapability.reject(this._storedError);for(const J of this._requests)J.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ae){var J;(J=this.onProgress)==null||J.call(this,{loaded:ae.loaded,total:ae.lengthComputable?ae.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ae=(0,O.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0,this._headersReceivedCapability.reject(ae);for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ye{constructor(ae,J,Q){this._manager=ae;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ae.url,this._requestId=ae.requestRange(J,Q,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ae;(ae=this.onClosed)==null||ae.call(this,this)}_onDone(ae){const J=ae.chunk;this._requests.length>0?this._requests.shift().resolve({value:J,done:!1}):this._queuedChunk=J,this._done=!0;for(const Q of this._requests)Q.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ae){this._storedError=(0,B.createResponseStatusError)(ae,this._url);for(const J of this._requests)J.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ae){var J;this.isStreamingSupported||(J=this.onProgress)==null||J.call(this,{loaded:ae.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const J=this._queuedChunk;return this._queuedChunk=null,{value:J,done:!1}}if(this._done)return{value:void 0,done:!0};const ae=(0,O.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const J of this._requests)J.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.PDFFetchStream=void 0;var O=V(1),B=V(22);function $(ye,ce,ae){return{method:"GET",headers:ye,signal:ae.signal,mode:"cors",credentials:ce?"include":"same-origin",redirect:"follow"}}function re(ye){const ce=new Headers;for(const ae in ye){const J=ye[ae];J!==void 0&&ce.append(ae,J)}return ce}function fe(ye){return ye instanceof Uint8Array?ye.buffer:ye instanceof ArrayBuffer?ye:((0,O.warn)(`getArrayBuffer - unexpected data format: ${ye}`),new Uint8Array(ye).buffer)}class ve{constructor(ce){this.source=ce,this.isHttp=/^https?:/i.test(ce.url),this.httpHeaders=this.isHttp&&ce.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ce;return((ce=this._fullRequestReader)==null?void 0:ce._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ue(this),this._fullRequestReader}getRangeReader(ce,ae){if(ae<=this._progressiveDataLength)return null;const J=new ie(this,ce,ae);return this._rangeRequestReaders.push(J),J}cancelAllRequests(ce){var ae;(ae=this._fullRequestReader)==null||ae.cancel(ce);for(const J of this._rangeRequestReaders.slice(0))J.cancel(ce)}}R.PDFFetchStream=ve;class ue{constructor(ce){this._stream=ce,this._reader=null,this._loaded=0,this._filename=null;const ae=ce.source;this._withCredentials=ae.withCredentials||!1,this._contentLength=ae.length,this._headersCapability=(0,O.createPromiseCapability)(),this._disableRange=ae.disableRange||!1,this._rangeChunkSize=ae.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ae.disableStream,this._isRangeSupported=!ae.disableRange,this._headers=re(this._stream.httpHeaders);const J=ae.url;fetch(J,$(this._headers,this._withCredentials,this._abortController)).then(Q=>{if(!(0,B.validateResponseStatus)(Q.status))throw(0,B.createResponseStatusError)(Q.status,J);this._reader=Q.body.getReader(),this._headersCapability.resolve();const U=q=>Q.headers.get(q),{allowRangeRequests:Y,suggestedLength:ne}=(0,B.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Y,this._contentLength=ne||this._contentLength,this._filename=(0,B.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new O.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var J;await this._headersCapability.promise;const{value:ce,done:ae}=await this._reader.read();return ae?{value:ce,done:ae}:(this._loaded+=ce.byteLength,(J=this.onProgress)==null||J.call(this,{loaded:this._loaded,total:this._contentLength}),{value:fe(ce),done:!1})}cancel(ce){var ae;(ae=this._reader)==null||ae.cancel(ce),this._abortController.abort()}}class ie{constructor(ce,ae,J){this._stream=ce,this._reader=null,this._loaded=0;const Q=ce.source;this._withCredentials=Q.withCredentials||!1,this._readCapability=(0,O.createPromiseCapability)(),this._isStreamingSupported=!Q.disableStream,this._abortController=new AbortController,this._headers=re(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ae}-${J-1}`);const U=Q.url;fetch(U,$(this._headers,this._withCredentials,this._abortController)).then(Y=>{if(!(0,B.validateResponseStatus)(Y.status))throw(0,B.createResponseStatusError)(Y.status,U);this._readCapability.resolve(),this._reader=Y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var J;await this._readCapability.promise;const{value:ce,done:ae}=await this._reader.read();return ae?{value:ce,done:ae}:(this._loaded+=ce.byteLength,(J=this.onProgress)==null||J.call(this,{loaded:this._loaded}),{value:fe(ce),done:!1})}cancel(ce){var ae;(ae=this._reader)==null||ae.cancel(ce),this._abortController.abort()}}},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.TextLayerRenderTask=void 0,R.renderTextLayer=Q,R.updateTextLayer=U;var O=V(1),B=V(6);const $=1e5,re=30,fe=.8,ve=new Map;function ue(Y,ne){let q;if(ne&&O.FeatureTest.isOffscreenCanvasSupported)q=new OffscreenCanvas(Y,Y).getContext("2d",{alpha:!1});else{const K=document.createElement("canvas");K.width=K.height=Y,q=K.getContext("2d",{alpha:!1})}return q}function ie(Y,ne){const q=ve.get(Y);if(q)return q;const K=ue(re,ne);K.font=`${re}px ${Y}`;const H=K.measureText("");let G=H.fontBoundingBoxAscent,de=Math.abs(H.fontBoundingBoxDescent);if(G){const ge=G/(G+de);return ve.set(Y,ge),K.canvas.width=K.canvas.height=0,ge}K.strokeStyle="red",K.clearRect(0,0,re,re),K.strokeText("g",0,0);let W=K.getImageData(0,0,re,re).data;de=0;for(let ge=W.length-1-3;ge>=0;ge-=4)if(W[ge]>0){de=Math.ceil(ge/4/re);break}K.clearRect(0,0,re,re),K.strokeText("A",0,re),W=K.getImageData(0,0,re,re).data,G=0;for(let ge=0,Ee=W.length;ge<Ee;ge+=4)if(W[ge]>0){G=re-Math.floor(ge/4/re);break}if(K.canvas.width=K.canvas.height=0,G){const ge=G/(G+de);return ve.set(Y,ge),ge}return ve.set(Y,fe),fe}function ye(Y,ne,q){const K=document.createElement("span"),H={angle:0,canvasWidth:0,hasText:ne.str!=="",hasEOL:ne.hasEOL,fontSize:0};Y._textDivs.push(K);const G=O.Util.transform(Y._transform,ne.transform);let de=Math.atan2(G[1],G[0]);const W=q[ne.fontName];W.vertical&&(de+=Math.PI/2);const ge=Math.hypot(G[2],G[3]),Ee=ge*ie(W.fontFamily,Y._isOffscreenCanvasSupported);let Te,Ke;de===0?(Te=G[4],Ke=G[5]-Ee):(Te=G[4]+Ee*Math.sin(de),Ke=G[5]-Ee*Math.cos(de));const ft="calc(var(--scale-factor)*",Ye=K.style;Y._container===Y._rootContainer?(Ye.left=`${(100*Te/Y._pageWidth).toFixed(2)}%`,Ye.top=`${(100*Ke/Y._pageHeight).toFixed(2)}%`):(Ye.left=`${ft}${Te.toFixed(2)}px)`,Ye.top=`${ft}${Ke.toFixed(2)}px)`),Ye.fontSize=`${ft}${ge.toFixed(2)}px)`,Ye.fontFamily=W.fontFamily,H.fontSize=ge,K.setAttribute("role","presentation"),K.textContent=ne.str,K.dir=ne.dir,Y._fontInspectorEnabled&&(K.dataset.fontName=ne.fontName),de!==0&&(H.angle=de*(180/Math.PI));let et=!1;if(ne.str.length>1)et=!0;else if(ne.str!==" "&&ne.transform[0]!==ne.transform[3]){const qe=Math.abs(ne.transform[0]),Ne=Math.abs(ne.transform[3]);qe!==Ne&&Math.max(qe,Ne)/Math.min(qe,Ne)>1.5&&(et=!0)}et&&(H.canvasWidth=W.vertical?ne.height:ne.width),Y._textDivProperties.set(K,H),Y._isReadableStream&&Y._layoutText(K)}function ce(Y){const{div:ne,scale:q,properties:K,ctx:H,prevFontSize:G,prevFontFamily:de}=Y,{style:W}=ne;let ge="";if(K.canvasWidth!==0&&K.hasText){const{fontFamily:Ee}=W,{canvasWidth:Te,fontSize:Ke}=K;(G!==Ke||de!==Ee)&&(H.font=`${Ke*q}px ${Ee}`,Y.prevFontSize=Ke,Y.prevFontFamily=Ee);const{width:ft}=H.measureText(ne.textContent);ft>0&&(ge=`scaleX(${Te*q/ft})`)}K.angle!==0&&(ge=`rotate(${K.angle}deg) ${ge}`),ge.length>0&&(W.transform=ge)}function ae(Y){if(Y._canceled)return;const ne=Y._textDivs,q=Y._capability;if(ne.length>$){q.resolve();return}if(!Y._isReadableStream)for(const H of ne)Y._layoutText(H);q.resolve()}class J{constructor({textContentSource:ne,container:q,viewport:K,textDivs:H,textDivProperties:G,textContentItemsStr:de,isOffscreenCanvasSupported:W}){var ft;this._textContentSource=ne,this._isReadableStream=ne instanceof ReadableStream,this._container=this._rootContainer=q,this._textDivs=H||[],this._textContentItemsStr=de||[],this._isOffscreenCanvasSupported=W,this._fontInspectorEnabled=!!((ft=globalThis.FontInspector)!=null&&ft.enabled),this._reader=null,this._textDivProperties=G||new WeakMap,this._canceled=!1,this._capability=(0,O.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:K.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ue(0,W)};const{pageWidth:ge,pageHeight:Ee,pageX:Te,pageY:Ke}=K.rawDims;this._transform=[1,0,0,-1,-Te,Ke+Ee],this._pageWidth=ge,this._pageHeight=Ee,(0,B.setLayerDimensions)(q,K),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new O.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new O.AbortException("TextLayer task cancelled."))}_processItems(ne,q){for(const K of ne){if(K.str===void 0){if(K.type==="beginMarkedContentProps"||K.type==="beginMarkedContent"){const H=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),K.id!==null&&this._container.setAttribute("id",`${K.id}`),H.append(this._container)}else K.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(K.str),ye(this,K,q)}}_layoutText(ne){const q=this._layoutTextParams.properties=this._textDivProperties.get(ne);if(this._layoutTextParams.div=ne,ce(this._layoutTextParams),q.hasText&&this._container.append(ne),q.hasEOL){const K=document.createElement("br");K.setAttribute("role","presentation"),this._container.append(K)}}_render(){const ne=(0,O.createPromiseCapability)();let q=Object.create(null);if(this._isReadableStream){const K=()=>{this._reader.read().then(({value:H,done:G})=>{if(G){ne.resolve();return}Object.assign(q,H.styles),this._processItems(H.items,q),K()},ne.reject)};this._reader=this._textContentSource.getReader(),K()}else if(this._textContentSource){const{items:K,styles:H}=this._textContentSource;this._processItems(K,H),ne.resolve()}else throw new Error('No "textContentSource" parameter specified.');ne.promise.then(()=>{q=null,ae(this)},this._capability.reject)}}R.TextLayerRenderTask=J;function Q(Y){!Y.textContentSource&&(Y.textContent||Y.textContentStream)&&((0,B.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Y.textContentSource=Y.textContent||Y.textContentStream);const ne=new J(Y);return ne._render(),ne}function U({container:Y,viewport:ne,textDivs:q,textDivProperties:K,isOffscreenCanvasSupported:H,mustRotate:G=!0,mustRescale:de=!0}){if(G&&(0,B.setLayerDimensions)(Y,{rotation:ne.rotation}),de){const W=ue(0,H),Ee={prevFontSize:null,prevFontFamily:null,div:null,scale:ne.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:W};for(const Te of q)Ee.properties=K.get(Te),Ee.div=Te,ce(Ee)}}},(A,R,V)=>{var ue,ie,ye,ce,ae,J,Q,U,Y,zr,wi,Hr,Vr;Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationEditorLayer=void 0;var O=V(1),B=V(5),$=V(28),re=V(29),fe=V(6);const G=class G{constructor(W){pt(this,Y);pt(this,ue);pt(this,ie,!1);pt(this,ye,this.pointerup.bind(this));pt(this,ce,this.pointerdown.bind(this));pt(this,ae,new Map);pt(this,J,!1);pt(this,Q,!1);pt(this,U);G._initialized||(G._initialized=!0,$.FreeTextEditor.initialize(W.l10n),re.InkEditor.initialize(W.l10n)),W.uiManager.registerEditorTypes([$.FreeTextEditor,re.InkEditor]),_t(this,U,W.uiManager),this.pageIndex=W.pageIndex,this.div=W.div,_t(this,ue,W.accessibilityManager),me(this,U).addLayer(this)}get isEmpty(){return me(this,ae).size===0}updateToolbar(W){me(this,U).updateToolbar(W)}updateMode(W=me(this,U).getMode()){lt(this,Y,Vr).call(this),W===O.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),me(this,U).unselectAll(),W!==O.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",W===O.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",W===O.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(W){if(!W&&me(this,U).getMode()!==O.AnnotationEditorType.INK)return;if(!W){for(const Ee of me(this,ae).values())if(Ee.isEmpty()){Ee.setInBackground();return}}lt(this,Y,Hr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(W){me(this,U).setEditingState(W)}addCommands(W){me(this,U).addCommands(W)}enable(){this.div.style.pointerEvents="auto";for(const W of me(this,ae).values())W.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const W of me(this,ae).values())W.disableEditing();lt(this,Y,Vr).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(W){me(this,U).getActive()!==W&&me(this,U).setActiveEditor(W)}enableClick(){this.div.addEventListener("pointerdown",me(this,ce)),this.div.addEventListener("pointerup",me(this,ye))}disableClick(){this.div.removeEventListener("pointerdown",me(this,ce)),this.div.removeEventListener("pointerup",me(this,ye))}attach(W){me(this,ae).set(W.id,W)}detach(W){var ge;me(this,ae).delete(W.id),(ge=me(this,ue))==null||ge.removePointerInTextLayer(W.contentDiv)}remove(W){me(this,U).removeEditor(W),this.detach(W),W.div.style.display="none",setTimeout(()=>{W.div.style.display="",W.div.remove(),W.isAttachedToDOM=!1,document.activeElement===document.body&&me(this,U).focusMainContainer()},0),me(this,Q)||this.addInkEditorIfNeeded(!1)}add(W){if(lt(this,Y,zr).call(this,W),me(this,U).addEditor(W),this.attach(W),!W.isAttachedToDOM){const ge=W.render();this.div.append(ge),W.isAttachedToDOM=!0}this.moveEditorInDOM(W),W.onceAdded(),me(this,U).addToAnnotationStorage(W)}moveEditorInDOM(W){var ge;(ge=me(this,ue))==null||ge.moveElementInDOM(this.div,W.div,W.contentDiv,!0)}addOrRebuild(W){W.needsToBeRebuilt()?W.rebuild():this.add(W)}addANewEditor(W){const ge=()=>{this.addOrRebuild(W)},Ee=()=>{W.remove()};this.addCommands({cmd:ge,undo:Ee,mustExec:!0})}addUndoableEditor(W){const ge=()=>{this.addOrRebuild(W)},Ee=()=>{W.remove()};this.addCommands({cmd:ge,undo:Ee,mustExec:!1})}getNextId(){return me(this,U).getId()}deserialize(W){switch(W.annotationType){case O.AnnotationEditorType.FREETEXT:return $.FreeTextEditor.deserialize(W,this,me(this,U));case O.AnnotationEditorType.INK:return re.InkEditor.deserialize(W,this,me(this,U))}return null}setSelected(W){me(this,U).setSelected(W)}toggleSelected(W){me(this,U).toggleSelected(W)}isSelected(W){return me(this,U).isSelected(W)}unselect(W){me(this,U).unselect(W)}pointerup(W){const{isMac:ge}=O.FeatureTest.platform;if(!(W.button!==0||W.ctrlKey&&ge)&&W.target===this.div&&me(this,J)){if(_t(this,J,!1),!me(this,ie)){_t(this,ie,!0);return}lt(this,Y,Hr).call(this,W)}}pointerdown(W){const{isMac:ge}=O.FeatureTest.platform;if(W.button!==0||W.ctrlKey&&ge||W.target!==this.div)return;_t(this,J,!0);const Ee=me(this,U).getActive();_t(this,ie,!Ee||Ee.isEmpty())}drop(W){const ge=W.dataTransfer.getData("text/plain"),Ee=me(this,U).getEditor(ge);if(!Ee)return;W.preventDefault(),W.dataTransfer.dropEffect="move",lt(this,Y,zr).call(this,Ee);const Te=this.div.getBoundingClientRect(),Ke=W.clientX-Te.x,ft=W.clientY-Te.y;Ee.translate(Ke-Ee.startX,ft-Ee.startY),this.moveEditorInDOM(Ee),Ee.div.focus()}dragover(W){W.preventDefault()}destroy(){var W,ge;((W=me(this,U).getActive())==null?void 0:W.parent)===this&&me(this,U).setActiveEditor(null);for(const Ee of me(this,ae).values())(ge=me(this,ue))==null||ge.removePointerInTextLayer(Ee.contentDiv),Ee.setParent(null),Ee.isAttachedToDOM=!1,Ee.div.remove();this.div=null,me(this,ae).clear(),me(this,U).removeLayer(this)}render({viewport:W}){this.viewport=W,(0,fe.setLayerDimensions)(this.div,W),(0,B.bindEvents)(this,this.div,["dragover","drop"]);for(const ge of me(this,U).getEditors(this.pageIndex))this.add(ge);this.updateMode()}update({viewport:W}){me(this,U).commitOrRemove(),this.viewport=W,(0,fe.setLayerDimensions)(this.div,{rotation:W.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:W,pageHeight:ge}=this.viewport.rawDims;return[W,ge]}};ue=new WeakMap,ie=new WeakMap,ye=new WeakMap,ce=new WeakMap,ae=new WeakMap,J=new WeakMap,Q=new WeakMap,U=new WeakMap,Y=new WeakSet,zr=function(W){var ge;W.parent!==this&&(this.attach(W),(ge=W.parent)==null||ge.detach(W),W.setParent(this),W.div&&W.isAttachedToDOM&&(W.div.remove(),this.div.append(W.div)))},wi=function(W){switch(me(this,U).getMode()){case O.AnnotationEditorType.FREETEXT:return new $.FreeTextEditor(W);case O.AnnotationEditorType.INK:return new re.InkEditor(W)}return null},Hr=function(W){const ge=this.getNextId(),Ee=lt(this,Y,wi).call(this,{parent:this,id:ge,x:W.offsetX,y:W.offsetY,uiManager:me(this,U)});return Ee&&this.add(Ee),Ee},Vr=function(){_t(this,Q,!0);for(const W of me(this,ae).values())W.isEmpty()&&W.remove();_t(this,Q,!1)},dn(G,"_initialized",!1);let ve=G;R.AnnotationEditorLayer=ve},(A,R,V)=>{var fe,ve,ue,ie,ye,ce,ae,J,Q,U,Pi,ki,xi,Ur;Object.defineProperty(R,"__esModule",{value:!0}),R.FreeTextEditor=void 0;var O=V(1),B=V(5),$=V(4);const H=class H extends $.AnnotationEditor{constructor(W){super({...W,name:"freeTextEditor"});pt(this,U);pt(this,fe,this.editorDivBlur.bind(this));pt(this,ve,this.editorDivFocus.bind(this));pt(this,ue,this.editorDivInput.bind(this));pt(this,ie,this.editorDivKeydown.bind(this));pt(this,ye);pt(this,ce,"");pt(this,ae,`${this.id}-editor`);pt(this,J,!1);pt(this,Q);_t(this,ye,W.color||H._defaultColor||$.AnnotationEditor._defaultLineColor),_t(this,Q,W.fontSize||H._defaultFontSize)}static initialize(W){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Ee=>[Ee,W.get(Ee)]));const ge=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ge.getPropertyValue("--freetext-padding"))}static updateDefaultParams(W,ge){switch(W){case O.AnnotationEditorParamsType.FREETEXT_SIZE:H._defaultFontSize=ge;break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:H._defaultColor=ge;break}}updateParams(W,ge){switch(W){case O.AnnotationEditorParamsType.FREETEXT_SIZE:lt(this,U,Pi).call(this,ge);break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:lt(this,U,ki).call(this,ge);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,H._defaultFontSize],[O.AnnotationEditorParamsType.FREETEXT_COLOR,H._defaultColor||$.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,me(this,Q)],[O.AnnotationEditorParamsType.FREETEXT_COLOR,me(this,ye)]]}getInitialTranslation(){const W=this.parentScale;return[-H._internalPadding*W,-(H._internalPadding+me(this,Q))*W]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(O.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",me(this,ie)),this.editorDiv.addEventListener("focus",me(this,ve)),this.editorDiv.addEventListener("blur",me(this,fe)),this.editorDiv.addEventListener("input",me(this,ue)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",me(this,ae)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",me(this,ie)),this.editorDiv.removeEventListener("focus",me(this,ve)),this.editorDiv.removeEventListener("blur",me(this,fe)),this.editorDiv.removeEventListener("input",me(this,ue)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(W){super.focusin(W),W.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),me(this,J)||(_t(this,J,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_t(this,ce,lt(this,U,xi).call(this).trimEnd()),lt(this,U,Ur).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(W){this.enableEditMode(),this.editorDiv.focus()}keydown(W){W.target===this.div&&W.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(W){H._keyboardManager.exec(this,W)}editorDivFocus(W){this.isEditing=!0}editorDivBlur(W){this.isEditing=!1}editorDivInput(W){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let W,ge;this.width&&(W=this.x,ge=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",me(this,ae)),this.enableEditing(),H._l10nPromise.get("editor_free_text2_aria_label").then(Te=>{var Ke;return(Ke=this.editorDiv)==null?void 0:Ke.setAttribute("aria-label",Te)}),H._l10nPromise.get("free_text2_default_content").then(Te=>{var Ke;return(Ke=this.editorDiv)==null?void 0:Ke.setAttribute("default-content",Te)}),this.editorDiv.contentEditable=!0;const{style:Ee}=this.editorDiv;if(Ee.fontSize=`calc(${me(this,Q)}px * var(--scale-factor))`,Ee.color=me(this,ye),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,B.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Te,Ke]=this.parentDimensions;this.setAt(W*Te,ge*Ke,this.width*Te,this.height*Ke);for(const ft of me(this,ce).split(`
`)){const Ye=document.createElement("div");Ye.append(ft?document.createTextNode(ft):document.createElement("br")),this.editorDiv.append(Ye)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(W,ge,Ee){const Te=super.deserialize(W,ge,Ee);return _t(Te,Q,W.fontSize),_t(Te,ye,O.Util.makeHexColor(...W.color)),_t(Te,ce,W.value),Te}serialize(){if(this.isEmpty())return null;const W=H._internalPadding*this.parentScale,ge=this.getRect(W,W),Ee=$.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:me(this,ye));return{annotationType:O.AnnotationEditorType.FREETEXT,color:Ee,fontSize:me(this,Q),value:me(this,ce),pageIndex:this.pageIndex,rect:ge,rotation:this.rotation}}};fe=new WeakMap,ve=new WeakMap,ue=new WeakMap,ie=new WeakMap,ye=new WeakMap,ce=new WeakMap,ae=new WeakMap,J=new WeakMap,Q=new WeakMap,U=new WeakSet,Pi=function(W){const ge=Te=>{this.editorDiv.style.fontSize=`calc(${Te}px * var(--scale-factor))`,this.translate(0,-(Te-me(this,Q))*this.parentScale),_t(this,Q,Te),lt(this,U,Ur).call(this)},Ee=me(this,Q);this.addCommands({cmd:()=>{ge(W)},undo:()=>{ge(Ee)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ki=function(W){const ge=me(this,ye);this.addCommands({cmd:()=>{_t(this,ye,this.editorDiv.style.color=W)},undo:()=>{_t(this,ye,this.editorDiv.style.color=ge)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},xi=function(){const W=this.editorDiv.getElementsByTagName("div");if(W.length===0)return this.editorDiv.innerText;const ge=[];for(const Ee of W)ge.push(Ee.innerText.replace(/\r\n?|\n/,""));return ge.join(`
`)},Ur=function(){const[W,ge]=this.parentDimensions;let Ee;if(this.isAttachedToDOM)Ee=this.div.getBoundingClientRect();else{const{currentLayer:Te,div:Ke}=this,ft=Ke.style.display;Ke.style.display="hidden",Te.div.append(this.div),Ee=Ke.getBoundingClientRect(),Ke.remove(),Ke.style.display=ft}this.width=Ee.width/W,this.height=Ee.height/ge},dn(H,"_freeTextDefaultContent",""),dn(H,"_l10nPromise"),dn(H,"_internalPadding",0),dn(H,"_defaultColor",null),dn(H,"_defaultFontSize",10),dn(H,"_keyboardManager",new B.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],H.prototype.commitOrRemove]])),dn(H,"_type","freetext");let re=H;R.FreeTextEditor=re},(A,R,V)=>{var ie,ye,ce,ae,J,Q,U,Y,ne,q,K,H,G,de,W,Mi,Ti,$i,Ri,Wr,Fi,Ii,Oi,On,qr,gr,vr,er,Gr,br,pe,Xr,Li,Di,Ni,Kr,_r,tr,Yr;Object.defineProperty(R,"__esModule",{value:!0}),R.InkEditor=void 0,Object.defineProperty(R,"fitCurve",{enumerable:!0,get:function(){return $.fitCurve}});var O=V(1),B=V(4),$=V(30),re=V(5);const fe=16,ve=100,oe=class oe extends B.AnnotationEditor{constructor(le){super({...le,name:"inkEditor"});pt(this,W);pt(this,ie,0);pt(this,ye,0);pt(this,ce,0);pt(this,ae,this.canvasPointermove.bind(this));pt(this,J,this.canvasPointerleave.bind(this));pt(this,Q,this.canvasPointerup.bind(this));pt(this,U,this.canvasPointerdown.bind(this));pt(this,Y,!1);pt(this,ne,!1);pt(this,q,null);pt(this,K,null);pt(this,H,0);pt(this,G,0);pt(this,de,null);this.color=le.color||null,this.thickness=le.thickness||null,this.opacity=le.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(le){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(xe=>[xe,le.get(xe)]))}static updateDefaultParams(le,xe){switch(le){case O.AnnotationEditorParamsType.INK_THICKNESS:oe._defaultThickness=xe;break;case O.AnnotationEditorParamsType.INK_COLOR:oe._defaultColor=xe;break;case O.AnnotationEditorParamsType.INK_OPACITY:oe._defaultOpacity=xe/100;break}}updateParams(le,xe){switch(le){case O.AnnotationEditorParamsType.INK_THICKNESS:lt(this,W,Mi).call(this,xe);break;case O.AnnotationEditorParamsType.INK_COLOR:lt(this,W,Ti).call(this,xe);break;case O.AnnotationEditorParamsType.INK_OPACITY:lt(this,W,$i).call(this,xe);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,oe._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,oe._defaultColor||B.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(oe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||oe._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,this.color||oe._defaultColor||B.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??oe._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(lt(this,W,gr).call(this),lt(this,W,vr).call(this)),this.isAttachedToDOM||(this.parent.add(this),lt(this,W,er).call(this)),lt(this,W,tr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,me(this,K).disconnect(),_t(this,K,null),super.remove())}setParent(le){!this.parent&&le?this._uiManager.removeShouldRescale(this):this.parent&&le===null&&this._uiManager.addShouldRescale(this),super.setParent(le)}onScaleChanging(){const[le,xe]=this.parentDimensions,Fe=this.width*le,Le=this.height*xe;this.setDimensions(Fe,Le)}enableEditMode(){me(this,Y)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",me(this,U)),this.canvas.addEventListener("pointerup",me(this,Q)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",me(this,U)),this.canvas.removeEventListener("pointerup",me(this,Q)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){me(this,Y)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_t(this,Y,!0),this.div.classList.add("disabled"),lt(this,W,tr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(le){super.focusin(le),this.enableEditMode()}canvasPointerdown(le){le.button!==0||!this.isInEditMode()||me(this,Y)||(this.setInForeground(),le.type!=="mouse"&&this.div.focus(),le.stopPropagation(),this.canvas.addEventListener("pointerleave",me(this,J)),this.canvas.addEventListener("pointermove",me(this,ae)),lt(this,W,Fi).call(this,le.offsetX,le.offsetY))}canvasPointermove(le){le.stopPropagation(),lt(this,W,Ii).call(this,le.offsetX,le.offsetY)}canvasPointerup(le){le.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(le.stopPropagation(),lt(this,W,qr).call(this,le),this.setInBackground())}canvasPointerleave(le){lt(this,W,qr).call(this,le),this.setInBackground()}render(){if(this.div)return this.div;let le,xe;this.width&&(le=this.x,xe=this.y),super.render(),oe._l10nPromise.get("editor_ink2_aria_label").then(De=>{var Re;return(Re=this.div)==null?void 0:Re.setAttribute("aria-label",De)});const[Fe,Le,Je,Ce]=lt(this,W,Ri).call(this);if(this.setAt(Fe,Le,0,0),this.setDims(Je,Ce),lt(this,W,gr).call(this),this.width){const[De,Re]=this.parentDimensions;this.setAt(le*De,xe*Re,this.width*De,this.height*Re),_t(this,ne,!0),lt(this,W,er).call(this),this.setDims(this.width*De,this.height*Re),lt(this,W,On).call(this),lt(this,W,Yr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return lt(this,W,vr).call(this),this.div}setDimensions(le,xe){const Fe=Math.round(le),Le=Math.round(xe);if(me(this,H)===Fe&&me(this,G)===Le)return;_t(this,H,Fe),_t(this,G,Le),this.canvas.style.visibility="hidden",me(this,ie)&&Math.abs(me(this,ie)-le/xe)>.01&&(xe=Math.ceil(le/me(this,ie)),this.setDims(le,xe));const[Je,Ce]=this.parentDimensions;this.width=le/Je,this.height=xe/Ce,me(this,Y)&&lt(this,W,Gr).call(this,le,xe),lt(this,W,er).call(this),lt(this,W,On).call(this),this.canvas.style.visibility="visible"}static deserialize(le,xe,Fe){var vt,At;const Le=super.deserialize(le,xe,Fe);Le.thickness=le.thickness,Le.color=O.Util.makeHexColor(...le.color),Le.opacity=le.opacity;const[Je,Ce]=Le.pageDimensions,De=Le.width*Je,Re=Le.height*Ce,tt=Le.parentScale,ct=le.thickness/2;_t(Le,ie,De/Re),_t(Le,Y,!0),_t(Le,H,Math.round(De)),_t(Le,G,Math.round(Re));for(const{bezier:Gt}of le.paths){const Zt=[];Le.paths.push(Zt);let at=tt*(Gt[0]-ct),Ge=tt*(Re-Gt[1]-ct);for(let bt=2,Lt=Gt.length;bt<Lt;bt+=6){const Vt=tt*(Gt[bt]-ct),Ut=tt*(Re-Gt[bt+1]-ct),kn=tt*(Gt[bt+2]-ct),zt=tt*(Re-Gt[bt+3]-ct),on=tt*(Gt[bt+4]-ct),yn=tt*(Re-Gt[bt+5]-ct);Zt.push([[at,Ge],[Vt,Ut],[kn,zt],[on,yn]]),at=on,Ge=yn}const He=lt(this,pe,Xr).call(this,Zt);Le.bezierPath2D.push(He)}const gt=lt(vt=Le,W,Kr).call(vt);return _t(Le,ce,Math.max(fe,gt[2]-gt[0])),_t(Le,ye,Math.max(fe,gt[3]-gt[1])),lt(At=Le,W,Gr).call(At,De,Re),Le}serialize(){if(this.isEmpty())return null;const le=this.getRect(0,0),xe=this.rotation%180===0?le[3]-le[1]:le[2]-le[0],Fe=B.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:O.AnnotationEditorType.INK,color:Fe,thickness:this.thickness,opacity:this.opacity,paths:lt(this,W,Li).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,xe),pageIndex:this.pageIndex,rect:le,rotation:this.rotation}}};ie=new WeakMap,ye=new WeakMap,ce=new WeakMap,ae=new WeakMap,J=new WeakMap,Q=new WeakMap,U=new WeakMap,Y=new WeakMap,ne=new WeakMap,q=new WeakMap,K=new WeakMap,H=new WeakMap,G=new WeakMap,de=new WeakMap,W=new WeakSet,Mi=function(le){const xe=this.thickness;this.addCommands({cmd:()=>{this.thickness=le,lt(this,W,tr).call(this)},undo:()=>{this.thickness=xe,lt(this,W,tr).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ti=function(le){const xe=this.color;this.addCommands({cmd:()=>{this.color=le,lt(this,W,On).call(this)},undo:()=>{this.color=xe,lt(this,W,On).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$i=function(le){le/=100;const xe=this.opacity;this.addCommands({cmd:()=>{this.opacity=le,lt(this,W,On).call(this)},undo:()=>{this.opacity=xe,lt(this,W,On).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ri=function(){const{parentRotation:le,parentDimensions:[xe,Fe]}=this;switch(le){case 90:return[0,Fe,Fe,xe];case 180:return[xe,Fe,xe,Fe];case 270:return[xe,0,Fe,xe];default:return[0,0,xe,Fe]}},Wr=function(){const{ctx:le,color:xe,opacity:Fe,thickness:Le,parentScale:Je,scaleFactor:Ce}=this;le.lineWidth=Le*Je/Ce,le.lineCap="round",le.lineJoin="round",le.miterLimit=10,le.strokeStyle=`${xe}${(0,re.opacityToHex)(Fe)}`},Fi=function(le,xe){this.isEditing=!0,me(this,ne)||(_t(this,ne,!0),lt(this,W,er).call(this),this.thickness||(this.thickness=oe._defaultThickness),this.color||(this.color=oe._defaultColor||B.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=oe._defaultOpacity)),this.currentPath.push([le,xe]),_t(this,q,null),lt(this,W,Wr).call(this),this.ctx.beginPath(),this.ctx.moveTo(le,xe),_t(this,de,()=>{me(this,de)&&(me(this,q)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):lt(this,W,On).call(this),this.ctx.lineTo(...me(this,q)),_t(this,q,null),this.ctx.stroke()),window.requestAnimationFrame(me(this,de)))}),window.requestAnimationFrame(me(this,de))},Ii=function(le,xe){const[Fe,Le]=this.currentPath.at(-1);le===Fe&&xe===Le||(this.currentPath.push([le,xe]),_t(this,q,[le,xe]))},Oi=function(le,xe){var tt;this.ctx.closePath(),_t(this,de,null),le=Math.min(Math.max(le,0),this.canvas.width),xe=Math.min(Math.max(xe,0),this.canvas.height);const[Fe,Le]=this.currentPath.at(-1);(le!==Fe||xe!==Le)&&this.currentPath.push([le,xe]);let Je;if(this.currentPath.length!==1)Je=(0,$.fitCurve)(this.currentPath,30,null);else{const ct=[le,xe];Je=[[ct,ct.slice(),ct.slice(),ct]]}const Ce=lt(tt=oe,pe,Xr).call(tt,Je);this.currentPath.length=0;const De=()=>{this.paths.push(Je),this.bezierPath2D.push(Ce),this.rebuild()},Re=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(lt(this,W,gr).call(this),lt(this,W,vr).call(this)),lt(this,W,tr).call(this))};this.addCommands({cmd:De,undo:Re,mustExec:!0})},On=function(){if(this.isEmpty()){lt(this,W,br).call(this);return}lt(this,W,Wr).call(this);const{canvas:le,ctx:xe}=this;xe.setTransform(1,0,0,1,0,0),xe.clearRect(0,0,le.width,le.height),lt(this,W,br).call(this);for(const Fe of this.bezierPath2D)xe.stroke(Fe)},qr=function(le){lt(this,W,Oi).call(this,le.offsetX,le.offsetY),this.canvas.removeEventListener("pointerleave",me(this,J)),this.canvas.removeEventListener("pointermove",me(this,ae)),this.addToAnnotationStorage()},gr=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",oe._l10nPromise.get("editor_ink_canvas_aria_label").then(le=>{var xe;return(xe=this.canvas)==null?void 0:xe.setAttribute("aria-label",le)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vr=function(){let le=null;_t(this,K,new ResizeObserver(xe=>{const Fe=xe[0].contentRect;Fe.width&&Fe.height&&(le!==null&&clearTimeout(le),le=setTimeout(()=>{this.fixDims(),le=null},ve),this.setDimensions(Fe.width,Fe.height))})),me(this,K).observe(this.div)},er=function(){if(!me(this,ne))return;const[le,xe]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*le),this.canvas.height=Math.ceil(this.height*xe),lt(this,W,br).call(this)},Gr=function(le,xe){const Fe=lt(this,W,_r).call(this),Le=(le-Fe)/me(this,ce),Je=(xe-Fe)/me(this,ye);this.scaleFactor=Math.min(Le,Je)},br=function(){const le=lt(this,W,_r).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+le,this.translationY*this.scaleFactor+le)},pe=new WeakSet,Xr=function(le){const xe=new Path2D;for(let Fe=0,Le=le.length;Fe<Le;Fe++){const[Je,Ce,De,Re]=le[Fe];Fe===0&&xe.moveTo(...Je),xe.bezierCurveTo(Ce[0],Ce[1],De[0],De[1],Re[0],Re[1])}return xe},Li=function(le,xe,Fe,Le){const Ce=[],De=this.thickness/2;let Re,tt;for(const ct of this.paths){Re=[],tt=[];for(let gt=0,vt=ct.length;gt<vt;gt++){const[At,Gt,Zt,at]=ct[gt],Ge=le*(At[0]+xe)+De,He=Le-le*(At[1]+Fe)-De,bt=le*(Gt[0]+xe)+De,Lt=Le-le*(Gt[1]+Fe)-De,Vt=le*(Zt[0]+xe)+De,Ut=Le-le*(Zt[1]+Fe)-De,kn=le*(at[0]+xe)+De,zt=Le-le*(at[1]+Fe)-De;gt===0&&(Re.push(Ge,He),tt.push(Ge,He)),Re.push(bt,Lt,Vt,Ut,kn,zt),lt(this,W,Di).call(this,Ge,He,bt,Lt,Vt,Ut,kn,zt,4,tt)}Ce.push({bezier:Re,points:tt})}return Ce},Di=function(le,xe,Fe,Le,Je,Ce,De,Re,tt,ct){if(lt(this,W,Ni).call(this,le,xe,Fe,Le,Je,Ce,De,Re)){ct.push(De,Re);return}for(let gt=1;gt<tt-1;gt++){const vt=gt/tt,At=1-vt;let Gt=vt*le+At*Fe,Zt=vt*xe+At*Le,at=vt*Fe+At*Je,Ge=vt*Le+At*Ce;const He=vt*Je+At*De,bt=vt*Ce+At*Re;Gt=vt*Gt+At*at,Zt=vt*Zt+At*Ge,at=vt*at+At*He,Ge=vt*Ge+At*bt,Gt=vt*Gt+At*at,Zt=vt*Zt+At*Ge,ct.push(Gt,Zt)}ct.push(De,Re)},Ni=function(le,xe,Fe,Le,Je,Ce,De,Re){const ct=(3*Fe-2*le-De)**2,gt=(3*Le-2*xe-Re)**2,vt=(3*Je-le-2*De)**2,At=(3*Ce-xe-2*Re)**2;return Math.max(ct,vt)+Math.max(gt,At)<=10},Kr=function(){let le=1/0,xe=-1/0,Fe=1/0,Le=-1/0;for(const Je of this.paths)for(const[Ce,De,Re,tt]of Je){const ct=O.Util.bezierBoundingBox(...Ce,...De,...Re,...tt);le=Math.min(le,ct[0]),Fe=Math.min(Fe,ct[1]),xe=Math.max(xe,ct[2]),Le=Math.max(Le,ct[3])}return[le,Fe,xe,Le]},_r=function(){return me(this,Y)?Math.ceil(this.thickness*this.parentScale):0},tr=function(le=!1){if(this.isEmpty())return;if(!me(this,Y)){lt(this,W,On).call(this);return}const xe=lt(this,W,Kr).call(this),Fe=lt(this,W,_r).call(this);_t(this,ce,Math.max(fe,xe[2]-xe[0])),_t(this,ye,Math.max(fe,xe[3]-xe[1]));const Le=Math.ceil(Fe+me(this,ce)*this.scaleFactor),Je=Math.ceil(Fe+me(this,ye)*this.scaleFactor),[Ce,De]=this.parentDimensions;this.width=Le/Ce,this.height=Je/De,_t(this,ie,Le/Je),lt(this,W,Yr).call(this);const Re=this.translationX,tt=this.translationY;this.translationX=-xe[0],this.translationY=-xe[1],lt(this,W,er).call(this),lt(this,W,On).call(this),_t(this,H,Le),_t(this,G,Je),this.setDims(Le,Je);const ct=le?Fe/this.scaleFactor/2:0;this.translate(Re-this.translationX-ct,tt-this.translationY-ct)},Yr=function(){const{style:le}=this.div;me(this,ie)>=1?(le.minHeight=`${fe}px`,le.minWidth=`${Math.round(me(this,ie)*fe)}px`):(le.minWidth=`${fe}px`,le.minHeight=`${Math.round(fe/me(this,ie))}px`)},pt(oe,pe),dn(oe,"_defaultColor",null),dn(oe,"_defaultOpacity",1),dn(oe,"_defaultThickness",1),dn(oe,"_l10nPromise"),dn(oe,"_type","ink");let ue=oe;R.InkEditor=ue},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.fitCurve=void 0;const O=V(31);R.fitCurve=O},A=>{function R(J,Q,U){if(!Array.isArray(J))throw new TypeError("First argument should be an array");if(J.forEach(K=>{if(!Array.isArray(K)||K.some(H=>typeof H!="number")||K.length!==J[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),J=J.filter((K,H)=>H===0||!K.every((G,de)=>G===J[H-1][de])),J.length<2)return[];const Y=J.length,ne=ye(J[1],J[0]),q=ye(J[Y-2],J[Y-1]);return V(J,ne,q,Q,U)}function V(J,Q,U,Y,ne){var K,H,G,de,W,ge,Ee,Te,Ke,ft,Ye,et,qe;if(J.length===2)return et=ce.vectorLen(ce.subtract(J[0],J[1]))/3,K=[J[0],ce.addArrays(J[0],ce.mulItems(Q,et)),ce.addArrays(J[1],ce.mulItems(U,et)),J[1]],[K];if(H=fe(J),[K,de,ge]=O(J,H,H,Q,U,ne),de===0||de<Y)return[K];if(de<Y*Y)for(G=H,W=de,Ee=ge,qe=0;qe<20;qe++){if(G=$(K,J,G),[K,de,ge]=O(J,H,G,Q,U,ne),de<Y)return[K];if(ge===Ee){let Ne=de/W;if(Ne>.9999&&Ne<1.0001)break}W=de,Ee=ge}return Ye=[],Te=ce.subtract(J[ge-1],J[ge+1]),Te.every(Ne=>Ne===0)&&(Te=ce.subtract(J[ge-1],J[ge]),[Te[0],Te[1]]=[-Te[1],Te[0]]),Ke=ce.normalize(Te),ft=ce.mulItems(Ke,-1),Ye=Ye.concat(V(J.slice(0,ge+1),Q,Ke,Y,ne)),Ye=Ye.concat(V(J.slice(ge),ft,U,Y,ne)),Ye}function O(J,Q,U,Y,ne,q){var K,H,G;return K=B(J,U,Y,ne),[H,G]=ve(J,K,Q),q&&q({bez:K,points:J,params:Q,maxErr:H,maxPoint:G}),[K,H,G]}function B(J,Q,U,Y){var ne,q,K,H,G,de,W,ge,Ee,Te,Ke,ft,Ye,et,qe,Ne,Be,Qe=J[0],nt=J[J.length-1];for(ne=[Qe,null,null,nt],q=ce.zeros_Xx2x2(Q.length),Ye=0,et=Q.length;Ye<et;Ye++)Ne=Q[Ye],Be=1-Ne,K=q[Ye],K[0]=ce.mulItems(U,3*Ne*(Be*Be)),K[1]=ce.mulItems(Y,3*Be*(Ne*Ne));for(H=[[0,0],[0,0]],G=[0,0],Ye=0,et=J.length;Ye<et;Ye++)Ne=Q[Ye],K=q[Ye],H[0][0]+=ce.dot(K[0],K[0]),H[0][1]+=ce.dot(K[0],K[1]),H[1][0]+=ce.dot(K[0],K[1]),H[1][1]+=ce.dot(K[1],K[1]),qe=ce.subtract(J[Ye],ae.q([Qe,Qe,nt,nt],Ne)),G[0]+=ce.dot(K[0],qe),G[1]+=ce.dot(K[1],qe);return de=H[0][0]*H[1][1]-H[1][0]*H[0][1],W=H[0][0]*G[1]-H[1][0]*G[0],ge=G[0]*H[1][1]-G[1]*H[0][1],Ee=de===0?0:ge/de,Te=de===0?0:W/de,ft=ce.vectorLen(ce.subtract(Qe,nt)),Ke=1e-6*ft,Ee<Ke||Te<Ke?(ne[1]=ce.addArrays(Qe,ce.mulItems(U,ft/3)),ne[2]=ce.addArrays(nt,ce.mulItems(Y,ft/3))):(ne[1]=ce.addArrays(Qe,ce.mulItems(U,Ee)),ne[2]=ce.addArrays(nt,ce.mulItems(Y,Te))),ne}function $(J,Q,U){return U.map((Y,ne)=>re(J,Q[ne],Y))}function re(J,Q,U){var Y=ce.subtract(ae.q(J,U),Q),ne=ae.qprime(J,U),q=ce.mulMatrix(Y,ne),K=ce.sum(ce.squareItems(ne))+2*ce.mulMatrix(Y,ae.qprimeprime(J,U));return K===0?U:U-q/K}function fe(J){var Q=[],U,Y,ne;return J.forEach((q,K)=>{U=K?Y+ce.vectorLen(ce.subtract(q,ne)):0,Q.push(U),Y=U,ne=q}),Q=Q.map(q=>q/Y),Q}function ve(J,Q,U){var Y,ne,q,K,H,G,de,W;ne=0,q=Math.floor(J.length/2);const ge=ue(Q,10);for(H=0,G=J.length;H<G;H++)de=J[H],W=ie(Q,U[H],ge,10),K=ce.subtract(ae.q(Q,W),de),Y=K[0]*K[0]+K[1]*K[1],Y>ne&&(ne=Y,q=H);return[ne,q]}var ue=function(J,Q){for(var U,Y=[0],ne=J[0],q=0,K=1;K<=Q;K++)U=ae.q(J,K/Q),q+=ce.vectorLen(ce.subtract(U,ne)),Y.push(q),ne=U;return Y=Y.map(H=>H/q),Y};function ie(J,Q,U,Y){if(Q<0)return 0;if(Q>1)return 1;for(var ne,q,K,H,G,de=1;de<=Y;de++)if(Q<=U[de]){H=(de-1)/Y,K=de/Y,q=U[de-1],ne=U[de],G=(Q-q)/(ne-q)*(K-H)+H;break}return G}function ye(J,Q){return ce.normalize(ce.subtract(J,Q))}class ce{static zeros_Xx2x2(Q){for(var U=[];Q--;)U.push([0,0]);return U}static mulItems(Q,U){return Q.map(Y=>Y*U)}static mulMatrix(Q,U){return Q.reduce((Y,ne,q)=>Y+ne*U[q],0)}static subtract(Q,U){return Q.map((Y,ne)=>Y-U[ne])}static addArrays(Q,U){return Q.map((Y,ne)=>Y+U[ne])}static addItems(Q,U){return Q.map(Y=>Y+U)}static sum(Q){return Q.reduce((U,Y)=>U+Y)}static dot(Q,U){return ce.mulMatrix(Q,U)}static vectorLen(Q){return Math.hypot(...Q)}static divItems(Q,U){return Q.map(Y=>Y/U)}static squareItems(Q){return Q.map(U=>U*U)}static normalize(Q){return this.divItems(Q,this.vectorLen(Q))}}class ae{static q(Q,U){var Y=1-U,ne=ce.mulItems(Q[0],Y*Y*Y),q=ce.mulItems(Q[1],3*Y*Y*U),K=ce.mulItems(Q[2],3*Y*U*U),H=ce.mulItems(Q[3],U*U*U);return ce.addArrays(ce.addArrays(ne,q),ce.addArrays(K,H))}static qprime(Q,U){var Y=1-U,ne=ce.mulItems(ce.subtract(Q[1],Q[0]),3*Y*Y),q=ce.mulItems(ce.subtract(Q[2],Q[1]),6*Y*U),K=ce.mulItems(ce.subtract(Q[3],Q[2]),3*U*U);return ce.addArrays(ce.addArrays(ne,q),K)}static qprimeprime(Q,U){return ce.addArrays(ce.mulItems(ce.addArrays(ce.subtract(Q[2],ce.mulItems(Q[1],2)),Q[0]),6*(1-U)),ce.mulItems(ce.addArrays(ce.subtract(Q[3],ce.mulItems(Q[2],2)),Q[1]),6*U))}}A.exports=R,A.exports.fitCubic=V,A.exports.createTangent=ye},(A,R,V)=>{var te,Xn,ji,Se,Zr,Jr;Object.defineProperty(R,"__esModule",{value:!0}),R.AnnotationLayer=void 0;var O=V(1),B=V(6),$=V(3),re=V(33),fe=V(34);const ve=1e3,ue=9,ie=new WeakSet;function ye(We){return{width:We[2]-We[0],height:We[3]-We[1]}}class ce{static create(ee){switch(ee.data.annotationType){case O.AnnotationType.LINK:return new J(ee);case O.AnnotationType.TEXT:return new Q(ee);case O.AnnotationType.WIDGET:switch(ee.data.fieldType){case"Tx":return new Y(ee);case"Btn":return ee.data.radioButton?new q(ee):ee.data.checkBox?new ne(ee):new K(ee);case"Ch":return new H(ee)}return new U(ee);case O.AnnotationType.POPUP:return new G(ee);case O.AnnotationType.FREETEXT:return new W(ee);case O.AnnotationType.LINE:return new ge(ee);case O.AnnotationType.SQUARE:return new Ee(ee);case O.AnnotationType.CIRCLE:return new Te(ee);case O.AnnotationType.POLYLINE:return new Ke(ee);case O.AnnotationType.CARET:return new Ye(ee);case O.AnnotationType.INK:return new et(ee);case O.AnnotationType.POLYGON:return new ft(ee);case O.AnnotationType.HIGHLIGHT:return new qe(ee);case O.AnnotationType.UNDERLINE:return new Ne(ee);case O.AnnotationType.SQUIGGLY:return new Be(ee);case O.AnnotationType.STRIKEOUT:return new Qe(ee);case O.AnnotationType.STAMP:return new nt(ee);case O.AnnotationType.FILEATTACHMENT:return new Pe(ee);default:return new ae(ee)}}}class ae{constructor(ee,{isRenderable:oe=!1,ignoreBorder:be=!1,createQuadrilaterals:_e=!1}={}){this.isRenderable=oe,this.data=ee.data,this.layer=ee.layer,this.page=ee.page,this.viewport=ee.viewport,this.linkService=ee.linkService,this.downloadManager=ee.downloadManager,this.imageResourcesPath=ee.imageResourcesPath,this.renderForms=ee.renderForms,this.svgFactory=ee.svgFactory,this.annotationStorage=ee.annotationStorage,this.enableScripting=ee.enableScripting,this.hasJSActions=ee.hasJSActions,this._fieldObjects=ee.fieldObjects,oe&&(this.container=this._createContainer(be)),_e&&(this.quadrilaterals=this._createQuadrilaterals(be))}_createContainer(ee=!1){const{data:oe,page:be,viewport:_e}=this,le=document.createElement("section");le.setAttribute("data-annotation-id",oe.id);const{pageWidth:xe,pageHeight:Fe,pageX:Le,pageY:Je}=_e.rawDims,{width:Ce,height:De}=ye(oe.rect),Re=O.Util.normalizeRect([oe.rect[0],be.view[3]-oe.rect[1]+be.view[1],oe.rect[2],be.view[3]-oe.rect[3]+be.view[1]]);if(!ee&&oe.borderStyle.width>0){le.style.borderWidth=`${oe.borderStyle.width}px`;const ct=oe.borderStyle.horizontalCornerRadius,gt=oe.borderStyle.verticalCornerRadius;if(ct>0||gt>0){const At=`calc(${ct}px * var(--scale-factor)) / calc(${gt}px * var(--scale-factor))`;le.style.borderRadius=At}else if(this instanceof q){const At=`calc(${Ce}px * var(--scale-factor)) / calc(${De}px * var(--scale-factor))`;le.style.borderRadius=At}switch(oe.borderStyle.style){case O.AnnotationBorderStyleType.SOLID:le.style.borderStyle="solid";break;case O.AnnotationBorderStyleType.DASHED:le.style.borderStyle="dashed";break;case O.AnnotationBorderStyleType.BEVELED:(0,O.warn)("Unimplemented border style: beveled");break;case O.AnnotationBorderStyleType.INSET:(0,O.warn)("Unimplemented border style: inset");break;case O.AnnotationBorderStyleType.UNDERLINE:le.style.borderBottomStyle="solid";break}const vt=oe.borderColor||null;vt?le.style.borderColor=O.Util.makeHexColor(vt[0]|0,vt[1]|0,vt[2]|0):le.style.borderWidth=0}le.style.left=`${100*(Re[0]-Le)/xe}%`,le.style.top=`${100*(Re[1]-Je)/Fe}%`;const{rotation:tt}=oe;return oe.hasOwnCanvas||tt===0?(le.style.width=`${100*Ce/xe}%`,le.style.height=`${100*De/Fe}%`):this.setRotation(tt,le),le}setRotation(ee,oe=this.container){const{pageWidth:be,pageHeight:_e}=this.viewport.rawDims,{width:le,height:xe}=ye(this.data.rect);let Fe,Le;ee%180===0?(Fe=100*le/be,Le=100*xe/_e):(Fe=100*xe/be,Le=100*le/_e),oe.style.width=`${Fe}%`,oe.style.height=`${Le}%`,oe.setAttribute("data-main-rotation",(360-ee)%360)}get _commonActions(){const ee=(oe,be,_e)=>{const le=_e.detail[oe];_e.target.style[be]=re.ColorConverters[`${le[0]}_HTML`](le.slice(1))};return(0,O.shadow)(this,"_commonActions",{display:oe=>{const be=oe.detail.display%2===1;this.container.style.visibility=be?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:be,print:oe.detail.display===0||oe.detail.display===3})},print:oe=>{this.annotationStorage.setValue(this.data.id,{print:oe.detail.print})},hidden:oe=>{this.container.style.visibility=oe.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:oe.detail.hidden})},focus:oe=>{setTimeout(()=>oe.target.focus({preventScroll:!1}),0)},userName:oe=>{oe.target.title=oe.detail.userName},readonly:oe=>{oe.detail.readonly?oe.target.setAttribute("readonly",""):oe.target.removeAttribute("readonly")},required:oe=>{this._setRequired(oe.target,oe.detail.required)},bgColor:oe=>{ee("bgColor","backgroundColor",oe)},fillColor:oe=>{ee("fillColor","backgroundColor",oe)},fgColor:oe=>{ee("fgColor","color",oe)},textColor:oe=>{ee("textColor","color",oe)},borderColor:oe=>{ee("borderColor","borderColor",oe)},strokeColor:oe=>{ee("strokeColor","borderColor",oe)},rotation:oe=>{const be=oe.detail.rotation;this.setRotation(be),this.annotationStorage.setValue(this.data.id,{rotation:be})}})}_dispatchEventFromSandbox(ee,oe){const be=this._commonActions;for(const _e of Object.keys(oe.detail)){const le=ee[_e]||be[_e];le==null||le(oe)}}_setDefaultPropertiesFromJS(ee){if(!this.enableScripting)return;const oe=this.annotationStorage.getRawValue(this.data.id);if(!oe)return;const be=this._commonActions;for(const[_e,le]of Object.entries(oe)){const xe=be[_e];if(xe){const Fe={detail:{[_e]:le},target:ee};xe(Fe),delete oe[_e]}}}_createQuadrilaterals(ee=!1){if(!this.data.quadPoints)return null;const oe=[],be=this.data.rect;for(const _e of this.data.quadPoints)this.data.rect=[_e[2].x,_e[2].y,_e[1].x,_e[1].y],oe.push(this._createContainer(ee));return this.data.rect=be,oe}_createPopup(ee,oe){let be=this.container;this.quadrilaterals&&(ee=ee||this.quadrilaterals,be=this.quadrilaterals[0]),ee||(ee=document.createElement("div"),ee.className="popupTriggerArea",be.append(ee));const le=new de({container:be,trigger:ee,color:oe.color,titleObj:oe.titleObj,modificationDate:oe.modificationDate,contentsObj:oe.contentsObj,richText:oe.richText,hideWrapper:!0}).render();le.style.left="100%",be.append(le)}_renderQuadrilaterals(ee){for(const oe of this.quadrilaterals)oe.className=ee;return this.quadrilaterals}render(){(0,O.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ee,oe=null){const be=[];if(this._fieldObjects){const _e=this._fieldObjects[ee];if(_e)for(const{page:le,id:xe,exportValues:Fe}of _e){if(le===-1||xe===oe)continue;const Le=typeof Fe=="string"?Fe:null,Je=document.querySelector(`[data-element-id="${xe}"]`);if(Je&&!ie.has(Je)){(0,O.warn)(`_getElementsByName - element not allowed: ${xe}`);continue}be.push({id:xe,exportValue:Le,domElement:Je})}return be}for(const _e of document.getElementsByName(ee)){const{exportValue:le}=_e,xe=_e.getAttribute("data-element-id");xe!==oe&&ie.has(_e)&&be.push({id:xe,exportValue:le,domElement:_e})}return be}}class J extends ae{constructor(oe,be=null){super(oe,{isRenderable:!0,ignoreBorder:!!(be!=null&&be.ignoreBorder),createQuadrilaterals:!0});pt(this,te);this.isTooltipOnly=oe.data.isTooltipOnly}render(){const{data:oe,linkService:be}=this,_e=document.createElement("a");_e.setAttribute("data-element-id",oe.id);let le=!1;return oe.url?(be.addLinkAttributes(_e,oe.url,oe.newWindow),le=!0):oe.action?(this._bindNamedAction(_e,oe.action),le=!0):oe.attachment?(this._bindAttachment(_e,oe.attachment),le=!0):oe.setOCGState?(lt(this,te,ji).call(this,_e,oe.setOCGState),le=!0):oe.dest?(this._bindLink(_e,oe.dest),le=!0):(oe.actions&&(oe.actions.Action||oe.actions["Mouse Up"]||oe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(_e,oe),le=!0),oe.resetForm?(this._bindResetFormAction(_e,oe.resetForm),le=!0):this.isTooltipOnly&&!le&&(this._bindLink(_e,""),le=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((xe,Fe)=>{const Le=Fe===0?_e:_e.cloneNode();return xe.append(Le),xe}):(this.container.className="linkAnnotation",le&&this.container.append(_e),this.container)}_bindLink(oe,be){oe.href=this.linkService.getDestinationHash(be),oe.onclick=()=>(be&&this.linkService.goToDestination(be),!1),(be||be==="")&&lt(this,te,Xn).call(this)}_bindNamedAction(oe,be){oe.href=this.linkService.getAnchorUrl(""),oe.onclick=()=>(this.linkService.executeNamedAction(be),!1),lt(this,te,Xn).call(this)}_bindAttachment(oe,be){oe.href=this.linkService.getAnchorUrl(""),oe.onclick=()=>{var _e;return(_e=this.downloadManager)==null||_e.openOrDownloadData(this.container,be.content,be.filename),!1},lt(this,te,Xn).call(this)}_bindJSAction(oe,be){oe.href=this.linkService.getAnchorUrl("");const _e=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const le of Object.keys(be.actions)){const xe=_e.get(le);xe&&(oe[xe]=()=>{var Fe;return(Fe=this.linkService.eventBus)==null||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:be.id,name:le}}),!1})}oe.onclick||(oe.onclick=()=>!1),lt(this,te,Xn).call(this)}_bindResetFormAction(oe,be){const _e=oe.onclick;if(_e||(oe.href=this.linkService.getAnchorUrl("")),lt(this,te,Xn).call(this),!this._fieldObjects){(0,O.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),_e||(oe.onclick=()=>!1);return}oe.onclick=()=>{var De;_e==null||_e();const{fields:le,refs:xe,include:Fe}=be,Le=[];if(le.length!==0||xe.length!==0){const Re=new Set(xe);for(const tt of le){const ct=this._fieldObjects[tt]||[];for(const{id:gt}of ct)Re.add(gt)}for(const tt of Object.values(this._fieldObjects))for(const ct of tt)Re.has(ct.id)===Fe&&Le.push(ct)}else for(const Re of Object.values(this._fieldObjects))Le.push(...Re);const Je=this.annotationStorage,Ce=[];for(const Re of Le){const{id:tt}=Re;switch(Ce.push(tt),Re.type){case"text":{const gt=Re.defaultValue||"";Je.setValue(tt,{value:gt});break}case"checkbox":case"radiobutton":{const gt=Re.defaultValue===Re.exportValues;Je.setValue(tt,{value:gt});break}case"combobox":case"listbox":{const gt=Re.defaultValue||"";Je.setValue(tt,{value:gt});break}default:continue}const ct=document.querySelector(`[data-element-id="${tt}"]`);if(ct){if(!ie.has(ct)){(0,O.warn)(`_bindResetFormAction - element not allowed: ${tt}`);continue}}else continue;ct.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((De=this.linkService.eventBus)==null||De.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ce,name:"ResetForm"}})),!1}}}te=new WeakSet,Xn=function(){this.container.setAttribute("data-internal-link","")},ji=function(oe,be){oe.href=this.linkService.getAnchorUrl(""),oe.onclick=()=>(this.linkService.executeSetOCGState(be),!1),lt(this,te,Xn).call(this)};class Q extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe})}render(){this.container.className="textAnnotation";const ee=document.createElement("img");return ee.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ee.alt="[{{type}} Annotation]",ee.dataset.l10nId="text_annotation_type",ee.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ee,this.data),this.container.append(ee),this.container}}class U extends ae{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ee){const{isWin:oe,isMac:be}=O.FeatureTest.platform;return oe&&ee.ctrlKey||be&&ee.metaKey}_setEventListener(ee,oe,be,_e){oe.includes("mouse")?ee.addEventListener(oe,le=>{var xe;(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:be,value:_e(le),shift:le.shiftKey,modifier:this._getKeyModifier(le)}})}):ee.addEventListener(oe,le=>{var xe;(xe=this.linkService.eventBus)==null||xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:be,value:_e(le)}})})}_setEventListeners(ee,oe,be){var _e;for(const[le,xe]of oe)(xe==="Action"||(_e=this.data.actions)!=null&&_e[xe])&&this._setEventListener(ee,le,xe,be)}_setBackgroundColor(ee){const oe=this.data.backgroundColor||null;ee.style.backgroundColor=oe===null?"transparent":O.Util.makeHexColor(oe[0],oe[1],oe[2])}_setTextStyle(ee){const oe=["left","center","right"],{fontColor:be}=this.data.defaultAppearanceData,_e=this.data.defaultAppearanceData.fontSize||ue,le=ee.style;let xe;const Fe=2,Le=Je=>Math.round(10*Je)/10;if(this.data.multiLine){const Je=Math.abs(this.data.rect[3]-this.data.rect[1]-Fe),Ce=Math.round(Je/(O.LINE_FACTOR*_e))||1,De=Je/Ce;xe=Math.min(_e,Le(De/O.LINE_FACTOR))}else{const Je=Math.abs(this.data.rect[3]-this.data.rect[1]-Fe);xe=Math.min(_e,Le(Je/O.LINE_FACTOR))}le.fontSize=`calc(${xe}px * var(--scale-factor))`,le.color=O.Util.makeHexColor(be[0],be[1],be[2]),this.data.textAlignment!==null&&(le.textAlign=oe[this.data.textAlignment])}_setRequired(ee,oe){oe?ee.setAttribute("required",!0):ee.removeAttribute("required"),ee.setAttribute("aria-required",oe)}}class Y extends U{constructor(ee){const oe=ee.renderForms||!ee.data.hasAppearance&&!!ee.data.fieldValue;super(ee,{isRenderable:oe})}setPropertyOnSiblings(ee,oe,be,_e){const le=this.annotationStorage;for(const xe of this._getElementsByName(ee.name,ee.id))xe.domElement&&(xe.domElement[oe]=be),le.setValue(xe.id,{[_e]:be})}render(){var _e;const ee=this.annotationStorage,oe=this.data.id;this.container.className="textWidgetAnnotation";let be=null;if(this.renderForms){const le=ee.getValue(oe,{value:this.data.fieldValue});let xe=le.formattedValue||le.value||"";const Fe=ee.getValue(oe,{charLimit:this.data.maxLen}).charLimit;Fe&&xe.length>Fe&&(xe=xe.slice(0,Fe));const Le={userValue:xe,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(be=document.createElement("textarea"),be.textContent=xe,this.data.doNotScroll&&(be.style.overflowY="hidden")):(be=document.createElement("input"),be.type="text",be.setAttribute("value",xe),this.data.doNotScroll&&(be.style.overflowX="hidden")),ie.add(be),be.setAttribute("data-element-id",oe),be.disabled=this.data.readOnly,be.name=this.data.fieldName,be.tabIndex=ve,this._setRequired(be,this.data.required),Fe&&(be.maxLength=Fe),be.addEventListener("input",Ce=>{ee.setValue(oe,{value:Ce.target.value}),this.setPropertyOnSiblings(be,"value",Ce.target.value,"value")}),be.addEventListener("resetform",Ce=>{const De=this.data.defaultFieldValue??"";be.value=Le.userValue=De,Le.formattedValue=null});let Je=Ce=>{const{formattedValue:De}=Le;De!=null&&(Ce.target.value=De),Ce.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){be.addEventListener("focus",De=>{const{target:Re}=De;Le.userValue&&(Re.value=Le.userValue),Le.lastCommittedValue=Re.value,Le.commitKey=1}),be.addEventListener("updatefromsandbox",De=>{const Re={value(tt){Le.userValue=tt.detail.value??"",ee.setValue(oe,{value:Le.userValue.toString()}),tt.target.value=Le.userValue},formattedValue(tt){const{formattedValue:ct}=tt.detail;Le.formattedValue=ct,ct!=null&&tt.target!==document.activeElement&&(tt.target.value=ct),ee.setValue(oe,{formattedValue:ct})},selRange(tt){tt.target.setSelectionRange(...tt.detail.selRange)},charLimit:tt=>{var At;const{charLimit:ct}=tt.detail,{target:gt}=tt;if(ct===0){gt.removeAttribute("maxLength");return}gt.setAttribute("maxLength",ct);let vt=Le.userValue;!vt||vt.length<=ct||(vt=vt.slice(0,ct),gt.value=Le.userValue=vt,ee.setValue(oe,{value:vt}),(At=this.linkService.eventBus)==null||At.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe,name:"Keystroke",value:vt,willCommit:!0,commitKey:1,selStart:gt.selectionStart,selEnd:gt.selectionEnd}}))}};this._dispatchEventFromSandbox(Re,De)}),be.addEventListener("keydown",De=>{var ct;Le.commitKey=1;let Re=-1;if(De.key==="Escape"?Re=0:De.key==="Enter"&&!this.data.multiLine?Re=2:De.key==="Tab"&&(Le.commitKey=3),Re===-1)return;const{value:tt}=De.target;Le.lastCommittedValue!==tt&&(Le.lastCommittedValue=tt,Le.userValue=tt,(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe,name:"Keystroke",value:tt,willCommit:!0,commitKey:Re,selStart:De.target.selectionStart,selEnd:De.target.selectionEnd}}))});const Ce=Je;Je=null,be.addEventListener("blur",De=>{var tt;if(!De.relatedTarget)return;const{value:Re}=De.target;Le.userValue=Re,Le.lastCommittedValue!==Re&&((tt=this.linkService.eventBus)==null||tt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe,name:"Keystroke",value:Re,willCommit:!0,commitKey:Le.commitKey,selStart:De.target.selectionStart,selEnd:De.target.selectionEnd}})),Ce(De)}),(_e=this.data.actions)!=null&&_e.Keystroke&&be.addEventListener("beforeinput",De=>{var Zt;Le.lastCommittedValue=null;const{data:Re,target:tt}=De,{value:ct,selectionStart:gt,selectionEnd:vt}=tt;let At=gt,Gt=vt;switch(De.inputType){case"deleteWordBackward":{const at=ct.substring(0,gt).match(/\w*[^\w]*$/);at&&(At-=at[0].length);break}case"deleteWordForward":{const at=ct.substring(gt).match(/^[^\w]*\w*/);at&&(Gt+=at[0].length);break}case"deleteContentBackward":gt===vt&&(At-=1);break;case"deleteContentForward":gt===vt&&(Gt+=1);break}De.preventDefault(),(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe,name:"Keystroke",value:ct,change:Re||"",willCommit:!1,selStart:At,selEnd:Gt}})}),this._setEventListeners(be,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],De=>De.target.value)}if(Je&&be.addEventListener("blur",Je),this.data.comb){const De=(this.data.rect[2]-this.data.rect[0])/Fe;be.classList.add("comb"),be.style.letterSpacing=`calc(${De}px * var(--scale-factor) - 1ch)`}}else be=document.createElement("div"),be.textContent=this.data.fieldValue,be.style.verticalAlign="middle",be.style.display="table-cell";return this._setTextStyle(be),this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.append(be),this.container}}class ne extends U{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){const ee=this.annotationStorage,oe=this.data,be=oe.id;let _e=ee.getValue(be,{value:oe.exportValue===oe.fieldValue}).value;typeof _e=="string"&&(_e=_e!=="Off",ee.setValue(be,{value:_e})),this.container.className="buttonWidgetAnnotation checkBox";const le=document.createElement("input");return ie.add(le),le.setAttribute("data-element-id",be),le.disabled=oe.readOnly,this._setRequired(le,this.data.required),le.type="checkbox",le.name=oe.fieldName,_e&&le.setAttribute("checked",!0),le.setAttribute("exportValue",oe.exportValue),le.tabIndex=ve,le.addEventListener("change",xe=>{const{name:Fe,checked:Le}=xe.target;for(const Je of this._getElementsByName(Fe,be)){const Ce=Le&&Je.exportValue===oe.exportValue;Je.domElement&&(Je.domElement.checked=Ce),ee.setValue(Je.id,{value:Ce})}ee.setValue(be,{value:Le})}),le.addEventListener("resetform",xe=>{const Fe=oe.defaultFieldValue||"Off";xe.target.checked=Fe===oe.exportValue}),this.enableScripting&&this.hasJSActions&&(le.addEventListener("updatefromsandbox",xe=>{const Fe={value(Le){Le.target.checked=Le.detail.value!=="Off",ee.setValue(be,{value:Le.target.checked})}};this._dispatchEventFromSandbox(Fe,xe)}),this._setEventListeners(le,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xe=>xe.target.checked)),this._setBackgroundColor(le),this._setDefaultPropertiesFromJS(le),this.container.append(le),this.container}}class q extends U{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ee=this.annotationStorage,oe=this.data,be=oe.id;let _e=ee.getValue(be,{value:oe.fieldValue===oe.buttonValue}).value;typeof _e=="string"&&(_e=_e!==oe.buttonValue,ee.setValue(be,{value:_e}));const le=document.createElement("input");if(ie.add(le),le.setAttribute("data-element-id",be),le.disabled=oe.readOnly,this._setRequired(le,this.data.required),le.type="radio",le.name=oe.fieldName,_e&&le.setAttribute("checked",!0),le.tabIndex=ve,le.addEventListener("change",xe=>{const{name:Fe,checked:Le}=xe.target;for(const Je of this._getElementsByName(Fe,be))ee.setValue(Je.id,{value:!1});ee.setValue(be,{value:Le})}),le.addEventListener("resetform",xe=>{const Fe=oe.defaultFieldValue;xe.target.checked=Fe!=null&&Fe===oe.buttonValue}),this.enableScripting&&this.hasJSActions){const xe=oe.buttonValue;le.addEventListener("updatefromsandbox",Fe=>{const Le={value:Je=>{const Ce=xe===Je.detail.value;for(const De of this._getElementsByName(Je.target.name)){const Re=Ce&&De.id===be;De.domElement&&(De.domElement.checked=Re),ee.setValue(De.id,{value:Re})}}};this._dispatchEventFromSandbox(Le,Fe)}),this._setEventListeners(le,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fe=>Fe.target.checked)}return this._setBackgroundColor(le),this._setDefaultPropertiesFromJS(le),this.container.append(le),this.container}}class K extends J{constructor(ee){super(ee,{ignoreBorder:ee.data.hasAppearance})}render(){const ee=super.render();ee.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ee.title=this.data.alternativeText);const oe=ee.lastChild;return this.enableScripting&&this.hasJSActions&&oe&&(this._setDefaultPropertiesFromJS(oe),oe.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({},be)})),ee}}class H extends U{constructor(ee){super(ee,{isRenderable:ee.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ee=this.annotationStorage,oe=this.data.id,be=ee.getValue(oe,{value:this.data.fieldValue}),_e=document.createElement("select");ie.add(_e),_e.setAttribute("data-element-id",oe),_e.disabled=this.data.readOnly,this._setRequired(_e,this.data.required),_e.name=this.data.fieldName,_e.tabIndex=ve;let le=this.data.combo&&this.data.options.length>0;this.data.combo||(_e.size=this.data.options.length,this.data.multiSelect&&(_e.multiple=!0)),_e.addEventListener("resetform",Ce=>{const De=this.data.defaultFieldValue;for(const Re of _e.options)Re.selected=Re.value===De});for(const Ce of this.data.options){const De=document.createElement("option");De.textContent=Ce.displayValue,De.value=Ce.exportValue,be.value.includes(Ce.exportValue)&&(De.setAttribute("selected",!0),le=!1),_e.append(De)}let xe=null;if(le){const Ce=document.createElement("option");Ce.value=" ",Ce.setAttribute("hidden",!0),Ce.setAttribute("selected",!0),_e.prepend(Ce),xe=()=>{Ce.remove(),_e.removeEventListener("input",xe),xe=null},_e.addEventListener("input",xe)}const Fe=Ce=>{const De=Ce?"value":"textContent",{options:Re,multiple:tt}=_e;return tt?Array.prototype.filter.call(Re,ct=>ct.selected).map(ct=>ct[De]):Re.selectedIndex===-1?null:Re[Re.selectedIndex][De]};let Le=Fe(!1);const Je=Ce=>{const De=Ce.target.options;return Array.prototype.map.call(De,Re=>({displayValue:Re.textContent,exportValue:Re.value}))};return this.enableScripting&&this.hasJSActions?(_e.addEventListener("updatefromsandbox",Ce=>{const De={value(Re){xe==null||xe();const tt=Re.detail.value,ct=new Set(Array.isArray(tt)?tt:[tt]);for(const gt of _e.options)gt.selected=ct.has(gt.value);ee.setValue(oe,{value:Fe(!0)}),Le=Fe(!1)},multipleSelection(Re){_e.multiple=!0},remove(Re){const tt=_e.options,ct=Re.detail.remove;tt[ct].selected=!1,_e.remove(ct),tt.length>0&&Array.prototype.findIndex.call(tt,vt=>vt.selected)===-1&&(tt[0].selected=!0),ee.setValue(oe,{value:Fe(!0),items:Je(Re)}),Le=Fe(!1)},clear(Re){for(;_e.length!==0;)_e.remove(0);ee.setValue(oe,{value:null,items:[]}),Le=Fe(!1)},insert(Re){const{index:tt,displayValue:ct,exportValue:gt}=Re.detail.insert,vt=_e.children[tt],At=document.createElement("option");At.textContent=ct,At.value=gt,vt?vt.before(At):_e.append(At),ee.setValue(oe,{value:Fe(!0),items:Je(Re)}),Le=Fe(!1)},items(Re){const{items:tt}=Re.detail;for(;_e.length!==0;)_e.remove(0);for(const ct of tt){const{displayValue:gt,exportValue:vt}=ct,At=document.createElement("option");At.textContent=gt,At.value=vt,_e.append(At)}_e.options.length>0&&(_e.options[0].selected=!0),ee.setValue(oe,{value:Fe(!0),items:Je(Re)}),Le=Fe(!1)},indices(Re){const tt=new Set(Re.detail.indices);for(const ct of Re.target.options)ct.selected=tt.has(ct.index);ee.setValue(oe,{value:Fe(!0)}),Le=Fe(!1)},editable(Re){Re.target.disabled=!Re.detail.editable}};this._dispatchEventFromSandbox(De,Ce)}),_e.addEventListener("input",Ce=>{var Re;const De=Fe(!0);ee.setValue(oe,{value:De}),Ce.preventDefault(),(Re=this.linkService.eventBus)==null||Re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe,name:"Keystroke",value:Le,changeEx:De,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_e,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ce=>Ce.target.value)):_e.addEventListener("input",function(Ce){ee.setValue(oe,{value:Fe(!0)})}),this.data.combo&&this._setTextStyle(_e),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}const ke=class ke extends ae{constructor(ee){var _e,le,xe;const{data:oe}=ee,be=!ke.IGNORE_TYPES.has(oe.parentType)&&!!((_e=oe.titleObj)!=null&&_e.str||(le=oe.contentsObj)!=null&&le.str||(xe=oe.richText)!=null&&xe.str);super(ee,{isRenderable:be})}render(){this.container.className="popupAnnotation";const ee=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(ee.length===0)return this.container;const oe=new de({container:this.container,trigger:Array.from(ee),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),be=this.page,_e=O.Util.normalizeRect([this.data.parentRect[0],be.view[3]-this.data.parentRect[1]+be.view[1],this.data.parentRect[2],be.view[3]-this.data.parentRect[3]+be.view[1]]),le=_e[0]+this.data.parentRect[2]-this.data.parentRect[0],xe=_e[1],{pageWidth:Fe,pageHeight:Le,pageX:Je,pageY:Ce}=this.viewport.rawDims;return this.container.style.left=`${100*(le-Je)/Fe}%`,this.container.style.top=`${100*(xe-Ce)/Le}%`,this.container.append(oe.render()),this.container}};dn(ke,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let G=ke;class de{constructor(ee){this.container=ee.container,this.trigger=ee.trigger,this.color=ee.color,this.titleObj=ee.titleObj,this.modificationDate=ee.modificationDate,this.contentsObj=ee.contentsObj,this.richText=ee.richText,this.hideWrapper=ee.hideWrapper||!1,this.pinned=!1}render(){var Fe,Le;const oe=document.createElement("div");oe.className="popupWrapper",this.hideElement=this.hideWrapper?oe:this.container,this.hideElement.hidden=!0;const be=document.createElement("div");be.className="popup";const _e=this.color;if(_e){const Je=.7*(255-_e[0])+_e[0],Ce=.7*(255-_e[1])+_e[1],De=.7*(255-_e[2])+_e[2];be.style.backgroundColor=O.Util.makeHexColor(Je|0,Ce|0,De|0)}const le=document.createElement("h1");le.dir=this.titleObj.dir,le.textContent=this.titleObj.str,be.append(le);const xe=B.PDFDateString.toDateObject(this.modificationDate);if(xe){const Je=document.createElement("span");Je.className="popupDate",Je.textContent="{{date}}, {{time}}",Je.dataset.l10nId="annotation_date_string",Je.dataset.l10nArgs=JSON.stringify({date:xe.toLocaleDateString(),time:xe.toLocaleTimeString()}),be.append(Je)}if((Fe=this.richText)!=null&&Fe.str&&(!((Le=this.contentsObj)!=null&&Le.str)||this.contentsObj.str===this.richText.str))fe.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:be}),be.lastChild.className="richText popupContent";else{const Je=this._formatContents(this.contentsObj);be.append(Je)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Je of this.trigger)Je.addEventListener("click",this._toggle.bind(this)),Je.addEventListener("mouseover",this._show.bind(this,!1)),Je.addEventListener("mouseout",this._hide.bind(this,!1));return be.addEventListener("click",this._hide.bind(this,!0)),oe.append(be),oe}_formatContents({str:ee,dir:oe}){const be=document.createElement("p");be.className="popupContent",be.dir=oe;const _e=ee.split(/(?:\r\n?|\n)/);for(let le=0,xe=_e.length;le<xe;++le){const Fe=_e[le];be.append(document.createTextNode(Fe)),le<xe-1&&be.append(document.createElement("br"))}return be}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ee=!1){ee&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ee=!0){ee&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class W extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0}),this.textContent=ee.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ee=document.createElement("div");ee.className="annotationTextContent",ee.setAttribute("role","comment");for(const oe of this.textContent){const be=document.createElement("span");be.textContent=oe,ee.append(be)}this.container.append(ee)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ge extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ee=this.data,{width:oe,height:be}=ye(ee.rect),_e=this.svgFactory.create(oe,be,!0),le=this.svgFactory.createElement("svg:line");return le.setAttribute("x1",ee.rect[2]-ee.lineCoordinates[0]),le.setAttribute("y1",ee.rect[3]-ee.lineCoordinates[1]),le.setAttribute("x2",ee.rect[2]-ee.lineCoordinates[2]),le.setAttribute("y2",ee.rect[3]-ee.lineCoordinates[3]),le.setAttribute("stroke-width",ee.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),_e.append(le),this.container.append(_e),this._createPopup(le,ee),this.container}}class Ee extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ee=this.data,{width:oe,height:be}=ye(ee.rect),_e=this.svgFactory.create(oe,be,!0),le=ee.borderStyle.width,xe=this.svgFactory.createElement("svg:rect");return xe.setAttribute("x",le/2),xe.setAttribute("y",le/2),xe.setAttribute("width",oe-le),xe.setAttribute("height",be-le),xe.setAttribute("stroke-width",le||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),_e.append(xe),this.container.append(_e),this._createPopup(xe,ee),this.container}}class Te extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ee=this.data,{width:oe,height:be}=ye(ee.rect),_e=this.svgFactory.create(oe,be,!0),le=ee.borderStyle.width,xe=this.svgFactory.createElement("svg:ellipse");return xe.setAttribute("cx",oe/2),xe.setAttribute("cy",be/2),xe.setAttribute("rx",oe/2-le/2),xe.setAttribute("ry",be/2-le/2),xe.setAttribute("stroke-width",le||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),_e.append(xe),this.container.append(_e),this._createPopup(xe,ee),this.container}}class Ke extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ee=this.data,{width:oe,height:be}=ye(ee.rect),_e=this.svgFactory.create(oe,be,!0);let le=[];for(const Fe of ee.vertices){const Le=Fe.x-ee.rect[0],Je=ee.rect[3]-Fe.y;le.push(Le+","+Je)}le=le.join(" ");const xe=this.svgFactory.createElement(this.svgElementName);return xe.setAttribute("points",le),xe.setAttribute("stroke-width",ee.borderStyle.width||1),xe.setAttribute("stroke","transparent"),xe.setAttribute("fill","transparent"),_e.append(xe),this.container.append(_e),this._createPopup(xe,ee),this.container}}class ft extends Ke{constructor(ee){super(ee),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ye extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class et extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ee=this.data,{width:oe,height:be}=ye(ee.rect),_e=this.svgFactory.create(oe,be,!0);for(const le of ee.inkLists){let xe=[];for(const Le of le){const Je=Le.x-ee.rect[0],Ce=ee.rect[3]-Le.y;xe.push(`${Je},${Ce}`)}xe=xe.join(" ");const Fe=this.svgFactory.createElement(this.svgElementName);Fe.setAttribute("points",xe),Fe.setAttribute("stroke-width",ee.borderStyle.width||1),Fe.setAttribute("stroke","transparent"),Fe.setAttribute("fill","transparent"),this._createPopup(Fe,ee),_e.append(Fe)}return this.container.append(_e),this.container}}class qe extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Ne extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Be extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Qe extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class nt extends ae{constructor(ee){var be,_e,le;const oe=!!(ee.data.hasPopup||(be=ee.data.titleObj)!=null&&be.str||(_e=ee.data.contentsObj)!=null&&_e.str||(le=ee.data.richText)!=null&&le.str);super(ee,{isRenderable:oe,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Pe extends ae{constructor(ee){var _e;super(ee,{isRenderable:!0});const{filename:oe,content:be}=this.data.file;this.filename=(0,B.getFilenameFromUrl)(oe,!0),this.content=be,(_e=this.linkService.eventBus)==null||_e.dispatch("fileattachmentannotation",{source:this,filename:oe,content:be})}render(){var oe,be;this.container.className="fileAttachmentAnnotation";let ee;return this.data.hasAppearance?ee=document.createElement("div"):(ee=document.createElement("img"),ee.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),ee.className="popupTriggerArea",ee.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((oe=this.data.titleObj)!=null&&oe.str||(be=this.data.contentsObj)!=null&&be.str||this.data.richText)&&this._createPopup(ee,this.data),this.container.append(ee),this.container}_download(){var ee;(ee=this.downloadManager)==null||ee.openOrDownloadData(this.container,this.content,this.filename)}}const rt=class rt{static render(ee){var Le,Je;const{annotations:oe,div:be,viewport:_e,accessibilityManager:le}=ee;(0,B.setLayerDimensions)(be,_e);const xe={data:null,layer:be,page:ee.page,viewport:_e,linkService:ee.linkService,downloadManager:ee.downloadManager,imageResourcesPath:ee.imageResourcesPath||"",renderForms:ee.renderForms!==!1,svgFactory:new B.DOMSVGFactory,annotationStorage:ee.annotationStorage||new $.AnnotationStorage,enableScripting:ee.enableScripting===!0,hasJSActions:ee.hasJSActions,fieldObjects:ee.fieldObjects};let Fe=0;for(const Ce of oe){if(Ce.annotationType!==O.AnnotationType.POPUP){const{width:tt,height:ct}=ye(Ce.rect);if(tt<=0||ct<=0)continue}xe.data=Ce;const De=ce.create(xe);if(!De.isRenderable)continue;const Re=De.render();if(Ce.hidden&&(Re.style.visibility="hidden"),Array.isArray(Re))for(const tt of Re)tt.style.zIndex=Fe++,lt(Le=rt,Se,Zr).call(Le,tt,Ce.id,be,le);else Re.style.zIndex=Fe++,De instanceof G?be.prepend(Re):lt(Je=rt,Se,Zr).call(Je,Re,Ce.id,be,le)}lt(this,Se,Jr).call(this,be,ee.annotationCanvasMap)}static update(ee){const{annotationCanvasMap:oe,div:be,viewport:_e}=ee;(0,B.setLayerDimensions)(be,{rotation:_e.rotation}),lt(this,Se,Jr).call(this,be,oe),be.hidden=!1}};Se=new WeakSet,Zr=function(ee,oe,be,_e){const le=ee.firstChild||ee;le.id=`${B.AnnotationPrefix}${oe}`,be.append(ee),_e==null||_e.moveElementInDOM(be,ee,le,!1)},Jr=function(ee,oe){if(oe){for(const[be,_e]of oe){const le=ee.querySelector(`[data-annotation-id="${be}"]`);if(!le)continue;const{firstChild:xe}=le;xe?xe.nodeName==="CANVAS"?xe.replaceWith(_e):xe.before(_e):le.append(_e)}oe.clear()}},pt(rt,Se);let se=rt;R.AnnotationLayer=se},(A,R)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.ColorConverters=void 0;function V(B){return Math.floor(Math.max(0,Math.min(1,B))*255).toString(16).padStart(2,"0")}class O{static CMYK_G([$,re,fe,ve]){return["G",1-Math.min(1,.3*$+.59*fe+.11*re+ve)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_HTML([$]){const re=V($);return`#${re}${re}${re}`}static RGB_G([$,re,fe]){return["G",.3*$+.59*re+.11*fe]}static RGB_HTML([$,re,fe]){const ve=V($),ue=V(re),ie=V(fe);return`#${ve}${ue}${ie}`}static T_HTML(){return"#00000000"}static CMYK_RGB([$,re,fe,ve]){return["RGB",1-Math.min(1,$+ve),1-Math.min(1,fe+ve),1-Math.min(1,re+ve)]}static CMYK_HTML($){const re=this.CMYK_RGB($).slice(1);return this.RGB_HTML(re)}static RGB_CMYK([$,re,fe]){const ve=1-$,ue=1-re,ie=1-fe,ye=Math.min(ve,ue,ie);return["CMYK",ve,ue,ie,ye]}}R.ColorConverters=O},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.XfaLayer=void 0;var O=V(19);class B{static setupStorage(re,fe,ve,ue,ie){const ye=ue.getValue(fe,{value:null});switch(ve.name){case"textarea":if(ye.value!==null&&(re.textContent=ye.value),ie==="print")break;re.addEventListener("input",ce=>{ue.setValue(fe,{value:ce.target.value})});break;case"input":if(ve.attributes.type==="radio"||ve.attributes.type==="checkbox"){if(ye.value===ve.attributes.xfaOn?re.setAttribute("checked",!0):ye.value===ve.attributes.xfaOff&&re.removeAttribute("checked"),ie==="print")break;re.addEventListener("change",ce=>{ue.setValue(fe,{value:ce.target.checked?ce.target.getAttribute("xfaOn"):ce.target.getAttribute("xfaOff")})})}else{if(ye.value!==null&&re.setAttribute("value",ye.value),ie==="print")break;re.addEventListener("input",ce=>{ue.setValue(fe,{value:ce.target.value})})}break;case"select":if(ye.value!==null)for(const ce of ve.children)ce.attributes.value===ye.value&&(ce.attributes.selected=!0);re.addEventListener("input",ce=>{const ae=ce.target.options,J=ae.selectedIndex===-1?"":ae[ae.selectedIndex].value;ue.setValue(fe,{value:J})});break}}static setAttributes({html:re,element:fe,storage:ve=null,intent:ue,linkService:ie}){const{attributes:ye}=fe,ce=re instanceof HTMLAnchorElement;ye.type==="radio"&&(ye.name=`${ye.name}-${ue}`);for(const[ae,J]of Object.entries(ye))if(J!=null)switch(ae){case"class":J.length&&re.setAttribute(ae,J.join(" "));break;case"dataId":break;case"id":re.setAttribute("data-element-id",J);break;case"style":Object.assign(re.style,J);break;case"textContent":re.textContent=J;break;default:(!ce||ae!=="href"&&ae!=="newWindow")&&re.setAttribute(ae,J)}ce&&ie.addLinkAttributes(re,ye.href,ye.newWindow),ve&&ye.dataId&&this.setupStorage(re,ye.dataId,fe,ve)}static render(re){var Q;const fe=re.annotationStorage,ve=re.linkService,ue=re.xfaHtml,ie=re.intent||"display",ye=document.createElement(ue.name);ue.attributes&&this.setAttributes({html:ye,element:ue,intent:ie,linkService:ve});const ce=[[ue,-1,ye]],ae=re.div;if(ae.append(ye),re.viewport){const U=`matrix(${re.viewport.transform.join(",")})`;ae.style.transform=U}ie!=="richText"&&ae.setAttribute("class","xfaLayer xfaFont");const J=[];for(;ce.length>0;){const[U,Y,ne]=ce.at(-1);if(Y+1===U.children.length){ce.pop();continue}const q=U.children[++ce.at(-1)[1]];if(q===null)continue;const{name:K}=q;if(K==="#text"){const G=document.createTextNode(q.value);J.push(G),ne.append(G);continue}let H;if((Q=q==null?void 0:q.attributes)!=null&&Q.xmlns?H=document.createElementNS(q.attributes.xmlns,K):H=document.createElement(K),ne.append(H),q.attributes&&this.setAttributes({html:H,element:q,storage:fe,intent:ie,linkService:ve}),q.children&&q.children.length>0)ce.push([q,-1,H]);else if(q.value){const G=document.createTextNode(q.value);O.XfaText.shouldBuildText(K)&&J.push(G),H.append(G)}}for(const U of ae.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:J}}static update(re){const fe=`matrix(${re.viewport.transform.join(",")})`;re.div.style.transform=fe,re.div.hidden=!1}}R.XfaLayer=B},(A,R,V)=>{Object.defineProperty(R,"__esModule",{value:!0}),R.SVGGraphics=void 0;var O=V(6),B=V(1),$=V(10);let re=class{constructor(){(0,B.unreachable)("Not implemented: SVGGraphics")}};R.SVGGraphics=re;{let Q=function(H){let G=[];const de=[];for(const W of H){if(W.fn==="save"){G.push({fnId:92,fn:"group",items:[]}),de.push(G),G=G.at(-1).items;continue}W.fn==="restore"?G=de.pop():G.push(W)}return G},U=function(H){if(Number.isInteger(H))return H.toString();const G=H.toFixed(10);let de=G.length-1;if(G[de]!=="0")return G;do de--;while(G[de]==="0");return G.substring(0,G[de]==="."?de:de+1)},Y=function(H){if(H[4]===0&&H[5]===0){if(H[1]===0&&H[2]===0)return H[0]===1&&H[3]===1?"":`scale(${U(H[0])} ${U(H[3])})`;if(H[0]===H[3]&&H[1]===-H[2]){const G=Math.acos(H[0])*180/Math.PI;return`rotate(${U(G)})`}}else if(H[0]===1&&H[1]===0&&H[2]===0&&H[3]===1)return`translate(${U(H[4])} ${U(H[5])})`;return`matrix(${U(H[0])} ${U(H[1])} ${U(H[2])} ${U(H[3])} ${U(H[4])} ${U(H[5])})`};const fe={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ve="http://www.w3.org/XML/1998/namespace",ue="http://www.w3.org/1999/xlink",ie=["butt","round","square"],ye=["miter","round","bevel"],ce=function(H,G="",de=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!de)return URL.createObjectURL(new Blob([H],{type:G}));const W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ge=`data:${G};base64,`;for(let Ee=0,Te=H.length;Ee<Te;Ee+=3){const Ke=H[Ee]&255,ft=H[Ee+1]&255,Ye=H[Ee+2]&255,et=Ke>>2,qe=(Ke&3)<<4|ft>>4,Ne=Ee+1<Te?(ft&15)<<2|Ye>>6:64,Be=Ee+2<Te?Ye&63:64;ge+=W[et]+W[qe]+W[Ne]+W[Be]}return ge},ae=function(){const H=new Uint8Array([137,80,78,71,13,10,26,10]),G=12,de=new Int32Array(256);for(let Ye=0;Ye<256;Ye++){let et=Ye;for(let qe=0;qe<8;qe++)et&1?et=3988292384^et>>1&2147483647:et=et>>1&2147483647;de[Ye]=et}function W(Ye,et,qe){let Ne=-1;for(let Be=et;Be<qe;Be++){const Qe=(Ne^Ye[Be])&255,nt=de[Qe];Ne=Ne>>>8^nt}return Ne^-1}function ge(Ye,et,qe,Ne){let Be=Ne;const Qe=et.length;qe[Be]=Qe>>24&255,qe[Be+1]=Qe>>16&255,qe[Be+2]=Qe>>8&255,qe[Be+3]=Qe&255,Be+=4,qe[Be]=Ye.charCodeAt(0)&255,qe[Be+1]=Ye.charCodeAt(1)&255,qe[Be+2]=Ye.charCodeAt(2)&255,qe[Be+3]=Ye.charCodeAt(3)&255,Be+=4,qe.set(et,Be),Be+=et.length;const nt=W(qe,Ne+4,Be);qe[Be]=nt>>24&255,qe[Be+1]=nt>>16&255,qe[Be+2]=nt>>8&255,qe[Be+3]=nt&255}function Ee(Ye,et,qe){let Ne=1,Be=0;for(let Qe=et;Qe<qe;++Qe)Ne=(Ne+(Ye[Qe]&255))%65521,Be=(Be+Ne)%65521;return Be<<16|Ne}function Te(Ye){if(!$.isNodeJS)return Ke(Ye);try{let et;parseInt(process.versions.node)>=8?et=Ye:et=Buffer.from(Ye);const qe=require$$5.deflateSync(et,{level:9});return qe instanceof Uint8Array?qe:new Uint8Array(qe)}catch(et){(0,B.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+et)}return Ke(Ye)}function Ke(Ye){let et=Ye.length;const qe=65535,Ne=Math.ceil(et/qe),Be=new Uint8Array(2+et+Ne*5+4);let Qe=0;Be[Qe++]=120,Be[Qe++]=156;let nt=0;for(;et>qe;)Be[Qe++]=0,Be[Qe++]=255,Be[Qe++]=255,Be[Qe++]=0,Be[Qe++]=0,Be.set(Ye.subarray(nt,nt+qe),Qe),Qe+=qe,nt+=qe,et-=qe;Be[Qe++]=1,Be[Qe++]=et&255,Be[Qe++]=et>>8&255,Be[Qe++]=~et&65535&255,Be[Qe++]=(~et&65535)>>8&255,Be.set(Ye.subarray(nt),Qe),Qe+=Ye.length-nt;const Pe=Ee(Ye,0,Ye.length);return Be[Qe++]=Pe>>24&255,Be[Qe++]=Pe>>16&255,Be[Qe++]=Pe>>8&255,Be[Qe++]=Pe&255,Be}function ft(Ye,et,qe,Ne){const Be=Ye.width,Qe=Ye.height;let nt,Pe,se;const te=Ye.data;switch(et){case B.ImageKind.GRAYSCALE_1BPP:Pe=0,nt=1,se=Be+7>>3;break;case B.ImageKind.RGB_24BPP:Pe=2,nt=8,se=Be*3;break;case B.ImageKind.RGBA_32BPP:Pe=6,nt=8,se=Be*4;break;default:throw new Error("invalid format")}const pe=new Uint8Array((1+se)*Qe);let Ae=0,ke=0;for(let ee=0;ee<Qe;++ee)pe[Ae++]=0,pe.set(te.subarray(ke,ke+se),Ae),ke+=se,Ae+=se;if(et===B.ImageKind.GRAYSCALE_1BPP&&Ne){Ae=0;for(let ee=0;ee<Qe;ee++){Ae++;for(let oe=0;oe<se;oe++)pe[Ae++]^=255}}const Se=new Uint8Array([Be>>24&255,Be>>16&255,Be>>8&255,Be&255,Qe>>24&255,Qe>>16&255,Qe>>8&255,Qe&255,nt,Pe,0,0,0]),je=Te(pe),Ze=H.length+G*3+Se.length+je.length,rt=new Uint8Array(Ze);let We=0;return rt.set(H,We),We+=H.length,ge("IHDR",Se,rt,We),We+=G+Se.length,ge("IDATA",je,rt,We),We+=G+je.length,ge("IEND",new Uint8Array(0),rt,We),ce(rt,"image/png",qe)}return function(et,qe,Ne){const Be=et.kind===void 0?B.ImageKind.GRAYSCALE_1BPP:et.kind;return ft(et,Be,qe,Ne)}}();class J{constructor(){this.fontSizeScale=1,this.fontWeight=fe.fontWeight,this.fontSize=0,this.textMatrix=B.IDENTITY_MATRIX,this.fontMatrix=B.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=B.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=fe.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(G,de){this.x=G,this.y=de}}let ne=0,q=0,K=0;R.SVGGraphics=re=class{constructor(H,G,de=!1){(0,O.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new O.DOMSVGFactory,this.current=new J,this.transformMatrix=B.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=H,this.objs=G,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!de,this._operatorIdMapping=[];for(const W in B.OPS)this._operatorIdMapping[B.OPS[W]]=W}getObject(H,G=null){return typeof H=="string"?H.startsWith("g_")?this.commonObjs.get(H):this.objs.get(H):G}save(){this.transformStack.push(this.transformMatrix);const H=this.current;this.extraStack.push(H),this.current=H.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(H){this.save(),this.executeOpTree(H),this.restore()}loadDependencies(H){const G=H.fnArray,de=H.argsArray;for(let W=0,ge=G.length;W<ge;W++)if(G[W]===B.OPS.dependency)for(const Ee of de[W]){const Te=Ee.startsWith("g_")?this.commonObjs:this.objs,Ke=new Promise(ft=>{Te.get(Ee,ft)});this.current.dependencies.push(Ke)}return Promise.all(this.current.dependencies)}transform(H,G,de,W,ge,Ee){const Te=[H,G,de,W,ge,Ee];this.transformMatrix=B.Util.transform(this.transformMatrix,Te),this.tgrp=null}getSVG(H,G){this.viewport=G;const de=this._initialize(G);return this.loadDependencies(H).then(()=>(this.transformMatrix=B.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(H)),de))}convertOpList(H){const G=this._operatorIdMapping,de=H.argsArray,W=H.fnArray,ge=[];for(let Ee=0,Te=W.length;Ee<Te;Ee++){const Ke=W[Ee];ge.push({fnId:Ke,fn:G[Ke],args:de[Ee]})}return Q(ge)}executeOpTree(H){for(const G of H){const de=G.fn,W=G.fnId,ge=G.args;switch(W|0){case B.OPS.beginText:this.beginText();break;case B.OPS.dependency:break;case B.OPS.setLeading:this.setLeading(ge);break;case B.OPS.setLeadingMoveText:this.setLeadingMoveText(ge[0],ge[1]);break;case B.OPS.setFont:this.setFont(ge);break;case B.OPS.showText:this.showText(ge[0]);break;case B.OPS.showSpacedText:this.showText(ge[0]);break;case B.OPS.endText:this.endText();break;case B.OPS.moveText:this.moveText(ge[0],ge[1]);break;case B.OPS.setCharSpacing:this.setCharSpacing(ge[0]);break;case B.OPS.setWordSpacing:this.setWordSpacing(ge[0]);break;case B.OPS.setHScale:this.setHScale(ge[0]);break;case B.OPS.setTextMatrix:this.setTextMatrix(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5]);break;case B.OPS.setTextRise:this.setTextRise(ge[0]);break;case B.OPS.setTextRenderingMode:this.setTextRenderingMode(ge[0]);break;case B.OPS.setLineWidth:this.setLineWidth(ge[0]);break;case B.OPS.setLineJoin:this.setLineJoin(ge[0]);break;case B.OPS.setLineCap:this.setLineCap(ge[0]);break;case B.OPS.setMiterLimit:this.setMiterLimit(ge[0]);break;case B.OPS.setFillRGBColor:this.setFillRGBColor(ge[0],ge[1],ge[2]);break;case B.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ge[0],ge[1],ge[2]);break;case B.OPS.setStrokeColorN:this.setStrokeColorN(ge);break;case B.OPS.setFillColorN:this.setFillColorN(ge);break;case B.OPS.shadingFill:this.shadingFill(ge[0]);break;case B.OPS.setDash:this.setDash(ge[0],ge[1]);break;case B.OPS.setRenderingIntent:this.setRenderingIntent(ge[0]);break;case B.OPS.setFlatness:this.setFlatness(ge[0]);break;case B.OPS.setGState:this.setGState(ge[0]);break;case B.OPS.fill:this.fill();break;case B.OPS.eoFill:this.eoFill();break;case B.OPS.stroke:this.stroke();break;case B.OPS.fillStroke:this.fillStroke();break;case B.OPS.eoFillStroke:this.eoFillStroke();break;case B.OPS.clip:this.clip("nonzero");break;case B.OPS.eoClip:this.clip("evenodd");break;case B.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case B.OPS.paintImageXObject:this.paintImageXObject(ge[0]);break;case B.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ge[0]);break;case B.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ge[0]);break;case B.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ge[0],ge[1]);break;case B.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case B.OPS.closePath:this.closePath();break;case B.OPS.closeStroke:this.closeStroke();break;case B.OPS.closeFillStroke:this.closeFillStroke();break;case B.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case B.OPS.nextLine:this.nextLine();break;case B.OPS.transform:this.transform(ge[0],ge[1],ge[2],ge[3],ge[4],ge[5]);break;case B.OPS.constructPath:this.constructPath(ge[0],ge[1]);break;case B.OPS.endPath:this.endPath();break;case 92:this.group(G.items);break;default:(0,B.warn)(`Unimplemented operator ${de}`);break}}}setWordSpacing(H){this.current.wordSpacing=H}setCharSpacing(H){this.current.charSpacing=H}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(H,G,de,W,ge,Ee){const Te=this.current;Te.textMatrix=Te.lineMatrix=[H,G,de,W,ge,Ee],Te.textMatrixScale=Math.hypot(H,G),Te.x=Te.lineX=0,Te.y=Te.lineY=0,Te.xcoords=[],Te.ycoords=[],Te.tspan=this.svgFactory.createElement("svg:tspan"),Te.tspan.setAttributeNS(null,"font-family",Te.fontFamily),Te.tspan.setAttributeNS(null,"font-size",`${U(Te.fontSize)}px`),Te.tspan.setAttributeNS(null,"y",U(-Te.y)),Te.txtElement=this.svgFactory.createElement("svg:text"),Te.txtElement.append(Te.tspan)}beginText(){const H=this.current;H.x=H.lineX=0,H.y=H.lineY=0,H.textMatrix=B.IDENTITY_MATRIX,H.lineMatrix=B.IDENTITY_MATRIX,H.textMatrixScale=1,H.tspan=this.svgFactory.createElement("svg:tspan"),H.txtElement=this.svgFactory.createElement("svg:text"),H.txtgrp=this.svgFactory.createElement("svg:g"),H.xcoords=[],H.ycoords=[]}moveText(H,G){const de=this.current;de.x=de.lineX+=H,de.y=de.lineY+=G,de.xcoords=[],de.ycoords=[],de.tspan=this.svgFactory.createElement("svg:tspan"),de.tspan.setAttributeNS(null,"font-family",de.fontFamily),de.tspan.setAttributeNS(null,"font-size",`${U(de.fontSize)}px`),de.tspan.setAttributeNS(null,"y",U(-de.y))}showText(H){const G=this.current,de=G.font,W=G.fontSize;if(W===0)return;const ge=G.fontSizeScale,Ee=G.charSpacing,Te=G.wordSpacing,Ke=G.fontDirection,ft=G.textHScale*Ke,Ye=de.vertical,et=Ye?1:-1,qe=de.defaultVMetrics,Ne=W*G.fontMatrix[0];let Be=0;for(const Pe of H){if(Pe===null){Be+=Ke*Te;continue}else if(typeof Pe=="number"){Be+=et*Pe*W/1e3;continue}const se=(Pe.isSpace?Te:0)+Ee,te=Pe.fontChar;let pe,Ae,ke=Pe.width;if(Ye){let je;const Ze=Pe.vmetric||qe;je=Pe.vmetric?Ze[1]:ke*.5,je=-je*Ne;const rt=Ze[2]*Ne;ke=Ze?-Ze[0]:ke,pe=je/ge,Ae=(Be+rt)/ge}else pe=Be/ge,Ae=0;(Pe.isInFont||de.missingFile)&&(G.xcoords.push(G.x+pe),Ye&&G.ycoords.push(-G.y+Ae),G.tspan.textContent+=te);let Se;Ye?Se=ke*Ne-se*Ke:Se=ke*Ne+se*Ke,Be+=Se}G.tspan.setAttributeNS(null,"x",G.xcoords.map(U).join(" ")),Ye?G.tspan.setAttributeNS(null,"y",G.ycoords.map(U).join(" ")):G.tspan.setAttributeNS(null,"y",U(-G.y)),Ye?G.y-=Be:G.x+=Be*ft,G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${U(G.fontSize)}px`),G.fontStyle!==fe.fontStyle&&G.tspan.setAttributeNS(null,"font-style",G.fontStyle),G.fontWeight!==fe.fontWeight&&G.tspan.setAttributeNS(null,"font-weight",G.fontWeight);const Qe=G.textRenderingMode&B.TextRenderingMode.FILL_STROKE_MASK;if(Qe===B.TextRenderingMode.FILL||Qe===B.TextRenderingMode.FILL_STROKE?(G.fillColor!==fe.fillColor&&G.tspan.setAttributeNS(null,"fill",G.fillColor),G.fillAlpha<1&&G.tspan.setAttributeNS(null,"fill-opacity",G.fillAlpha)):G.textRenderingMode===B.TextRenderingMode.ADD_TO_PATH?G.tspan.setAttributeNS(null,"fill","transparent"):G.tspan.setAttributeNS(null,"fill","none"),Qe===B.TextRenderingMode.STROKE||Qe===B.TextRenderingMode.FILL_STROKE){const Pe=1/(G.textMatrixScale||1);this._setStrokeAttributes(G.tspan,Pe)}let nt=G.textMatrix;G.textRise!==0&&(nt=nt.slice(),nt[5]+=G.textRise),G.txtElement.setAttributeNS(null,"transform",`${Y(nt)} scale(${U(ft)}, -1)`),G.txtElement.setAttributeNS(ve,"xml:space","preserve"),G.txtElement.append(G.tspan),G.txtgrp.append(G.txtElement),this._ensureTransformGroup().append(G.txtElement)}setLeadingMoveText(H,G){this.setLeading(-G),this.moveText(H,G)}addFontStyle(H){if(!H.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const G=ce(H.data,H.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${H.loadedName}"; src: url(${G}); }
`}setFont(H){const G=this.current,de=this.commonObjs.get(H[0]);let W=H[1];G.font=de,this.embedFonts&&!de.missingFile&&!this.embeddedFonts[de.loadedName]&&(this.addFontStyle(de),this.embeddedFonts[de.loadedName]=de),G.fontMatrix=de.fontMatrix||B.FONT_IDENTITY_MATRIX;let ge="normal";de.black?ge="900":de.bold&&(ge="bold");const Ee=de.italic?"italic":"normal";W<0?(W=-W,G.fontDirection=-1):G.fontDirection=1,G.fontSize=W,G.fontFamily=de.loadedName,G.fontWeight=ge,G.fontStyle=Ee,G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"y",U(-G.y)),G.xcoords=[],G.ycoords=[]}endText(){var G;const H=this.current;H.textRenderingMode&B.TextRenderingMode.ADD_TO_PATH_FLAG&&((G=H.txtElement)!=null&&G.hasChildNodes())&&(H.element=H.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(H){H>0&&(this.current.lineWidth=H)}setLineCap(H){this.current.lineCap=ie[H]}setLineJoin(H){this.current.lineJoin=ye[H]}setMiterLimit(H){this.current.miterLimit=H}setStrokeAlpha(H){this.current.strokeAlpha=H}setStrokeRGBColor(H,G,de){this.current.strokeColor=B.Util.makeHexColor(H,G,de)}setFillAlpha(H){this.current.fillAlpha=H}setFillRGBColor(H,G,de){this.current.fillColor=B.Util.makeHexColor(H,G,de),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(H){this.current.strokeColor=this._makeColorN_Pattern(H)}setFillColorN(H){this.current.fillColor=this._makeColorN_Pattern(H)}shadingFill(H){const G=this.viewport.width,de=this.viewport.height,W=B.Util.inverseTransform(this.transformMatrix),ge=B.Util.applyTransform([0,0],W),Ee=B.Util.applyTransform([0,de],W),Te=B.Util.applyTransform([G,0],W),Ke=B.Util.applyTransform([G,de],W),ft=Math.min(ge[0],Ee[0],Te[0],Ke[0]),Ye=Math.min(ge[1],Ee[1],Te[1],Ke[1]),et=Math.max(ge[0],Ee[0],Te[0],Ke[0]),qe=Math.max(ge[1],Ee[1],Te[1],Ke[1]),Ne=this.svgFactory.createElement("svg:rect");Ne.setAttributeNS(null,"x",ft),Ne.setAttributeNS(null,"y",Ye),Ne.setAttributeNS(null,"width",et-ft),Ne.setAttributeNS(null,"height",qe-Ye),Ne.setAttributeNS(null,"fill",this._makeShadingPattern(H)),this.current.fillAlpha<1&&Ne.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ne)}_makeColorN_Pattern(H){return H[0]==="TilingPattern"?this._makeTilingPattern(H):this._makeShadingPattern(H)}_makeTilingPattern(H){const G=H[1],de=H[2],W=H[3]||B.IDENTITY_MATRIX,[ge,Ee,Te,Ke]=H[4],ft=H[5],Ye=H[6],et=H[7],qe=`shading${K++}`,[Ne,Be,Qe,nt]=B.Util.normalizeRect([...B.Util.applyTransform([ge,Ee],W),...B.Util.applyTransform([Te,Ke],W)]),[Pe,se]=B.Util.singularValueDecompose2dScale(W),te=ft*Pe,pe=Ye*se,Ae=this.svgFactory.createElement("svg:pattern");Ae.setAttributeNS(null,"id",qe),Ae.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ae.setAttributeNS(null,"width",te),Ae.setAttributeNS(null,"height",pe),Ae.setAttributeNS(null,"x",`${Ne}`),Ae.setAttributeNS(null,"y",`${Be}`);const ke=this.svg,Se=this.transformMatrix,je=this.current.fillColor,Ze=this.current.strokeColor,rt=this.svgFactory.create(Qe-Ne,nt-Be);if(this.svg=rt,this.transformMatrix=W,et===2){const We=B.Util.makeHexColor(...G);this.current.fillColor=We,this.current.strokeColor=We}return this.executeOpTree(this.convertOpList(de)),this.svg=ke,this.transformMatrix=Se,this.current.fillColor=je,this.current.strokeColor=Ze,Ae.append(rt.childNodes[0]),this.defs.append(Ae),`url(#${qe})`}_makeShadingPattern(H){switch(typeof H=="string"&&(H=this.objs.get(H)),H[0]){case"RadialAxial":const G=`shading${K++}`,de=H[3];let W;switch(H[1]){case"axial":const ge=H[4],Ee=H[5];W=this.svgFactory.createElement("svg:linearGradient"),W.setAttributeNS(null,"id",G),W.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),W.setAttributeNS(null,"x1",ge[0]),W.setAttributeNS(null,"y1",ge[1]),W.setAttributeNS(null,"x2",Ee[0]),W.setAttributeNS(null,"y2",Ee[1]);break;case"radial":const Te=H[4],Ke=H[5],ft=H[6],Ye=H[7];W=this.svgFactory.createElement("svg:radialGradient"),W.setAttributeNS(null,"id",G),W.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),W.setAttributeNS(null,"cx",Ke[0]),W.setAttributeNS(null,"cy",Ke[1]),W.setAttributeNS(null,"r",Ye),W.setAttributeNS(null,"fx",Te[0]),W.setAttributeNS(null,"fy",Te[1]),W.setAttributeNS(null,"fr",ft);break;default:throw new Error(`Unknown RadialAxial type: ${H[1]}`)}for(const ge of de){const Ee=this.svgFactory.createElement("svg:stop");Ee.setAttributeNS(null,"offset",ge[0]),Ee.setAttributeNS(null,"stop-color",ge[1]),W.append(Ee)}return this.defs.append(W),`url(#${G})`;case"Mesh":return(0,B.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${H[0]}`)}}setDash(H,G){this.current.dashArray=H,this.current.dashPhase=G}constructPath(H,G){const de=this.current;let W=de.x,ge=de.y,Ee=[],Te=0;for(const Ke of H)switch(Ke|0){case B.OPS.rectangle:W=G[Te++],ge=G[Te++];const ft=G[Te++],Ye=G[Te++],et=W+ft,qe=ge+Ye;Ee.push("M",U(W),U(ge),"L",U(et),U(ge),"L",U(et),U(qe),"L",U(W),U(qe),"Z");break;case B.OPS.moveTo:W=G[Te++],ge=G[Te++],Ee.push("M",U(W),U(ge));break;case B.OPS.lineTo:W=G[Te++],ge=G[Te++],Ee.push("L",U(W),U(ge));break;case B.OPS.curveTo:W=G[Te+4],ge=G[Te+5],Ee.push("C",U(G[Te]),U(G[Te+1]),U(G[Te+2]),U(G[Te+3]),U(W),U(ge)),Te+=6;break;case B.OPS.curveTo2:Ee.push("C",U(W),U(ge),U(G[Te]),U(G[Te+1]),U(G[Te+2]),U(G[Te+3])),W=G[Te+2],ge=G[Te+3],Te+=4;break;case B.OPS.curveTo3:W=G[Te+2],ge=G[Te+3],Ee.push("C",U(G[Te]),U(G[Te+1]),U(W),U(ge),U(W),U(ge)),Te+=4;break;case B.OPS.closePath:Ee.push("Z");break}Ee=Ee.join(" "),de.path&&H.length>0&&H[0]!==B.OPS.rectangle&&H[0]!==B.OPS.moveTo?Ee=de.path.getAttributeNS(null,"d")+Ee:(de.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(de.path)),de.path.setAttributeNS(null,"d",Ee),de.path.setAttributeNS(null,"fill","none"),de.element=de.path,de.setCurrentPoint(W,ge)}endPath(){const H=this.current;if(H.path=null,!this.pendingClip)return;if(!H.element){this.pendingClip=null;return}const G=`clippath${ne++}`,de=this.svgFactory.createElement("svg:clipPath");de.setAttributeNS(null,"id",G),de.setAttributeNS(null,"transform",Y(this.transformMatrix));const W=H.element.cloneNode(!0);if(this.pendingClip==="evenodd"?W.setAttributeNS(null,"clip-rule","evenodd"):W.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,de.append(W),this.defs.append(de),H.activeClipUrl){H.clipGroup=null;for(const ge of this.extraStack)ge.clipGroup=null;de.setAttributeNS(null,"clip-path",H.activeClipUrl)}H.activeClipUrl=`url(#${G})`,this.tgrp=null}clip(H){this.pendingClip=H}closePath(){const H=this.current;if(H.path){const G=`${H.path.getAttributeNS(null,"d")}Z`;H.path.setAttributeNS(null,"d",G)}}setLeading(H){this.current.leading=-H}setTextRise(H){this.current.textRise=H}setTextRenderingMode(H){this.current.textRenderingMode=H}setHScale(H){this.current.textHScale=H/100}setRenderingIntent(H){}setFlatness(H){}setGState(H){for(const[G,de]of H)switch(G){case"LW":this.setLineWidth(de);break;case"LC":this.setLineCap(de);break;case"LJ":this.setLineJoin(de);break;case"ML":this.setMiterLimit(de);break;case"D":this.setDash(de[0],de[1]);break;case"RI":this.setRenderingIntent(de);break;case"FL":this.setFlatness(de);break;case"Font":this.setFont(de);break;case"CA":this.setStrokeAlpha(de);break;case"ca":this.setFillAlpha(de);break;default:(0,B.warn)(`Unimplemented graphic state operator ${G}`);break}}fill(){const H=this.current;H.element&&(H.element.setAttributeNS(null,"fill",H.fillColor),H.element.setAttributeNS(null,"fill-opacity",H.fillAlpha),this.endPath())}stroke(){const H=this.current;H.element&&(this._setStrokeAttributes(H.element),H.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(H,G=1){const de=this.current;let W=de.dashArray;G!==1&&W.length>0&&(W=W.map(function(ge){return G*ge})),H.setAttributeNS(null,"stroke",de.strokeColor),H.setAttributeNS(null,"stroke-opacity",de.strokeAlpha),H.setAttributeNS(null,"stroke-miterlimit",U(de.miterLimit)),H.setAttributeNS(null,"stroke-linecap",de.lineCap),H.setAttributeNS(null,"stroke-linejoin",de.lineJoin),H.setAttributeNS(null,"stroke-width",U(G*de.lineWidth)+"px"),H.setAttributeNS(null,"stroke-dasharray",W.map(U).join(" ")),H.setAttributeNS(null,"stroke-dashoffset",U(G*de.dashPhase)+"px")}eoFill(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var H;(H=this.current.element)==null||H.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width","1px"),H.setAttributeNS(null,"height","1px"),H.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(H)}paintImageXObject(H){const G=this.getObject(H);if(!G){(0,B.warn)(`Dependent image with object ID ${H} is not ready yet`);return}this.paintInlineImageXObject(G)}paintInlineImageXObject(H,G){const de=H.width,W=H.height,ge=ae(H,this.forceDataSchema,!!G),Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x","0"),Ee.setAttributeNS(null,"y","0"),Ee.setAttributeNS(null,"width",U(de)),Ee.setAttributeNS(null,"height",U(W)),this.current.element=Ee,this.clip("nonzero");const Te=this.svgFactory.createElement("svg:image");Te.setAttributeNS(ue,"xlink:href",ge),Te.setAttributeNS(null,"x","0"),Te.setAttributeNS(null,"y",U(-W)),Te.setAttributeNS(null,"width",U(de)+"px"),Te.setAttributeNS(null,"height",U(W)+"px"),Te.setAttributeNS(null,"transform",`scale(${U(1/de)} ${U(-1/W)})`),G?G.append(Te):this._ensureTransformGroup().append(Te)}paintImageMaskXObject(H){const G=this.getObject(H.data,H);if(G.bitmap){(0,B.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const de=this.current,W=G.width,ge=G.height,Ee=de.fillColor;de.maskId=`mask${q++}`;const Te=this.svgFactory.createElement("svg:mask");Te.setAttributeNS(null,"id",de.maskId);const Ke=this.svgFactory.createElement("svg:rect");Ke.setAttributeNS(null,"x","0"),Ke.setAttributeNS(null,"y","0"),Ke.setAttributeNS(null,"width",U(W)),Ke.setAttributeNS(null,"height",U(ge)),Ke.setAttributeNS(null,"fill",Ee),Ke.setAttributeNS(null,"mask",`url(#${de.maskId})`),this.defs.append(Te),this._ensureTransformGroup().append(Ke),this.paintInlineImageXObject(G,Te)}paintFormXObjectBegin(H,G){if(Array.isArray(H)&&H.length===6&&this.transform(H[0],H[1],H[2],H[3],H[4],H[5]),G){const de=G[2]-G[0],W=G[3]-G[1],ge=this.svgFactory.createElement("svg:rect");ge.setAttributeNS(null,"x",G[0]),ge.setAttributeNS(null,"y",G[1]),ge.setAttributeNS(null,"width",U(de)),ge.setAttributeNS(null,"height",U(W)),this.current.element=ge,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(H){const G=this.svgFactory.create(H.width,H.height),de=this.svgFactory.createElement("svg:defs");G.append(de),this.defs=de;const W=this.svgFactory.createElement("svg:g");return W.setAttributeNS(null,"transform",Y(H.transform)),G.append(W),this.svg=W,G}_ensureClipGroup(){if(!this.current.clipGroup){const H=this.svgFactory.createElement("svg:g");H.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(H),this.current.clipGroup=H}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Y(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var R=__webpack_module_cache__[A];if(R!==void 0)return R.exports;var V=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](V,V.exports,__w_pdfjs_require__),V.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return R.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return $.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return R.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return R.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return re.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return fe.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return R.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return R.CMapCompressionType}}),Object.defineProperty(A,"FeatureTest",{enumerable:!0,get:function(){return R.FeatureTest}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ve.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return R.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return R.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return R.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return V.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return O.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return V.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return R.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return R.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return O.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return O.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return ue.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return R.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return R.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return R.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return R.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ie.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return V.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return R.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return R.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return V.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return O.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return O.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return O.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return O.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return O.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return O.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return B.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return O.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return R.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return B.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return V.version}});var R=__w_pdfjs_require__(1),V=__w_pdfjs_require__(2),O=__w_pdfjs_require__(6),B=__w_pdfjs_require__(26),$=__w_pdfjs_require__(27),re=__w_pdfjs_require__(5),fe=__w_pdfjs_require__(32),ve=__w_pdfjs_require__(14),ue=__w_pdfjs_require__(35),ie=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(A){var R=reactExports,V=pdfExports;function O(X){var he=Object.create(null);return X&&Object.keys(X).forEach(function(we){if(we!=="default"){var Me=Object.getOwnPropertyDescriptor(X,we);Object.defineProperty(he,we,Me.get?Me:{enumerable:!0,get:function(){return X[we]}})}}),he.default=X,Object.freeze(he)}var B,$=O(R),re=O(V);A.AnnotationType=void 0,(B=A.AnnotationType||(A.AnnotationType={}))[B.Text=1]="Text",B[B.Link=2]="Link",B[B.FreeText=3]="FreeText",B[B.Line=4]="Line",B[B.Square=5]="Square",B[B.Circle=6]="Circle",B[B.Polygon=7]="Polygon",B[B.Polyline=8]="Polyline",B[B.Highlight=9]="Highlight",B[B.Underline=10]="Underline",B[B.Squiggly=11]="Squiggly",B[B.StrikeOut=12]="StrikeOut",B[B.Stamp=13]="Stamp",B[B.Caret=14]="Caret",B[B.Ink=15]="Ink",B[B.Popup=16]="Popup",B[B.FileAttachment=17]="FileAttachment";var fe=function(X,he){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,Me){we.__proto__=Me}||function(we,Me){for(var Ie in Me)Object.prototype.hasOwnProperty.call(Me,Ie)&&(we[Ie]=Me[Ie])},fe(X,he)};function ve(X,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function we(){this.constructor=X}fe(X,he),X.prototype=he===null?Object.create(he):(we.prototype=he.prototype,new we)}var ue,ie=function(){return ie=Object.assign||function(X){for(var he,we=1,Me=arguments.length;we<Me;we++)for(var Ie in he=arguments[we])Object.prototype.hasOwnProperty.call(he,Ie)&&(X[Ie]=he[Ie]);return X},ie.apply(this,arguments)};A.TextDirection=void 0,(ue=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",ue.LeftToRight="LTR";var ye,ce=$.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),ae=function(X){var he=[];return Object.keys(X).forEach(function(we){we&&X[we]&&he.push(we)}),he.join(" ")},J=typeof window<"u"?$.useLayoutEffect:$.useEffect,Q=function(X){var he=$.useRef(null),we=X.once,Me=X.threshold,Ie=X.onVisibilityChanged;return J(function(){var Oe=he.current;if(Oe){var Xe=new IntersectionObserver(function(ze){ze.forEach(function($e){var Ue=$e.isIntersecting,Ve=$e.intersectionRatio;Ie({isVisible:Ue,ratio:Ve}),Ue&&we&&(Xe.unobserve(Oe),Xe.disconnect())})},{threshold:Me||0});return Xe.observe(Oe),function(){Xe.unobserve(Oe),Xe.disconnect()}}},[]),he},U=function(X){var he=X.children,we=X.ignoreDirection,Me=we!==void 0&&we,Ie=X.size,Oe=Ie===void 0?24:Ie,Xe=$.useContext(ce).direction,ze=!Me&&Xe===A.TextDirection.RightToLeft,$e="".concat(Oe||24,"px");return $.createElement("svg",{"aria-hidden":"true",className:ae({"rpv-core__icon":!0,"rpv-core__icon--rtl":ze}),focusable:"false",height:$e,viewBox:"0 0 24 24",width:$e},he)},Y=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ne=function(X){var he=X.children,we=X.testId,Me=X.onClick,Ie=$.useContext(ce).direction===A.TextDirection.RightToLeft,Oe=we?{"data-testid":we}:{};return $.createElement("button",ie({className:ae({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Ie}),type:"button",onClick:Me},Oe),he)},q=function(X){var he=X.size,we=he===void 0?"4rem":he,Me=X.testId,Ie=$.useState(!1),Oe=Ie[0],Xe=Ie[1],ze=Me?{"data-testid":Me}:{},$e=Q({onVisibilityChanged:function(Ue){Xe(Ue.isVisible)}});return $.createElement("div",ie({},ze,{className:ae({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Oe}),ref:$e,style:{height:we,width:we}}))},K=function(X){var he=X.ariaLabel,we=he===void 0?"":he,Me=X.autoFocus,Ie=Me!==void 0&&Me,Oe=X.placeholder,Xe=Oe===void 0?"":Oe,ze=X.testId,$e=X.type,Ue=$e===void 0?"text":$e,Ve=X.value,st=Ve===void 0?"":Ve,ot=X.onChange,it=X.onKeyDown,mt=it===void 0?function(){}:it,ht=$.useContext(ce).direction,dt=$.useRef(),Bt=ht===A.TextDirection.RightToLeft,kt={ref:dt,"data-testid":"","aria-label":we,className:ae({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Bt}),placeholder:Xe,value:st,onChange:function(xt){return ot(xt.target.value)},onKeyDown:mt};return ze&&(kt["data-testid"]=ze),J(function(){if(Ie){var xt=dt.current;if(xt){var Rt=window.scrollX,yt=window.scrollY;xt.focus(),window.scrollTo(Rt,yt)}}},[]),Ue==="text"?$.createElement("input",ie({type:"text"},kt)):$.createElement("input",ie({type:"password"},kt))};(function(X){X[X.ExitFullScreen=0]="ExitFullScreen",X[X.FullScreenChange=1]="FullScreenChange",X[X.FullScreenElement=2]="FullScreenElement",X[X.FullScreenEnabled=3]="FullScreenEnabled",X[X.RequestFullScreen=4]="RequestFullScreen"})(ye||(ye={}));var H,G={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},de={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},W={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},ge=typeof window<"u",Ee=ge&&(ye.FullScreenEnabled in document&&G||de.FullScreenEnabled in document&&de||W.FullScreenEnabled in document&&W)||G,Te=function(){return ge&&Ee.FullScreenEnabled in document&&document[Ee.FullScreenEnabled]===!0},Ke=function(X){return ge?X[Ee.ExitFullScreen]():Promise.resolve({})},ft=function(){return ge?document[Ee.FullScreenElement]:null},Ye=function(X,he){var we=$.useRef(),Me=function(){we.current&&clearTimeout(we.current)};return $.useEffect(function(){return function(){return Me()}},[]),$.useCallback(function(){for(var Ie=[],Oe=0;Oe<arguments.length;Oe++)Ie[Oe]=arguments[Oe];Me(),we.current=setTimeout(function(){X.apply(void 0,Ie)},he)},[X,he])},et=function(){var X=$.useRef(!1);return $.useEffect(function(){return X.current=!0,function(){X.current=!1}},[]),X},qe=function(X){var he=$.useRef(X);return $.useEffect(function(){he.current=X},[X]),he.current};(function(X){X.NotRenderedYet="NotRenderedYet",X.Rendering="Rendering",X.Rendered="Rendered"})(H||(H={}));var Ne,Be=-9999,Qe=function(X){var he=X.doc,we=he.numPages,Me=he.loadingTask.docId,Ie=$.useMemo(function(){return Array(we).fill(null).map(function(ze,$e){return{pageIndex:$e,renderStatus:H.NotRenderedYet,visibility:Be}})},[Me]),Oe=$.useRef({currentRenderingPage:-1,startRange:0,endRange:we-1,visibilities:Ie}),Xe=function(ze,$e){Oe.current.visibilities[ze].visibility=$e};return{getHighestPriorityPage:function(){var ze=Oe.current.visibilities.slice(Oe.current.startRange,Oe.current.endRange+1).filter(function(ot){return ot.visibility>Be});if(!ze.length)return-1;for(var $e=ze[0].pageIndex,Ue=ze[ze.length-1].pageIndex,Ve=ze.length,st=0;st<Ve;st++){if(ze[st].renderStatus===H.Rendering)return-1;if(ze[st].renderStatus===H.NotRenderedYet)return ze[st].pageIndex}return Ue+1<we&&Oe.current.visibilities[Ue+1].renderStatus!==H.Rendered?Ue+1:$e-1>=0&&Oe.current.visibilities[$e-1].renderStatus!==H.Rendered?$e-1:-1},isInRange:function(ze){return ze>=Oe.current.startRange&&ze<=Oe.current.endRange},markNotRendered:function(){for(var ze=0;ze<we;ze++)Oe.current.visibilities[ze].renderStatus=H.NotRenderedYet},markRendered:function(ze){Oe.current.visibilities[ze].renderStatus=H.Rendered},markRendering:function(ze){Oe.current.currentRenderingPage!==-1&&Oe.current.currentRenderingPage!==ze&&Oe.current.visibilities[Oe.current.currentRenderingPage].renderStatus===H.Rendering&&(Oe.current.visibilities[Oe.current.currentRenderingPage].renderStatus=H.NotRenderedYet),Oe.current.visibilities[ze].renderStatus=H.Rendering,Oe.current.currentRenderingPage=ze},setOutOfRange:function(ze){Xe(ze,Be)},setRange:function(ze,$e){Oe.current.startRange=ze,Oe.current.endRange=$e;for(var Ue=0;Ue<we;Ue++)(Ue<ze||Ue>$e)&&(Oe.current.visibilities[Ue].visibility=Be,Oe.current.visibilities[Ue].renderStatus=H.NotRenderedYet)},setVisibility:Xe}},nt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Pe=$.createContext({l10n:nt,setL10n:function(){}}),se=0,te=function(){return se++},pe=function(X,he,we){var Me=function(Ie){var Oe=he.current;if(Oe){var Xe=Ie.target;if(Xe instanceof Element&&Xe.shadowRoot){var ze=Ie.composedPath();ze.length>0&&!Oe.contains(ze[0])&&we()}else Oe.contains(Xe)||we()}};$.useEffect(function(){if(X){var Ie={capture:!0};return document.addEventListener("click",Me,Ie),function(){document.removeEventListener("click",Me,Ie)}}},[])},Ae=function(X){var he=function(we){we.key==="Escape"&&X()};$.useEffect(function(){return document.addEventListener("keyup",he),function(){document.removeEventListener("keyup",he)}},[])},ke=function(X){var he=X.ariaControlsSuffix,we=X.children,Me=X.closeOnClickOutside,Ie=X.closeOnEscape,Oe=X.onToggle,Xe=$.useRef(),ze=$.useContext(ce).direction===A.TextDirection.RightToLeft;return $.useEffect(function(){var $e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=$e}},[]),Ae(function(){Xe.current&&Ie&&Oe()}),pe(Me,Xe,Oe),J(function(){var $e=Xe.current;if($e){var Ue=.75*document.body.clientHeight;$e.getBoundingClientRect().height>=Ue&&($e.style.overflow="auto",$e.style.maxHeight="".concat(Ue,"px"))}},[]),$.createElement("div",{"aria-modal":"true",className:ae({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":ze}),id:"rpv-core__modal-body-".concat(he),ref:Xe,role:"dialog",tabIndex:-1},we)},Se=function(X){var he=X.children;return $.createElement("div",{className:"rpv-core__modal-overlay"},he)};A.ToggleStatus=void 0,(Ne=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",Ne.Open="Open",Ne.Toggle="Toggle";var je,Ze=function(X){var he=$.useState(X),we=he[0],Me=he[1];return{opened:we,toggle:function(Ie){switch(Ie){case A.ToggleStatus.Close:Me(!1);break;case A.ToggleStatus.Open:Me(!0);break;case A.ToggleStatus.Toggle:default:Me(function(Oe){return!Oe})}}}},rt=function(X){var he=X.content,we=X.isOpened,Me=we!==void 0&&we,Ie=X.target,Oe=Ze(Me),Xe=Oe.opened,ze=Oe.toggle;return $.createElement($.Fragment,null,Ie&&Ie(ze,Xe),Xe&&he(ze))};A.Position=void 0,(je=A.Position||(A.Position={})).TopLeft="TOP_LEFT",je.TopCenter="TOP_CENTER",je.TopRight="TOP_RIGHT",je.RightTop="RIGHT_TOP",je.RightCenter="RIGHT_CENTER",je.RightBottom="RIGHT_BOTTOM",je.BottomLeft="BOTTOM_LEFT",je.BottomCenter="BOTTOM_CENTER",je.BottomRight="BOTTOM_RIGHT",je.LeftTop="LEFT_TOP",je.LeftCenter="LEFT_CENTER",je.LeftBottom="LEFT_BOTTOM";var We,ee,oe,be,_e,le,xe,Fe,Le=function(X,he,we,Me,Ie){J(function(){var Oe=he.current,Xe=X.current,ze=we.current;if(Xe&&Oe&&ze){var $e=ze.getBoundingClientRect(),Ue=function(ot,it,mt,ht){var dt=it.getBoundingClientRect(),Bt=ot.getBoundingClientRect(),kt=Bt.height,xt=Bt.width,Rt=0,yt=0;switch(mt){case A.Position.TopLeft:Rt=dt.top-kt,yt=dt.left;break;case A.Position.TopCenter:Rt=dt.top-kt,yt=dt.left+dt.width/2-xt/2;break;case A.Position.TopRight:Rt=dt.top-kt,yt=dt.left+dt.width-xt;break;case A.Position.RightTop:Rt=dt.top,yt=dt.left+dt.width;break;case A.Position.RightCenter:Rt=dt.top+dt.height/2-kt/2,yt=dt.left+dt.width;break;case A.Position.RightBottom:Rt=dt.top+dt.height-kt,yt=dt.left+dt.width;break;case A.Position.BottomLeft:Rt=dt.top+dt.height,yt=dt.left;break;case A.Position.BottomCenter:Rt=dt.top+dt.height,yt=dt.left+dt.width/2-xt/2;break;case A.Position.BottomRight:Rt=dt.top+dt.height,yt=dt.left+dt.width-xt;break;case A.Position.LeftTop:Rt=dt.top,yt=dt.left-xt;break;case A.Position.LeftCenter:Rt=dt.top+dt.height/2-kt/2,yt=dt.left-xt;break;case A.Position.LeftBottom:Rt=dt.top+dt.height-kt,yt=dt.left-xt}return{left:yt+(ht.left||0),top:Rt+(ht.top||0)}}(Xe,Oe,Me,Ie),Ve=Ue.top,st=Ue.left;Xe.style.top="".concat(Ve-$e.top,"px"),Xe.style.left="".concat(st-$e.left,"px")}},[])},Je=function(X){var he,we=X.customClassName,Me=X.position;return $.createElement("div",{className:ae((he={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Me===A.Position.TopLeft,"rpv-core__arrow--tc":Me===A.Position.TopCenter,"rpv-core__arrow--tr":Me===A.Position.TopRight,"rpv-core__arrow--rt":Me===A.Position.RightTop,"rpv-core__arrow--rc":Me===A.Position.RightCenter,"rpv-core__arrow--rb":Me===A.Position.RightBottom,"rpv-core__arrow--bl":Me===A.Position.BottomLeft,"rpv-core__arrow--bc":Me===A.Position.BottomCenter,"rpv-core__arrow--br":Me===A.Position.BottomRight,"rpv-core__arrow--lt":Me===A.Position.LeftTop,"rpv-core__arrow--lc":Me===A.Position.LeftCenter,"rpv-core__arrow--lb":Me===A.Position.LeftBottom},he["".concat(we)]=we!=="",he))})},Ce=function(X){var he=X.ariaControlsSuffix,we=X.children,Me=X.closeOnClickOutside,Ie=X.offset,Oe=X.position,Xe=X.targetRef,ze=X.onClose,$e=$.useRef(),Ue=$.useRef(),Ve=$.useRef(),st=$.useContext(ce).direction===A.TextDirection.RightToLeft;pe(Me,$e,ze),Le($e,Xe,Ve,Oe,Ie),J(function(){var it=Ue.current;if(it){var mt=.75*document.body.clientHeight;it.getBoundingClientRect().height>=mt&&(it.style.overflow="auto",it.style.maxHeight="".concat(mt,"px"))}},[]);var ot="rpv-core__popover-body-inner-".concat(he);return $.createElement($.Fragment,null,$.createElement("div",{ref:Ve,style:{left:0,position:"absolute",top:0}}),$.createElement("div",{"aria-describedby":ot,className:ae({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":st}),id:"rpv-core__popover-body-".concat(he),ref:$e,role:"dialog",tabIndex:-1},$.createElement(Je,{customClassName:"rpv-core__popover-body-arrow",position:Oe}),$.createElement("div",{id:ot,ref:Ue},we)))},De=function(X){var he=X.closeOnEscape,we=X.onClose,Me=$.useRef();return Ae(function(){Me.current&&he&&we()}),$.createElement("div",{className:"rpv-core__popover-overlay",ref:Me})},Re=function(X){var he=X.ariaControlsSuffix,we=X.children,Me=X.contentRef,Ie=X.offset,Oe=X.position,Xe=X.targetRef,ze=$.useRef(),$e=$.useContext(ce).direction===A.TextDirection.RightToLeft;return Le(Me,Xe,ze,Oe,Ie),$.createElement($.Fragment,null,$.createElement("div",{ref:ze,style:{left:0,position:"absolute",top:0}}),$.createElement("div",{className:ae({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":$e}),id:"rpv-core__tooltip-body-".concat(he),ref:Me,role:"tooltip"},$.createElement(Je,{customClassName:"rpv-core__tooltip-body-arrow",position:Oe}),$.createElement("div",{className:"rpv-core__tooltip-body-content"},we)))};A.FullScreenMode=void 0,(We=A.FullScreenMode||(A.FullScreenMode={})).Normal="Normal",We.Entering="Entering",We.Entered="Entered",We.EnteredCompletely="EnteredCompletely",We.Exitting="Exitting",We.Exited="Exited",A.LayerRenderStatus=void 0,(ee=A.LayerRenderStatus||(A.LayerRenderStatus={}))[ee.PreRender=0]="PreRender",ee[ee.DidRender=1]="DidRender",A.PageMode=void 0,(oe=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",oe.Bookmarks="UseOutlines",oe.ContentGroup="UseOC",oe.Default="UserNone",oe.FullScreen="FullScreen",oe.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(be=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",be.WrongPassword="WrongPassword",A.RotateDirection=void 0,(_e=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",_e.Forward="Forward",A.ScrollMode=void 0,(le=A.ScrollMode||(A.ScrollMode={})).Page="Page",le.Horizontal="Horizontal",le.Vertical="Vertical",le.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(xe=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",xe.PageFit="PageFit",xe.PageWidth="PageWidth",A.ViewMode=void 0,(Fe=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",Fe.DualPageWithCover="DualPageWithCover",Fe.SinglePage="SinglePage";var tt,ct=function(X,he){return X.reduce(function(we,Me,Ie){return Ie%he?we[we.length-1].push(Me):we.push([Me]),we},[])},gt=function(X,he){switch(he[1].name){case"XYZ":return{bottomOffset:function(we,Me){return he[3]===null?Me:he[3]},leftOffset:function(we,Me){return he[2]===null?0:he[2]},pageIndex:X,scaleTo:he[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:X,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:he[2],leftOffset:0,pageIndex:X,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:X,scaleTo:1}}},vt=new Map,At=new Map,Gt=function(X,he){return"".concat(X.loadingTask.docId,"___").concat(he.num,"R").concat(he.gen===0?"":he.gen)},Zt=function(X,he,we){vt.set(Gt(X,he),we)},at=function(X,he){if(!X)return Promise.reject("The document is not loaded yet");var we="".concat(X.loadingTask.docId,"___").concat(he),Me=At.get(we);return Me?Promise.resolve(Me):new Promise(function(Ie,Oe){X.getPage(he+1).then(function(Xe){At.set(we,Xe),Xe.ref&&Zt(X,Xe.ref,he),Ie(Xe)})})},Ge=function(X,he){return new Promise(function(we){new Promise(function(Me){typeof he=="string"?X.getDestination(he).then(function(Ie){Me(Ie)}):Me(he)}).then(function(Me){if(typeof Me[0]=="object"&&Me[0]!==null){var Ie=Me[0],Oe=function(ze,$e){var Ue=Gt(ze,$e);return vt.has(Ue)?vt.get(Ue):null}(X,Ie);Oe===null?X.getPageIndex(Ie).then(function(ze){Zt(X,Ie,ze),Ge(X,he).then(function($e){return we($e)})}):we(gt(Oe,Me))}else{var Xe=gt(Me[0],Me);we(Xe)}})})};(function(X){X[X.Solid=1]="Solid",X[X.Dashed=2]="Dashed",X[X.Beveled=3]="Beveled",X[X.Inset=4]="Inset",X[X.Underline=5]="Underline"})(tt||(tt={}));var He,bt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Lt=function(X,he,we,Me){var Ie=parseInt(X,10);return Ie>=he&&Ie<=we?Ie:Me},Vt=function(X){return X.contentsObj?X.contentsObj.str:X.contents||""},Ut=function(X){return X.titleObj?X.titleObj.str:X.title||""},kn=function(X){var he=X.annotation,we=$.useContext(ce).direction,Me=Ut(he),Ie=Vt(he),Oe=we===A.TextDirection.RightToLeft,Xe=$.useRef(),ze="";if(he.modificationDate){var $e=function(Ue){var Ve=bt.exec(Ue);if(!Ve)return null;var st=parseInt(Ve[1],10),ot=Lt(Ve[2],1,12,1)-1,it=Lt(Ve[3],1,31,1),mt=Lt(Ve[4],0,23,0),ht=Lt(Ve[5],0,59,0),dt=Lt(Ve[6],0,59,0),Bt=Ve[7]||"Z",kt=Lt(Ve[8],0,23,0),xt=Lt(Ve[9],0,59,0);switch(Bt){case"-":mt+=kt,ht+=xt;break;case"+":mt-=kt,ht-=xt}return new Date(Date.UTC(st,ot,it,mt,ht,dt))}(he.modificationDate);ze=$e?"".concat($e.toLocaleDateString(),", ").concat($e.toLocaleTimeString()):""}return $.useLayoutEffect(function(){if(Xe.current){var Ue=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(Ue){var Ve=Ue;return Ve.style.zIndex+=1,function(){Ve.style.zIndex="".concat(parseInt(Ve.style.zIndex,10)-1)}}}},[]),$.createElement("div",{ref:Xe,className:ae({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Oe}),style:{top:he.annotationType===A.AnnotationType.Popup?"":"100%"}},Me&&$.createElement($.Fragment,null,$.createElement("div",{className:ae({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Oe,"rpv-core__annotation-popup-title--rtl":Oe})},Me),$.createElement("div",{className:"rpv-core__annotation-popup-date"},ze)),Ie&&$.createElement("div",{className:"rpv-core__annotation-popup-content"},Ie.split(`
`).map(function(Ue,Ve){return $.createElement($.Fragment,{key:Ve},Ue,$.createElement("br",null))})))};(function(X){X.Click="Click",X.Hover="Hover"})(He||(He={}));var zt,on=function(X){var he,we=X.annotation,Me=X.children,Ie=X.ignoreBorder,Oe=X.hasPopup,Xe=X.isRenderable,ze=X.page,$e=X.viewport,Ue=we.rect,Ve=function(){var Tt=Ze(!1),Kt=Tt.opened,Xt=Tt.toggle,Yt=$.useState(He.Hover),Jt=Yt[0],en=Yt[1];return{opened:Kt,closeOnHover:function(){Jt===He.Hover&&Xt(A.ToggleStatus.Close)},openOnHover:function(){Jt===He.Hover&&Xt(A.ToggleStatus.Open)},toggleOnClick:function(){switch(Jt){case He.Click:Kt&&en(He.Hover),Xt(A.ToggleStatus.Toggle);break;case He.Hover:en(He.Click),Xt(A.ToggleStatus.Open)}}}}(),st=Ve.closeOnHover,ot=Ve.opened,it=Ve.openOnHover,mt=Ve.toggleOnClick,ht=(he=[Ue[0],ze.view[3]+ze.view[1]-Ue[1],Ue[2],ze.view[3]+ze.view[1]-Ue[3]],[Math.min(he[0],he[2]),Math.min(he[1],he[3]),Math.max(he[0],he[2]),Math.max(he[1],he[3])]),dt=Ue[2]-Ue[0],Bt=Ue[3]-Ue[1],kt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Ie&&we.borderStyle.width>0){switch(we.borderStyle.style){case tt.Dashed:kt.borderStyle="dashed";break;case tt.Solid:kt.borderStyle="solid";break;case tt.Underline:kt=Object.assign({borderBottomStyle:"solid"},kt);case tt.Beveled:case tt.Inset:}var xt=we.borderStyle.width;kt.borderWidth="".concat(xt,"px"),we.borderStyle.style!==tt.Underline&&(dt-=2*xt,Bt-=2*xt);var Rt=we.borderStyle,yt=Rt.horizontalCornerRadius,Ft=Rt.verticalCornerRadius;(yt>0||Ft>0)&&(kt.borderRadius="".concat(yt,"px / ").concat(Ft,"px")),we.color?kt.borderColor="rgb(".concat(0|we.color[0],", ").concat(0|we.color[1],", ").concat(0|we.color[2],")"):kt.borderWidth="0"}return $.createElement($.Fragment,null,Xe&&Me({popup:{opened:ot,closeOnHover:st,openOnHover:it,toggleOnClick:mt},slot:{attrs:{style:Object.assign({height:"".concat(Bt,"px"),left:"".concat(ht[0],"px"),top:"".concat(ht[1],"px"),transform:"matrix(".concat($e.transform.join(","),")"),transformOrigin:"-".concat(ht[0],"px -").concat(ht[1],"px"),width:"".concat(dt,"px")},kt)},children:$.createElement($.Fragment,null,Oe&&ot&&$.createElement(kn,{annotation:we}))}}))},yn=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe);return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},Dn=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe),$e=he.rect,Ue=$e[2]-$e[0],Ve=$e[3]-$e[1],st=he.borderStyle.width;return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function(ot){return $.createElement("div",ie({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),$.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ue," ").concat(Ve),width:"".concat(Ue,"px")},$.createElement("circle",{cy:Ve/2,fill:"none",rx:Ue/2-st/2,ry:Ve/2-st/2,stroke:"transparent",strokeWidth:st||1})),ot.slot.children)})},Fn=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=Ut(he),Oe=Vt(he),Xe=!(he.hasPopup!==!1||!Ie&&!Oe),ze=function(){var $e,Ue,Ve,st,ot=he.file;ot&&($e=ot.filename,Ue=ot.content,Ve=typeof Ue=="string"?"":URL.createObjectURL(new Blob([Ue],{type:""})),(st=document.createElement("a")).style.display="none",st.href=Ve||$e,st.setAttribute("download",function(it){var mt=it.split("/").pop();return mt?mt.split("#")[0].split("?")[0]:it}($e)),document.body.appendChild(st),st.click(),document.body.removeChild(st),Ve&&URL.revokeObjectURL(Ve))};return $.createElement(on,{annotation:he,hasPopup:Xe,ignoreBorder:!0,isRenderable:!0,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onDoubleClick:ze,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},Kn=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe);return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},gn=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=Ut(he),Oe=Vt(he),Xe=!(!Ie&&!Oe),ze=!he.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(he.parentType)!==-1;return J(function(){if(he.parentId){var $e=document.querySelector('[data-annotation-id="'.concat(he.parentId,'"]')),Ue=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if($e&&Ue){var Ve=parseFloat($e.style.left),st=parseFloat($e.style.top)+parseFloat($e.style.height);Ue.style.left="".concat(Ve,"px"),Ue.style.top="".concat(st,"px"),Ue.style.transformOrigin="-".concat(Ve,"px -").concat(st,"px")}}},[]),$.createElement(on,{annotation:he,hasPopup:ze,ignoreBorder:!1,isRenderable:Xe,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":he.id}),$.createElement(kn,{annotation:he}))})},Vn=function(X){var he=X.annotation,we=X.childAnnotation,Me=X.page,Ie=X.viewport,Oe=he.hasPopup===!1,Xe=Ut(he),ze=Vt(he),$e=!!(he.hasPopup||Xe||ze);if(he.quadPoints&&he.quadPoints.length>0){var Ue=he.quadPoints.map(function(Ve){return Object.assign({},he,{rect:[Ve[2].x,Ve[2].y,Ve[1].x,Ve[1].y],quadPoints:[]})});return $.createElement($.Fragment,null,Ue.map(function(Ve,st){return $.createElement(Vn,{key:st,annotation:Ve,childAnnotation:we,page:Me,viewport:Ie})}))}return $.createElement(on,{annotation:he,hasPopup:Oe,ignoreBorder:!0,isRenderable:$e,page:Me,viewport:Ie},function(Ve){return $.createElement($.Fragment,null,$.createElement("div",ie({},Ve.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":he.id,onClick:Ve.popup.toggleOnClick,onMouseEnter:Ve.popup.openOnHover,onMouseLeave:Ve.popup.closeOnHover}),Ve.slot.children),we&&we.annotationType===A.AnnotationType.Popup&&Ve.popup.opened&&$.createElement(gn,{annotation:we,page:Me,viewport:Ie}))})},Yn=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe),$e=he.rect,Ue=$e[2]-$e[0],Ve=$e[3]-$e[1],st=he.borderStyle.width;return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function(ot){return $.createElement("div",ie({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),he.inkLists&&he.inkLists.length&&$.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ue," ").concat(Ve),width:"".concat(Ue,"px")},he.inkLists.map(function(it,mt){return $.createElement("polyline",{key:mt,fill:"none",stroke:"transparent",strokeWidth:st||1,points:it.map(function(ht){return"".concat(ht.x-$e[0],",").concat($e[3]-ht.y)}).join(" ")})})),ot.slot.children)})},nr=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe),$e=he.rect,Ue=$e[2]-$e[0],Ve=$e[3]-$e[1],st=he.borderStyle.width;return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function(ot){return $.createElement("div",ie({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),$.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ue," ").concat(Ve),width:"".concat(Ue,"px")},$.createElement("line",{stroke:"transparent",strokeWidth:st||1,x1:$e[2]-he.lineCoordinates[0],x2:$e[2]-he.lineCoordinates[2],y1:$e[3]-he.lineCoordinates[1],y2:$e[3]-he.lineCoordinates[3]})),ot.slot.children)})},rr=/^([^\w]*)(javascript|data|vbscript)/im,Un=/&#(\w+)(^\w|;)?/g,Pn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Wn=/^([^:]+):/gm,ir=function(X,he){var we,Me=(we=X||"",we.replace(Un,function(ze,$e){return String.fromCharCode($e)})).replace(Pn,"").trim();if(!Me)return he;var Ie=Me[0];if(Ie==="."||Ie==="/")return Me;var Oe=Me.match(Wn);if(!Oe)return Me;var Xe=Oe[0];return rr.test(Xe)?he:Me},Bi=function(X){var he,we=X.annotation,Me=X.annotationContainerRef,Ie=X.doc,Oe=X.outlines,Xe=X.page,ze=X.pageIndex,$e=X.scale,Ue=X.viewport,Ve=X.onExecuteNamedAction,st=X.onJumpFromLinkAnnotation,ot=X.onJumpToDest,it=$.useRef(),mt=Oe&&Oe.length&&we.dest&&typeof we.dest=="string"?(he=Oe.find(function(kt){return kt.dest===we.dest}))===null||he===void 0?void 0:he.title:"",ht=!!(we.url||we.dest||we.action||we.unsafeUrl),dt={};if(we.url||we.unsafeUrl){var Bt=ir(we.url||we.unsafeUrl,"");Bt?dt={"data-target":"external",href:Bt,rel:"noopener noreferrer nofollow",target:we.newWindow?"_blank":"",title:Bt}:ht=!1}else dt={href:"","data-annotation-link":we.id,onClick:function(kt){kt.preventDefault(),we.action?Ve(we.action):Ge(Ie,we.dest).then(function(xt){var Rt=it.current,yt=Me.current;if(Rt&&yt){var Ft=Rt.getBoundingClientRect();yt.style.setProperty("height","100%"),yt.style.setProperty("width","100%");var Tt=yt.getBoundingClientRect();yt.style.removeProperty("height"),yt.style.removeProperty("width");var Kt=(Ft.left-Tt.left)/$e,Xt=(Tt.bottom-Ft.bottom+Ft.height)/$e;st({bottomOffset:Xt,label:mt,leftOffset:Kt,pageIndex:ze})}ot(xt)})}};return mt&&(dt=Object.assign({},dt,{title:mt,"aria-label":mt})),$.createElement(on,{annotation:we,hasPopup:!1,ignoreBorder:!1,isRenderable:ht,page:Xe,viewport:Ue},function(kt){return $.createElement("div",ie({},kt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":we.id,"data-testid":"core__annotation--link-".concat(we.id)}),$.createElement("a",ie({ref:it},dt)))})},zi=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe),$e=he.rect,Ue=$e[2]-$e[0],Ve=$e[3]-$e[1],st=he.borderStyle.width;return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function(ot){return $.createElement("div",ie({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),he.vertices&&he.vertices.length&&$.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ue," ").concat(Ve),width:"".concat(Ue,"px")},$.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:st||1,points:he.vertices.map(function(it){return"".concat(it.x-$e[0],",").concat($e[3]-it.y)}).join(" ")})),ot.slot.children)})},Hi=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe),$e=he.rect,Ue=$e[2]-$e[0],Ve=$e[3]-$e[1],st=he.borderStyle.width;return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function(ot){return $.createElement("div",ie({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),he.vertices&&he.vertices.length&&$.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ue," ").concat(Ve),width:"".concat(Ue,"px")},$.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:st||1,points:he.vertices.map(function(it){return"".concat(it.x-$e[0],",").concat($e[3]-it.y)}).join(" ")})),ot.slot.children)})},Vi=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe),$e=he.rect,Ue=$e[2]-$e[0],Ve=$e[3]-$e[1],st=he.borderStyle.width;return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function(ot){return $.createElement("div",ie({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),$.createElement("svg",{height:"".concat(Ve,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Ue," ").concat(Ve),width:"".concat(Ue,"px")},$.createElement("rect",{height:Ve-st,fill:"none",stroke:"transparent",strokeWidth:st||1,x:st/2,y:st/2,width:Ue-st})),ot.slot.children)})},Ui=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe);return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},Wi=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe);return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},qi=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe);return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},Gi=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),$.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),$.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),$.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Xi=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),$.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),$.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),$.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),$.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),$.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),$.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),$.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),$.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),$.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},Ki=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),$.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Yi=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),$.createElement("path",{d:"M6 4.5L6 0.5"}),$.createElement("path",{d:"M18 4.5L18 0.5"}),$.createElement("path",{d:"M10 4.5L10 0.5"}),$.createElement("path",{d:"M14 4.5L14 0.5"}))},Zi=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),$.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),$.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ji=function(){return $.createElement(U,{size:16},$.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Qi=function(X){var he=X.annotation,we=X.childAnnotation,Me=X.page,Ie=X.viewport,Oe=he.hasPopup===!1,Xe=Ut(he),ze=Vt(he),$e=!!(he.hasPopup||Xe||ze),Ue=he.name?he.name.toLowerCase():"";return $.createElement(on,{annotation:he,hasPopup:Oe,ignoreBorder:!1,isRenderable:$e,page:Me,viewport:Ie},function(Ve){return $.createElement($.Fragment,null,$.createElement("div",ie({},Ve.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":he.id,onClick:Ve.popup.toggleOnClick,onMouseEnter:Ve.popup.openOnHover,onMouseLeave:Ve.popup.closeOnHover}),Ue&&$.createElement("div",{className:"rpv-core__annotation-text-icon"},Ue==="check"&&$.createElement(Y,null),Ue==="comment"&&$.createElement(Gi,null),Ue==="help"&&$.createElement(Xi,null),Ue==="insert"&&$.createElement(Ji,null),Ue==="key"&&$.createElement(Ki,null),Ue==="note"&&$.createElement(Yi,null),(Ue==="newparagraph"||Ue==="paragraph")&&$.createElement(Zi,null)),Ve.slot.children),we&&we.annotationType===A.AnnotationType.Popup&&Ve.popup.opened&&$.createElement(gn,{annotation:we,page:Me,viewport:Ie}))})},ea=function(X){var he=X.annotation,we=X.page,Me=X.viewport,Ie=he.hasPopup===!1,Oe=Ut(he),Xe=Vt(he),ze=!!(he.hasPopup||Oe||Xe);return $.createElement(on,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:ze,page:we,viewport:Me},function($e){return $.createElement("div",ie({},$e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":he.id,onClick:$e.popup.toggleOnClick,onMouseEnter:$e.popup.openOnHover,onMouseLeave:$e.popup.closeOnHover}),$e.slot.children)})},ta=function(X){var he=X.annotations,we=X.doc,Me=X.outlines,Ie=X.page,Oe=X.pageIndex,Xe=X.plugins,ze=X.rotation,$e=X.scale,Ue=X.onExecuteNamedAction,Ve=X.onJumpFromLinkAnnotation,st=X.onJumpToDest,ot=$.useRef(),it=Ie.getViewport({rotation:ze,scale:$e}).clone({dontFlip:!0}),mt=he.filter(function(ht){return!ht.parentId});return J(function(){var ht=ot.current;ht&&Xe.forEach(function(dt){dt.onAnnotationLayerRender&&dt.onAnnotationLayerRender({annotations:mt,container:ht,pageIndex:Oe,rotation:ze,scale:$e})})},[]),$.createElement("div",{ref:ot,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Oe)},mt.map(function(ht){var dt=he.find(function(Bt){return Bt.parentId===ht.id});switch(ht.annotationType){case A.AnnotationType.Caret:return $.createElement(yn,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Circle:return $.createElement(Dn,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.FileAttachment:return $.createElement(Fn,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.FreeText:return $.createElement(Kn,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Highlight:return $.createElement(Vn,{key:ht.id,annotation:ht,childAnnotation:dt,page:Ie,viewport:it});case A.AnnotationType.Ink:return $.createElement(Yn,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Line:return $.createElement(nr,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Link:return $.createElement(Bi,{key:ht.id,annotation:ht,annotationContainerRef:ot,doc:we,outlines:Me,page:Ie,pageIndex:Oe,scale:$e,viewport:it,onExecuteNamedAction:Ue,onJumpFromLinkAnnotation:Ve,onJumpToDest:st});case A.AnnotationType.Polygon:return $.createElement(zi,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Polyline:return $.createElement(Hi,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Popup:return $.createElement(gn,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Square:return $.createElement(Vi,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Squiggly:return $.createElement(Ui,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Stamp:return $.createElement(Wi,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.StrikeOut:return $.createElement(qi,{key:ht.id,annotation:ht,page:Ie,viewport:it});case A.AnnotationType.Text:return $.createElement(Qi,{key:ht.id,annotation:ht,childAnnotation:dt,page:Ie,viewport:it});case A.AnnotationType.Underline:return $.createElement(ea,{key:ht.id,annotation:ht,page:Ie,viewport:it});default:return $.createElement($.Fragment,{key:ht.id})}}))},na=function(X){var he=X.page,we=X.renderAnnotations,Me=et(),Ie=$.useState({loading:!0,annotations:[]}),Oe=Ie[0],Xe=Ie[1];return $.useEffect(function(){he.getAnnotations({intent:"display"}).then(function(ze){Me.current&&Xe({loading:!1,annotations:ze})})},[]),Oe.loading?$.createElement($.Fragment,null):we(Oe.annotations)},ra=function(X){var he=X.doc,we=X.outlines,Me=X.page,Ie=X.pageIndex,Oe=X.plugins,Xe=X.rotation,ze=X.scale,$e=X.onExecuteNamedAction,Ue=X.onJumpFromLinkAnnotation,Ve=X.onJumpToDest;return $.createElement(na,{page:Me,renderAnnotations:function(st){return $.createElement(ta,{annotations:st,doc:he,outlines:we,page:Me,pageIndex:Ie,plugins:Oe,rotation:Xe,scale:ze,onExecuteNamedAction:$e,onJumpFromLinkAnnotation:Ue,onJumpToDest:Ve})}})},lr=function(X,he){var we=X%he;return we===0?X:Math.floor(X-we)},ia=function(X){var he=X.canvasLayerRef,we=X.height,Me=X.page,Ie=X.pageIndex,Oe=X.plugins,Xe=X.rotation,ze=X.scale,$e=X.width,Ue=X.onRenderCanvasCompleted,Ve=$.useRef();return J(function(){var st=Ve.current;st&&st.cancel();var ot=he.current;ot.removeAttribute("data-testid"),Oe.forEach(function(Tt){Tt.onCanvasLayerRender&&Tt.onCanvasLayerRender({ele:ot,pageIndex:Ie,rotation:Xe,scale:ze,status:A.LayerRenderStatus.PreRender})});var it=Me.getViewport({rotation:Xe,scale:ze}),mt=window.devicePixelRatio||1,ht=Math.sqrt(16777216/(it.width*it.height)),dt=mt>ht;dt?ot.style.transform="scale(1, 1)":ot.style.removeProperty("transform");var Bt=Math.min(ht,mt),kt=function(Tt,Kt){var Xt,Yt;if(Math.floor(Tt)===Tt)return[Tt,1];var Jt=1/Tt;if(Jt>Kt)return[1,Kt];if(Math.floor(Jt)===Jt)return[1,Jt];for(var en=Tt>1?Jt:Tt,vn=0,ln=1,bn=1,hn=1;;){var pn=vn+bn,mn=ln+hn;if(mn>Kt)break;en<=pn/mn?(bn=(Xt=[pn,mn])[0],hn=Xt[1]):(vn=(Yt=[pn,mn])[0],ln=Yt[1])}return en<(vn/ln+bn/hn)/2?en===Tt?[vn,ln]:[ln,vn]:en===Tt?[bn,hn]:[hn,bn]}(Bt,8),xt=kt[0],Rt=kt[1];ot.width=lr(it.width*Bt,xt),ot.height=lr(it.height*Bt,xt),ot.style.width="".concat(lr(it.width,Rt),"px"),ot.style.height="".concat(lr(it.height,Rt),"px"),ot.hidden=!0;var yt=ot.getContext("2d",{alpha:!1}),Ft=dt||mt!==1?[Bt,0,0,Bt,0,0]:null;return Ve.current=Me.render({canvasContext:yt,transform:Ft,viewport:it}),Ve.current.promise.then(function(){ot.hidden=!1,ot.setAttribute("data-testid","core__canvas-layer-".concat(Ie)),Oe.forEach(function(Tt){Tt.onCanvasLayerRender&&Tt.onCanvasLayerRender({ele:ot,pageIndex:Ie,rotation:Xe,scale:ze,status:A.LayerRenderStatus.DidRender})}),Ue()},function(){Ue()}),function(){ot&&(ot.width=0,ot.height=0)}},[]),$.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(we,"px"),width:"".concat($e,"px")}},$.createElement("canvas",{ref:he}))},aa=function(X){var he=X.height,we=X.page,Me=X.rotation,Ie=X.scale,Oe=X.width,Xe=$.useRef();return J(function(){var ze=Xe.current,$e=we.getViewport({rotation:Me,scale:Ie});we.getOperatorList().then(function(Ue){(function(){var Ve=Xe.current;Ve&&(Ve.innerHTML="")})(),new re.SVGGraphics(we.commonObjs,we.objs).getSVG(Ue,$e).then(function(Ve){Ve.style.height="".concat(he,"px"),Ve.style.width="".concat(Oe,"px"),ze.appendChild(Ve)})})},[]),$.createElement("div",{className:"rpv-core__svg-layer",ref:Xe})},oa=function(X){var he=X.containerRef,we=X.page,Me=X.pageIndex,Ie=X.plugins,Oe=X.rotation,Xe=X.scale,ze=X.onRenderTextCompleted,$e=$.useRef(),Ue=function(){var Ve=he.current;Ve&&([].slice.call(Ve.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(st){return Ve.removeChild(st)}),[].slice.call(Ve.querySelectorAll('br[role="presentation"]')).forEach(function(st){return Ve.removeChild(st)}))};return J(function(){var Ve=$e.current;Ve&&Ve.cancel();var st=he.current;if(st){st.removeAttribute("data-testid");var ot=we.getViewport({rotation:Oe,scale:Xe});return Ie.forEach(function(it){it.onTextLayerRender&&it.onTextLayerRender({ele:st,pageIndex:Me,scale:Xe,status:A.LayerRenderStatus.PreRender})}),we.getTextContent().then(function(it){Ue(),$e.current=re.renderTextLayer({container:st,textContent:it,textContentSource:it,viewport:ot}),$e.current.promise.then(function(){st.setAttribute("data-testid","core__text-layer-".concat(Me)),[].slice.call(st.children).forEach(function(mt){mt.classList.contains("rpv-core__text-layer-text--not")||mt.classList.add("rpv-core__text-layer-text")}),Ie.forEach(function(mt){mt.onTextLayerRender&&mt.onTextLayerRender({ele:st,pageIndex:Me,scale:Xe,status:A.LayerRenderStatus.DidRender})}),ze()},function(){st.removeAttribute("data-testid"),ze()})}),function(){var it;Ue(),(it=$e.current)===null||it===void 0||it.cancel()}}},[]),$.createElement("div",{className:"rpv-core__text-layer",ref:he})},sa=function(X){var he=X.doc,we=X.measureRef,Me=X.outlines,Ie=X.pageIndex,Oe=X.pageRotation,Xe=X.pageSize,ze=X.plugins,$e=X.renderPage,Ue=X.renderQueueKey,Ve=X.rotation,st=X.scale,ot=X.shouldRender,it=X.viewMode,mt=X.onExecuteNamedAction,ht=X.onJumpFromLinkAnnotation,dt=X.onJumpToDest,Bt=X.onRenderCompleted,kt=X.onRotatePage,xt=et(),Rt=$.useState(null),yt=Rt[0],Ft=Rt[1],Tt=$.useState(!1),Kt=Tt[0],Xt=Tt[1],Yt=$.useState(!1),Jt=Yt[0],en=Yt[1],vn=$.useRef(),ln=$.useRef(),bn=Math.abs(Ve+Oe)%180==0,hn=Xe.pageWidth*st,pn=Xe.pageHeight*st,mn=bn?hn:pn,fn=bn?pn:hn,wn=(Xe.rotation+Ve+Oe)%360,In=$.useRef(0),Rn=$e||function(Sn){return $.createElement($.Fragment,null,Sn.canvasLayer.children,Sn.textLayer.children,Sn.annotationLayer.children)};return $.useEffect(function(){Ft(null),Xt(!1),en(!1)},[Oe,Ve,st]),$.useEffect(function(){ot&&xt.current&&!yt&&at(he,Ie).then(function(Sn){xt.current&&(In.current=Ue,Ft(Sn))})},[ot,yt]),$.useEffect(function(){Kt&&Jt&&(Ue!==In.current?(Ft(null),Xt(!1),en(!1)):Bt(Ie))},[Kt,Jt]),$.createElement("div",{className:ae({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":it===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":it===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":it===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Ie),ref:we,style:{height:"".concat(fn,"px"),width:"".concat(mn,"px")}},yt?$.createElement($.Fragment,null,Rn({annotationLayer:{attrs:{},children:$.createElement(ra,{doc:he,outlines:Me,page:yt,pageIndex:Ie,plugins:ze,rotation:wn,scale:st,onExecuteNamedAction:mt,onJumpFromLinkAnnotation:ht,onJumpToDest:dt})},canvasLayer:{attrs:{},children:$.createElement(ia,{canvasLayerRef:vn,height:fn,page:yt,pageIndex:Ie,plugins:ze,rotation:wn,scale:st,width:mn,onRenderCanvasCompleted:function(){xt.current&&Xt(!0)}})},canvasLayerRendered:Kt,doc:he,height:fn,pageIndex:Ie,rotation:wn,scale:st,svgLayer:{attrs:{},children:$.createElement(aa,{height:fn,page:yt,rotation:wn,scale:st,width:mn})},textLayer:{attrs:{},children:$.createElement(oa,{containerRef:ln,page:yt,pageIndex:Ie,plugins:ze,rotation:wn,scale:st,onRenderTextCompleted:function(){xt.current&&en(!0)}})},textLayerRendered:Jt,width:mn,markRendered:Bt,onRotatePage:function(Sn){return kt(Ie,Sn)}}),ze.map(function(Sn,xn){return Sn.renderPageLayer?$.createElement($.Fragment,{key:xn},Sn.renderPageLayer({canvasLayerRef:vn,canvasLayerRendered:Kt,doc:he,height:fn,pageIndex:Ie,rotation:wn,scale:st,textLayerRef:ln,textLayerRendered:Jt,width:mn})):$.createElement($.Fragment,{key:xn})})):$.createElement(q,{testId:"core__page-layer-loading-".concat(Ie)}))},ca=function(X,he){var we=he.rect;return X.height!==we.height||X.width!==we.width?we:X};(function(X){X.Horizontal="Horizontal",X.Vertical="Vertical",X.Both="Both"})(zt||(zt={}));var la=function(X){return 1-Math.pow(1-X,4)},ur=1e-4,Qr={left:0,top:0},ei={capture:!1,passive:!0},ua=function(X){var he=X.elementRef,we=X.enableSmoothScroll,Me=X.isRtl,Ie=X.scrollDirection,Oe=X.onSmoothScroll,Xe=$.useState(Qr),ze=Xe[0],$e=Xe[1],Ue=$.useState(he.current),Ve=Ue[0],st=Ue[1],ot=Me?-1:1,it=$.useRef(Ie);it.current=Ie;var mt=$.useRef(Qr),ht=$.useRef(!0),dt=$.useCallback(function(){ht.current=!0,we&&$e(mt.current),Oe(!1)},[]),Bt=$.useCallback(function(){if(Ve){switch(it.current){case zt.Horizontal:mt.current={left:ot*Ve.scrollLeft,top:0};break;case zt.Both:mt.current={left:ot*Ve.scrollLeft,top:Ve.scrollTop};break;case zt.Vertical:default:mt.current={left:0,top:Ve.scrollTop}}we&&!ht.current||$e(mt.current)}},[Ve]);J(function(){st(he.current)}),J(function(){if(Ve)return Ve.addEventListener("scroll",Bt,ei),function(){Ve.removeEventListener("scroll",Bt,ei)}},[Ve]);var kt=$.useCallback(function(xt,Rt){var yt=he.current;if(!yt)return Promise.resolve();var Ft={left:0,top:0};switch(it.current){case zt.Horizontal:Ft.left=ot*xt.left;break;case zt.Both:Ft.left=ot*xt.left,Ft.top=xt.top;break;case zt.Vertical:default:Ft.top=xt.top}return Rt?(ht.current=!1,Oe(!0),new Promise(function(Tt,Kt){(function(Xt,Yt,Jt,en,vn,ln){vn===void 0&&(vn=function(xn){return xn}),ln===void 0&&(ln=function(){});var bn=0,hn=0,pn=!1;switch(Yt){case zt.Horizontal:hn=Xt.scrollLeft,bn=0;case zt.Both:hn=Xt.scrollLeft,bn=Xt.scrollTop;break;case zt.Vertical:default:hn=0,bn=Xt.scrollTop}var mn=function(){pn||(pn=!0,Xt.scrollLeft=Jt.left,Xt.scrollTop=Jt.top,ln())};if(Math.abs(bn-Jt.top)<=ur&&Yt===zt.Vertical)mn();else if(Math.abs(hn-Jt.left)<=ur&&Yt===zt.Horizontal)mn();else{var fn,wn=-1,In=hn-Jt.left,Rn=bn-Jt.top,Sn=function(xn){wn===-1&&(wn=xn);var Ln=xn-wn,$t=Math.min(Ln/en,1),Mt=vn($t),St={left:hn-In*Mt,top:bn-Rn*Mt};switch(Yt){case zt.Horizontal:Xt.scrollLeft=St.left;break;case zt.Both:Xt.scrollLeft=St.left,Xt.scrollTop=St.top;break;case zt.Vertical:default:Xt.scrollTop=St.top}Math.abs(St.top-Jt.top)<=ur&&Math.abs(St.left-Jt.left)<=ur&&!pn&&(window.cancelAnimationFrame(fn),mn()),Ln<en?fn=window.requestAnimationFrame(Sn):window.cancelAnimationFrame(fn)};fn=window.requestAnimationFrame(Sn)}})(yt,it.current,Ft,400,la,function(){dt(),Tt()})})):new Promise(function(Tt,Kt){switch(it.current){case zt.Horizontal:yt.scrollLeft=Ft.left;break;case zt.Both:yt.scrollLeft=Ft.left,yt.scrollTop=Ft.top;break;case zt.Vertical:default:yt.scrollTop=Ft.top}Tt()})},[he]);return{scrollOffset:ze,scrollTo:kt}},ar=function(X,he,we){return Math.max(X,Math.min(we,he))},da=function(X,he){if(he!==A.ViewMode.DualPageWithCover)return 0;if(!function(Ie){var Oe=Ie.length;if(Oe===1)return!1;for(var Xe=1;Xe<Oe;Xe++)if(Ie[Xe].height!==Ie[0].height||Ie[Xe].width!==Ie[0].width)return!0;return!1}(X))return 2*X[0].width;var we=ct(X.slice(1),2).map(function(Ie){return Ie.length===2?Ie[0].width+Ie[1].width:Ie[0].width}),Me=[X[0].width].concat(we);return Math.max.apply(Math,Me)},ha={left:0,top:0},fa={left:0,top:0},Er={left:0,top:0},pa={left:0,top:0},ma={height:0,width:0},ti={left:0,top:0},ni="data-virtual-index",ga=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],va=function(X){var he=X.enableSmoothScroll,we=X.isRtl,Me=X.numberOfItems,Ie=X.parentRef,Oe=X.setRenderRange,Xe=X.sizes,ze=X.scrollMode,$e=X.viewMode,Ue=$.useState(!1),Ve=Ue[0],st=Ue[1],ot=$.useCallback(function($t){return st($t)},[]),it=$.useRef(ze);it.current=ze;var mt=$.useRef($e);mt.current=$e;var ht=ze===A.ScrollMode.Wrapped||$e===A.ViewMode.DualPageWithCover||$e===A.ViewMode.DualPage?zt.Both:ze===A.ScrollMode.Horizontal?zt.Horizontal:zt.Vertical,dt=ua({elementRef:Ie,enableSmoothScroll:he,isRtl:we,scrollDirection:ht,onSmoothScroll:ot}),Bt=dt.scrollOffset,kt=dt.scrollTo,xt=function($t){var Mt=$t.elementRef,St=$.useState(Mt.current),wt=St[0],Ct=St[1],It=$.useRef(!1),Ot=$.useReducer(ca,{height:0,width:0}),Pt=Ot[0],Et=Ot[1];return J(function(){Mt.current!==wt&&Ct(Mt.current)}),J(function(){if(wt&&!It.current){It.current=!0;var Nt=wt.getBoundingClientRect(),Ht=Nt.height,sn=Nt.width;Et({rect:{height:Ht,width:sn}})}},[wt]),$.useEffect(function(){if(wt){var Nt=new ResizeObserver(function(Ht,sn){Ht.forEach(function(rn){if(rn.target===wt){var Cn=rn.contentRect,Mn=Cn.height,jt=Cn.width;Et({rect:{height:Mn,width:jt}})}})});return Nt.observe(wt),function(){Nt.unobserve(wt)}}},[wt]),Pt}({elementRef:Ie}),Rt=$.useRef({scrollOffset:ti,measurements:[]});Rt.current.scrollOffset=Bt;var yt=$.useMemo(function(){return Array(Me).fill(-1)},[]),Ft=$.useState(yt),Tt=Ft[0],Kt=Ft[1],Xt=$.useMemo(function(){var $t=new IntersectionObserver(function(Mt){Mt.forEach(function(St){var wt=St.isIntersecting?St.intersectionRatio:-1,Ct=St.target.getAttribute(ni);if(Ct){var It=parseInt(Ct,10);0<=It&&It<Me&&Kt(function(Ot){return Ot[It]=wt,function(Pt,Et,Nt){for(var Ht,sn=0,rn=Et.length;sn<rn;sn++)!Ht&&sn in Et||(Ht||(Ht=Array.prototype.slice.call(Et,0,sn)),Ht[sn]=Et[sn]);return Pt.concat(Ht||Array.prototype.slice.call(Et))}([],Ot)})}})},{threshold:ga});return $t},[]),Yt=$.useMemo(function(){return ze===A.ScrollMode.Page&&$e===A.ViewMode.SinglePage?function($t,Mt,St){for(var wt=[],Ct=0;Ct<$t;Ct++){var It={height:Math.max(Mt.height,St[Ct].height),width:Math.max(Mt.width,St[Ct].width)},Ot=Ct===0?pa:wt[Ct-1].end,Pt={left:Ot.left+It.width,top:Ot.top+It.height};wt[Ct]={index:Ct,start:Ot,size:It,end:Pt,visibility:-1}}return wt}(Me,xt,Xe):$e===A.ViewMode.DualPageWithCover?function($t,Mt,St,wt){for(var Ct=[],It=0,Ot=0,Pt=Er,Et=0;Et<$t;Et++){var Nt=Et===0?{height:wt===A.ScrollMode.Page?Math.max(Mt.height,St[Et].height):St[Et].height,width:wt===A.ScrollMode.Page?Math.max(Mt.width,St[Et].width):St[Et].width}:{height:wt===A.ScrollMode.Page?Math.max(Mt.height,St[Et].height):St[Et].height,width:Math.max(Mt.width/2,St[Et].width)};wt===A.ScrollMode.Page?Pt=Et===0?Er:{left:Et%2==0?Nt.width:0,top:Math.floor((Et-1)/2)*Nt.height+Ct[0].end.top}:Et===0?(Pt=Er,It=St[0].height,Ot=0):Et%2==1?(Pt={left:0,top:It+=Ot},Ot=Et===$t-1?St[Et].height:Math.max(St[Et].height,St[Et+1].height)):Pt={left:Ct[Et-1].end.left,top:It};var Ht={left:Pt.left+Nt.width,top:Pt.top+Nt.height};Ct[Et]={index:Et,start:Pt,size:Nt,end:Ht,visibility:-1}}return Ct}(Me,xt,Xe,ze):$e===A.ViewMode.DualPage?function($t,Mt,St,wt){for(var Ct=[],It=0,Ot=0,Pt=fa,Et=0;Et<$t;Et++){var Nt={height:wt===A.ScrollMode.Page?Math.max(Mt.height,St[Et].height):St[Et].height,width:Math.max(Mt.width/2,St[Et].width)};wt===A.ScrollMode.Page?Pt={left:Et%2==0?0:Nt.width,top:Math.floor(Et/2)*Nt.height}:Et%2==0?(Pt={left:0,top:It+=Ot},Ot=Et===$t-1?St[Et].height:Math.max(St[Et].height,St[Et+1].height)):Pt={left:Ct[Et-1].end.left,top:It};var Ht={left:Pt.left+Nt.width,top:Pt.top+Nt.height};Ct[Et]={index:Et,start:Pt,size:Nt,end:Ht,visibility:-1}}return Ct}(Me,xt,Xe,ze):function($t,Mt,St,wt){for(var Ct=[],It=0,Ot={left:0,top:0},Pt=0,Et=ha,Nt=0;Nt<$t;Nt++){var Ht=St[Nt];if(Nt===0)It=Ht.width,Ot={left:0,top:0},Pt=Ht.height;else switch(wt){case A.ScrollMode.Wrapped:(It+=Ht.width)<Mt.width?(Et={left:Ct[Nt-1].end.left,top:Ot.top},Pt=Math.max(Pt,Ht.height)):(It=Ht.width,Ot={left:(Et={left:Ot.left,top:Ot.top+Pt}).left,top:Et.top},Pt=Ht.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Et=Ct[Nt-1].end}var sn={left:Et.left+Ht.width,top:Et.top+Ht.height};Ct[Nt]={index:Nt,start:Et,size:Ht,end:sn,visibility:-1}}return Ct}(Me,xt,Xe,ze)},[ze,Xe,$e,xt]),Jt=Yt[Me-1]?{height:Yt[Me-1].end.top,width:Yt[Me-1].end.left}:ma;Rt.current.measurements=Yt;var en=$.useMemo(function(){var $t=function(Nt,Ht,sn,rn){var Cn=0;switch(Nt){case zt.Horizontal:Cn=rn.left;break;case zt.Vertical:default:Cn=rn.top}var Mn=Ht.length-1,jt=function(nn,Nn,Jn,hr){for(;nn<=Nn;){var qn=(nn+Nn)/2|0,or=hr(qn);if(or<Jn)nn=qn+1;else{if(!(or>Jn))return qn;Nn=qn-1}}return nn>0?nn-1:0}(0,Mn,Cn,function(nn){switch(Nt){case zt.Horizontal:return Ht[nn].start.left;case zt.Both:case zt.Vertical:default:return Ht[nn].start.top}});if(Nt===zt.Both)for(var An=Ht[jt].start.top;jt-1>=0&&Ht[jt-1].start.top===An&&Ht[jt-1].start.left>=rn.left;)jt--;for(var cn=jt;cn<=Mn;){var un={top:Ht[cn].start.top-rn.top,left:Ht[cn].start.left-rn.left},_n={height:sn.height-un.top,width:sn.width-un.left};if(Nt===zt.Horizontal&&_n.width<0||Nt===zt.Vertical&&_n.height<0||Nt===zt.Both&&(_n.width<0||_n.height<0))break;cn++}return{start:jt,end:cn}}(ht,Yt,xt,Bt),Mt=$t.start,St=$t.end,wt=Tt.slice(ar(0,Me,Mt),ar(0,Me,St)),Ct=Mt+wt.reduce(function(Nt,Ht,sn,rn){return Ht>rn[Nt]?sn:Nt},0),It=Ct=ar(0,Me-1,Ct),Ot=Oe({endPage:St,numPages:Me,startPage:Mt}),Pt=Ot.startPage,Et=Ot.endPage;switch(Pt=Math.max(Pt,0),Et=Math.min(Et,Me-1),$e){case A.ViewMode.DualPageWithCover:Ct>0&&(It=Ct%2==1?Ct:Ct-1),Pt=Pt===0?0:Pt%2==1?Pt:Pt-1,Me-(Et=Et%2==1?Et-1:Et)<=2&&(Et=Me-1);break;case A.ViewMode.DualPage:It=Ct%2==0?Ct:Ct-1,Pt=Pt%2==0?Pt:Pt-1,Et=Et%2==1?Et:Et-1;break;case A.ViewMode.SinglePage:default:It=Ct}return{startPage:Pt,endPage:Et,maxVisbilityIndex:It}},[Yt,xt,Bt,$e,Tt]),vn=en.startPage,ln=en.endPage,bn=en.maxVisbilityIndex,hn=$.useMemo(function(){for(var $t=[],Mt=function(wt){var Ct=Yt[wt],It=ie(ie({},Ct),{visibility:Tt[wt]!==void 0?Tt[wt]:-1,measureRef:function(Ot){Ot&&(Ot.setAttribute(ni,"".concat(wt)),Xt.observe(Ot))}});$t.push(It)},St=vn;St<=ln;St++)Mt(St);return $t},[vn,ln,Tt,Yt]),pn=$.useCallback(function($t,Mt){var St=Rt.current.measurements[ar(0,Me-1,$t)],wt=it.current===A.ScrollMode.Page?ti:Mt;return St?kt({left:wt.left+St.start.left,top:wt.top+St.start.top},he):Promise.resolve()},[kt,he]),mn=$.useCallback(function($t,Mt){var St=Rt.current.measurements,wt=St[$t].start,Ct=St.find(function(Ot){return Ot.start.top-wt.top>1e-12});if(!Ct)return Promise.resolve();var It=Ct.index;switch(mt.current){case A.ViewMode.DualPage:It=It%2==0?It:It+1;break;case A.ViewMode.DualPageWithCover:It=It%2==1?It:It+1}return pn(It,Mt)},[]),fn=$.useCallback(function($t,Mt){for(var St=Rt.current.measurements,wt=St[$t].start,Ct=$t,It=!1,Ot=Me-1;Ot>=0;Ot--)if(wt.top-St[Ot].start.top>1e-12){It=!0,Ct=St[Ot].index;break}if(!It)return Promise.resolve();switch(mt.current){case A.ViewMode.DualPage:Ct=Ct%2==0?Ct:Ct-1;break;case A.ViewMode.DualPageWithCover:Ct=Ct%2==0?Ct-1:Ct}return Ct===$t&&(Ct=$t-1),pn(Ct,Mt)},[]),wn=$.useCallback(function($t,Mt){if(mt.current===A.ViewMode.DualPageWithCover||mt.current===A.ViewMode.DualPage)return mn($t,Mt);switch(it.current){case A.ScrollMode.Wrapped:return mn($t,Mt);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return pn($t+1,Mt)}},[]),In=$.useCallback(function($t,Mt){if(mt.current===A.ViewMode.DualPageWithCover||mt.current===A.ViewMode.DualPage)return fn($t,Mt);switch(it.current){case A.ScrollMode.Wrapped:return fn($t,Mt);case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:return pn($t-1,Mt)}},[]),Rn=$.useCallback(function(){return function($t,Mt){switch(Mt){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat($t.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat($t.height,"px"),width:"100%"}}}(Jt,it.current)},[Jt]),Sn=$.useCallback(function($t){return function(Mt,St,wt){return wt!==A.ScrollMode.Page?{}:{height:"".concat(St.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Mt.start.top,"px)")}}($t,xt,it.current)},[xt]),xn=$.useCallback(function($t){return function(Mt,St,wt,Ct,It){var Ot,Pt,Et,Nt,Ht,sn,rn,Cn=St?"right":"left",Mn=St?-1:1,jt=wt.length,An=Mt.start.left*Mn,cn=Mt.size,un=cn.height,_n=cn.width;if(Ct===A.ViewMode.DualPageWithCover){var nn=It===A.ScrollMode.Page?0:Mt.start.top;return Mt.index===0||jt%2==0&&Mt.index===jt-1?((Ot={height:"".concat(un,"px"),minWidth:"".concat(da(wt,Ct),"px"),width:"100%"})[Cn]=0,Ot.position="absolute",Ot.top=0,Ot.transform="translate(".concat(An,"px, ").concat(nn,"px)"),Ot):((Pt={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,Pt.position="absolute",Pt.top=0,Pt.transform="translate(".concat(An,"px, ").concat(nn,"px)"),Pt)}if(Ct===A.ViewMode.DualPage)return(Et={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,Et.position="absolute",Et.top=0,Et.transform="translate(".concat(An,"px, ").concat(It===A.ScrollMode.Page?0:Mt.start.top,"px)"),Et;switch(It){case A.ScrollMode.Horizontal:return(Nt={height:"100%",width:"".concat(_n,"px")})[Cn]=0,Nt.position="absolute",Nt.top=0,Nt.transform="translateX(".concat(An,"px)"),Nt;case A.ScrollMode.Page:return(Ht={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,Ht.position="absolute",Ht.top=0,Ht;case A.ScrollMode.Wrapped:return(sn={height:"".concat(un,"px"),width:"".concat(_n,"px")})[Cn]=0,sn.position="absolute",sn.top=0,sn.transform="translate(".concat(An,"px, ").concat(Mt.start.top,"px)"),sn;case A.ScrollMode.Vertical:default:return(rn={height:"".concat(un,"px"),width:"100%"})[Cn]=0,rn.position="absolute",rn.top=0,rn.transform="translateY(".concat(Mt.start.top,"px)"),rn}}($t,we,Xe,mt.current,it.current)},[we,Xe]),Ln=$.useCallback(function($t,Mt){var St=Rt.current,wt=St.measurements,Ct=St.scrollOffset,It=wt[ar(0,Me-1,Mt)];if(It){var Ot=it.current===A.ScrollMode.Page?{left:It.start.left,top:It.start.top}:{left:Ct.left*$t,top:Ct.top*$t};return kt(Ot,!1)}return Promise.resolve()},[]);return $.useEffect(function(){return function(){Xt.disconnect()}},[]),{boundingClientRect:xt,isSmoothScrolling:Ve,startPage:vn,endPage:ln,maxVisbilityIndex:bn,virtualItems:hn,getContainerStyles:Rn,getItemContainerStyles:Sn,getItemStyles:xn,scrollToItem:pn,scrollToNextItem:wn,scrollToPreviousItem:In,zoom:Ln}},yr=function(X,he,we,Me,Ie,Oe){var Xe=we;switch(!0){case(Ie===A.ViewMode.DualPageWithCover&&Oe>=3):case(Ie===A.ViewMode.DualPage&&Oe>=3):Xe=2*we;break;default:Xe=we}switch(Me){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((X.clientWidth-17)/Xe,(X.clientHeight-16)/he);case A.SpecialZoomLevel.PageWidth:return(X.clientWidth-17)/Xe}},ba=function(X){var he,we,Me=X.getCurrentPage,Ie=(he=50,we=$.useRef([]),$.useEffect(function(){return function(){we.current=[]}},[]),{push:function(Ue){var Ve=we.current;Ve.length+1>he&&Ve.shift(),Ve.push(Ue),we.current=Ve},map:function(Ue){return we.current.map(function(Ve){return Ue(Ve)})},pop:function(){var Ue=we.current;if(Ue.length===0)return null;var Ve=Ue.pop();return we.current=Ue,Ve}}),Oe=function(Ue){var Ve=$.useRef([]);return $.useEffect(function(){return function(){Ve.current=[]}},[]),{dequeue:function(){var st=Ve.current;if(st.length===0)return null;var ot=st.shift();return Ve.current=st,ot||null},enqueue:function(st){var ot=Ve.current;ot.length+1>Ue&&ot.pop(),Ve.current=[st].concat(ot)},map:function(st){return Ve.current.map(function(ot){return st(ot)})}}}(50),Xe=function(){var Ue=Oe.dequeue();return Ue&&Ie.push(Ue),Ue&&Ue.pageIndex===Me()?Xe():Ue},ze=function(){var Ue=Ie.pop();return Ue&&Oe.enqueue(Ue),Ue&&Ue.pageIndex===Me()?ze():Ue},$e=$.useCallback(function(Ue){Ie.push(Ue)},[]);return{getNextDestination:Xe,getPreviousDestination:ze,markVisitedDestination:$e}},ri=function(X){var he=[];return X.map(function(we){he=he.concat(we).concat(function(Me){var Ie=[];return Me.items&&Me.items.length>0&&(Ie=Ie.concat(ri(Me.items))),Ie}(we))}),he},ii={capture:!1,passive:!0},_a={height:0,width:0},Sr={height:0,width:0},Ea=function(X){var he=X.getCurrentPage,we=X.getCurrentScrollMode,Me=X.jumpToPage,Ie=X.targetRef,Oe=$.useState(A.FullScreenMode.Normal),Xe=Oe[0],ze=Oe[1],$e=function(){var Tt=$.useState(_a),Kt=Tt[0],Xt=Tt[1],Yt=Ye(function(){Xt({height:window.innerHeight,width:window.innerWidth})},100);return J(function(){return window.addEventListener("resize",Yt,ii),function(){window.removeEventListener("resize",Yt,ii)}},[]),Kt}(),Ue=$.useState(Sr),Ve=Ue[0],st=Ue[1],ot=$.useRef(Sr),it=$.useRef(he()),mt=$.useRef(Sr),ht=$.useState(Ie.current),dt=ht[0],Bt=ht[1],kt=$.useRef();J(function(){Ie.current!==dt&&Bt(Ie.current)},[]),J(function(){if(dt){var Tt=new ResizeObserver(function(Kt){Kt.forEach(function(Xt){var Yt=Xt.target.getBoundingClientRect(),Jt=Yt.height,en=Yt.width;st({height:Jt,width:en})})});return Tt.observe(dt),function(){Tt.unobserve(dt),Tt.disconnect()}}},[dt]);var xt=$.useCallback(function(Tt){var Kt=ft();return Kt&&Kt!==Tt?(ze(A.FullScreenMode.Normal),Ke(Kt)):Promise.resolve()},[]),Rt=$.useCallback(function(Tt){Tt&&Te()&&(Bt(Tt),xt(Tt).then(function(){kt.current=Tt,ze(A.FullScreenMode.Entering),function(Kt){ge&&Kt[Ee.RequestFullScreen]()}(Tt)}))},[]),yt=$.useCallback(function(){ft()&&(ze(A.FullScreenMode.Exitting),Ke(document))},[]),Ft=$.useCallback(function(){dt&&ft()!==dt&&ze(A.FullScreenMode.Exitting)},[dt]);return $.useEffect(function(){switch(Xe){case A.FullScreenMode.Entering:kt.current&&(kt.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),it.current=he(),ot.current={height:window.innerHeight,width:window.innerWidth};break;case A.FullScreenMode.Entered:we()===A.ScrollMode.Page?Me(it.current).then(function(){ze(A.FullScreenMode.EnteredCompletely)}):ze(A.FullScreenMode.EnteredCompletely);break;case A.FullScreenMode.Exitting:kt.current&&(kt.current.style.backgroundColor="",kt.current=null),it.current=he();break;case A.FullScreenMode.Exited:ze(A.FullScreenMode.Normal),we()===A.ScrollMode.Page&&Me(it.current)}},[Xe]),$.useEffect(function(){if(Xe!==A.FullScreenMode.Normal)return Xe===A.FullScreenMode.Entering&&$e.height===Ve.height&&$e.width===Ve.width&&$e.height>0&&$e.width>0&&(mt.current.height===0||$e.height==mt.current.height)?(mt.current={height:window.innerHeight,width:window.innerWidth},void ze(A.FullScreenMode.Entered)):void(Xe===A.FullScreenMode.Exitting&&ot.current.height===$e.height&&ot.current.width===$e.width&&$e.height>0&&$e.width>0&&ze(A.FullScreenMode.Exited))},[Xe,$e,Ve]),$.useEffect(function(){var Tt;return Tt=Ft,ge&&document.addEventListener(Ee.FullScreenChange,Tt),function(){(function(Kt){ge&&document.removeEventListener(Ee.FullScreenChange,Kt)})(Ft)}},[dt]),{enterFullScreenMode:Rt,exitFullScreenMode:yt,fullScreenMode:Xe}},ya={buildPageStyles:function(){return{}},transformSize:function(X){return X.size}},Zn={left:0,top:0},Sa=function(X){var he=X.currentFile,we=X.defaultScale,Me=X.doc,Ie=X.enableSmoothScroll,Oe=X.initialPage,Xe=X.initialRotation,ze=X.initialScale,$e=X.pageLayout,Ue=X.pageSizes,Ve=X.plugins,st=X.renderPage,ot=X.scrollMode,it=X.setRenderRange,mt=X.viewMode,ht=X.viewerState,dt=X.onDocumentLoad,Bt=X.onOpenFile,kt=X.onPageChange,xt=X.onRotate,Rt=X.onRotatePage,yt=X.onZoom,Ft=Me.numPages,Tt=Me.loadingTask.docId,Kt=$.useContext(Pe).l10n,Xt=$.useContext(ce),Yt=Xt.direction===A.TextDirection.RightToLeft,Jt=$.useRef(),en=$.useRef(),vn=$.useState(Oe),ln=vn[0],bn=vn[1],hn=$.useRef(null),pn=ba({getCurrentPage:function(){return jt.current.pageIndex}}),mn=$.useState(Xe),fn=mn[0],wn=mn[1],In=qe(fn),Rn=$.useState(!1),Sn=Rn[0],xn=Rn[1],Ln=$.useState(new Map),$t=Ln[0],Mt=Ln[1],St=$.useState(ot),wt=St[0],Ct=St[1],It=qe(wt),Ot=$.useState(mt),Pt=Ot[0],Et=Ot[1],Nt=qe(Pt),Ht=function(ut){var Dt=et(),Wt=$.useState([]),tn=Wt[0],Qt=Wt[1];return $.useEffect(function(){ut.getOutline().then(function(qt){if(Dt.current&&qt!==null){var En=ri(qt);Qt(En)}})},[]),tn}(Me),sn=$.useState(ze),rn=sn[0],Cn=sn[1],Mn=qe(rn),jt=$.useRef(ht),An=$.useRef(typeof we=="string"?we:null),cn=$.useRef(-1),un=$.useRef(-1),_n=$.useRef(Oe),nn=Ea({getCurrentPage:function(){return jt.current.pageIndex},getCurrentScrollMode:function(){return jt.current.scrollMode},jumpToPage:function(ut){return Bn(ut)},targetRef:en}),Nn=$.useState(-1),Jn=Nn[0],hr=Nn[1],qn=$.useState(0),or=qn[0],xa=qn[1],Tn=Qe({doc:Me});$.useEffect(function(){return function(){vt.clear(),At.clear()}},[Tt]);var ci=$.useMemo(function(){return Object.assign({},ya,$e)},[]),Ma=$.useMemo(function(){return Array(Ft).fill(0).map(function(ut,Dt){var Wt=[Ue[Dt].pageHeight,Ue[Dt].pageWidth],tn=Math.abs(fn)%180==0?{height:Wt[0],width:Wt[1]}:{height:Wt[1],width:Wt[0]},Qt={height:tn.height*rn,width:tn.width*rn};return ci.transformSize({numPages:Ft,pageIndex:Dt,size:Qt})})},[fn,rn]),an=va({enableSmoothScroll:Ie,isRtl:Yt,numberOfItems:Ft,parentRef:en,scrollMode:wt,setRenderRange:it,sizes:Ma,viewMode:Pt}),Ta=Ye(function(){!An.current||jt.current.fullScreenMode!==A.FullScreenMode.Normal||Oe>0&&_n.current===Oe||Gn(An.current)},200);(function(ut){var Dt=ut.targetRef,Wt=ut.onResize;J(function(){var tn=new ResizeObserver(function(qt){qt.forEach(function(En){Wt(En.target)})}),Qt=Dt.current;if(Qt)return tn.observe(Qt),function(){tn.unobserve(Qt)}},[])})({targetRef:en,onResize:Ta});var jn=function(ut){var Dt=ut;Ve.forEach(function(Wt){Wt.onViewerStateChange&&(Dt=Wt.onViewerStateChange(Dt))}),jt.current=Dt},$a=function(){return en.current},Ra=function(){return jt.current},Fa=$.useCallback(function(ut){pn.markVisitedDestination(ut)},[]),wr=$.useCallback(function(ut){var Dt=ut.pageIndex,Wt=ut.bottomOffset,tn=ut.leftOffset,Qt=ut.scaleTo,qt=en.current,En=jt.current;return qt&&En?new Promise(function(zn,$r){at(Me,Dt).then(function(fr){var Hn=fr.getViewport({scale:1}),pr=0,gi=(typeof Wt=="function"?Wt(Hn.width,Hn.height):Wt)||0,mr=(typeof tn=="function"?tn(Hn.width,Hn.height):tn)||0,Qn=En.scale;switch(Qt){case A.SpecialZoomLevel.PageFit:pr=0,mr=0,Gn(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:Qn=yr(qt,Ue[Dt].pageHeight,Ue[Dt].pageWidth,A.SpecialZoomLevel.PageWidth,mt,Ft),pr=(Hn.height-gi)*Qn,mr*=Qn,Gn(Qn);break;default:pr=(Hn.height-gi)*Qn,mr*=Qn}switch(En.scrollMode){case A.ScrollMode.Horizontal:an.scrollToItem(Dt,{left:mr,top:0}).then(function(){zn()});break;case A.ScrollMode.Vertical:default:an.scrollToItem(Dt,{left:0,top:pr}).then(function(){zn()})}})}):Promise.resolve()},[]),li=$.useCallback(function(ut){return pn.markVisitedDestination(ut),wr(ut)},[]),Ia=$.useCallback(function(){var ut=pn.getNextDestination();return ut?wr(ut):Promise.resolve()},[]),Oa=$.useCallback(function(){var ut=pn.getPreviousDestination();return ut?wr(ut):Promise.resolve()},[]),La=$.useCallback(function(){return an.scrollToNextItem(jt.current.pageIndex,Zn)},[]),Bn=$.useCallback(function(ut){return 0<=ut&&ut<Ft?an.scrollToItem(ut,Zn):Promise.resolve()},[]),Da=$.useCallback(function(){return an.scrollToPreviousItem(jt.current.pageIndex,Zn)},[]),ui=$.useCallback(function(ut){var Dt,Wt;(Dt=ut.name,Wt=Dt.split(/\./).pop(),Wt?Wt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(tn){var Qt=new FileReader;Qt.readAsArrayBuffer(ut),Qt.onload=function(){var qt=new Uint8Array(Qt.result);tn(qt)}}).then(function(tn){Bt(ut.name,tn)})},[Bt]),di=$.useCallback(function(ut){var Dt=ut===A.RotateDirection.Backward?-90:90,Wt=jt.current.rotation,tn=Wt===360||Wt===-360?Dt:Wt+Dt;Tn.markNotRendered(),wn(tn),jn(ie(ie({},jt.current),{rotation:tn})),xt({direction:ut,doc:Me,rotation:tn})},[]),Pr=$.useCallback(function(ut,Dt){var Wt=Dt===A.RotateDirection.Backward?-90:90,tn=jt.current.pagesRotation,Qt=(tn.has(ut)?tn.get(ut):Xe)+Wt,qt=tn.set(ut,Qt);Mt(qt),xn(function(En){return!En}),jn(ie(ie({},jt.current),{pagesRotation:qt,rotatedPage:ut})),Rt({direction:Dt,doc:Me,pageIndex:ut,rotation:Qt}),Tn.markRendering(ut),hr(ut)},[]),hi=$.useCallback(function(ut){jn(ie(ie({},jt.current),{scrollMode:ut})),Ct(ut)},[]),fi=$.useCallback(function(ut){jn(ie(ie({},jt.current),{viewMode:ut})),Et(ut)},[]),Gn=$.useCallback(function(ut){var Dt=en.current,Wt=jt.current.pageIndex;if(!(Wt<0||Wt>=Ft)){var tn=Ue[Wt].pageHeight,Qt=Ue[Wt].pageWidth,qt=Dt?typeof ut=="string"?yr(Dt,tn,Qt,ut,jt.current.viewMode,Ft):ut:1;An.current=typeof ut=="string"?ut:null,qt!==jt.current.scale&&(xa(function(En){return En+1}),Tn.markNotRendered(),Cn(qt),yt({doc:Me,scale:qt}),jn(ie(ie({},jt.current),{scale:qt})))}},[]),Na=$.useCallback(function(ut){nn.enterFullScreenMode(ut)},[]),ja=$.useCallback(function(){nn.exitFullScreenMode()},[]);$.useEffect(function(){jn(ie(ie({},jt.current),{fullScreenMode:nn.fullScreenMode}))},[nn.fullScreenMode]),$.useEffect(function(){var ut={enterFullScreenMode:Na,exitFullScreenMode:ja,getPagesContainer:$a,getViewerState:Ra,jumpToDestination:li,jumpToNextDestination:Ia,jumpToPreviousDestination:Oa,jumpToNextPage:La,jumpToPreviousPage:Da,jumpToPage:Bn,openFile:ui,rotate:di,rotatePage:Pr,setViewerState:jn,switchScrollMode:hi,switchViewMode:fi,zoom:Gn};return Ve.forEach(function(Dt){Dt.install&&Dt.install(ut)}),function(){Ve.forEach(function(Dt){Dt.uninstall&&Dt.uninstall(ut)})}},[Tt]),$.useEffect(function(){dt({doc:Me,file:he}),Ve.forEach(function(ut){ut.onDocumentLoad&&ut.onDocumentLoad({doc:Me,file:he})})},[Tt]);var kr,xr,Mr,pi=an.boundingClientRect;kr=function(){Oe&&Bn(Oe)},xr=pi.height>0&&pi.width>0,Mr=$.useRef(!1),J(function(){xr&&!Mr.current&&(Mr.current=!0,kr())},[kr,xr]),J(function(){var ut=jt.current.pageIndex;ut>-1&&It!==wt&&an.scrollToItem(ut,Zn).then(function(){nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(Ie||Tn.markNotRendered(),cn.current=-1)})},[wt]),J(function(){var ut=jt.current.pageIndex;ut>-1&&In!==fn&&an.scrollToItem(ut,Zn)},[fn]),J(function(){Mn!=0&&Mn!=jt.current.scale&&an.zoom(jt.current.scale/Mn,jt.current.pageIndex).then(function(){nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&(un.current=-1)})},[rn]),J(function(){if(Nt!==jt.current.viewMode){var ut=an.startPage,Dt=an.endPage,Wt=an.virtualItems;Tn.markNotRendered(),Tn.setRange(ut,Dt);for(var tn=function(qt){var En=Wt.find(function(zn){return zn.index===qt});En&&Tn.setVisibility(qt,En.visibility)},Qt=ut;Qt<=Dt;Qt++)tn(Qt);Tr()}},[Pt]),J(function(){var ut=jt.current.pageIndex;ut>-1&&Nt!==Pt&&an.scrollToItem(ut,Zn)},[Pt]),J(function(){var ut=jt.current.pageIndex;ut>0&&ut===Oe&&_n.current===Oe&&An.current&&(_n.current=-1,Gn(An.current))},[ln]),$.useEffect(function(){an.isSmoothScrolling||hn.current!==null&&hn.current===ln||(hn.current=ln,kt({currentPage:ln,doc:Me}))},[ln,an.isSmoothScrolling]),$.useEffect(function(){nn.fullScreenMode===A.FullScreenMode.Entering&&jt.current.scrollMode===A.ScrollMode.Page&&(cn.current=jt.current.pageIndex),nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&jt.current.scrollMode===A.ScrollMode.Page&&Ie&&(cn.current=-1),nn.fullScreenMode===A.FullScreenMode.EnteredCompletely&&An.current&&(un.current=jt.current.pageIndex,Gn(An.current))},[nn.fullScreenMode]),$.useEffect(function(){if(nn.fullScreenMode!==A.FullScreenMode.Entering&&nn.fullScreenMode!==A.FullScreenMode.Exitting&&!an.isSmoothScrolling){var ut=an.startPage,Dt=an.endPage,Wt=an.maxVisbilityIndex,tn=an.virtualItems,Qt=Wt,qt=nn.fullScreenMode===A.FullScreenMode.Entered||nn.fullScreenMode===A.FullScreenMode.EnteredCompletely;if(!(qt&&Qt!==cn.current&&cn.current>-1||qt&&Qt!==un.current&&un.current>-1)){bn(Qt),jn(ie(ie({},jt.current),{pageIndex:Qt})),Tn.setRange(ut,Dt);for(var En=function($r){var fr=tn.find(function(Hn){return Hn.index===$r});fr&&Tn.setVisibility($r,fr.visibility)},zn=ut;zn<=Dt;zn++)En(zn);Tr()}}},[an.startPage,an.endPage,an.isSmoothScrolling,an.maxVisbilityIndex,nn.fullScreenMode,Sn,fn,rn]);var Ba=$.useCallback(function(ut){Tn.markRendered(ut),Tr()},[or]),Tr=function(){var ut=Tn.getHighestPriorityPage();ut>-1&&Tn.isInRange(ut)&&(Tn.markRendering(ut),hr(ut))},za=function(ut){var Dt=ln-1,Wt=ln+1;switch(ut){case"FirstPage":Bn(0);break;case"LastPage":Bn(Ft-1);break;case"NextPage":Wt<Ft&&Bn(Wt);break;case"PrevPage":Dt>=0&&Bn(Dt)}},Ha=$.useCallback(function(){var ut=an.virtualItems,Dt=[];switch(Pt){case A.ViewMode.DualPage:Dt=ct(ut,2);break;case A.ViewMode.DualPageWithCover:ut.length&&(Dt=ut[0].index===0?[[ut[0]]].concat(ct(ut.slice(1),2)):ct(ut,2));break;case A.ViewMode.SinglePage:default:Dt=ct(ut,1)}var Wt=Kt&&Kt.core?Kt.core.pageLabel:"Page {{pageIndex}}",tn={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:Jt,style:{height:"100%"}},children:$.createElement($.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:ae({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":wt===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":Yt,"rpv-core__inner-pages--single":wt===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":wt===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":wt===A.ScrollMode.Wrapped}),ref:en,style:{height:"100%",position:"relative"}},children:$.createElement("div",{"data-testid":"core__inner-current-page-".concat(ln),style:Object.assign({"--scale-factor":rn},an.getContainerStyles())},Dt.map(function(Qt){return $.createElement("div",{className:ae({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":wt===A.ScrollMode.Page}),style:an.getItemContainerStyles(Qt[0]),key:"".concat(Qt[0].index,"-").concat(Pt)},Qt.map(function(qt){var En=Pt===A.ViewMode.DualPageWithCover&&(qt.index===0||Ft%2==0&&qt.index===Ft-1);return $.createElement("div",{"aria-label":Wt.replace("{{pageIndex}}","".concat(qt.index+1)),className:ae({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Pt===A.ViewMode.DualPage&&qt.index%2==0,"rpv-core__inner-page--dual-odd":Pt===A.ViewMode.DualPage&&qt.index%2==1,"rpv-core__inner-page--dual-cover":En,"rpv-core__inner-page--dual-cover-even":Pt===A.ViewMode.DualPageWithCover&&!En&&qt.index%2==0,"rpv-core__inner-page--dual-cover-odd":Pt===A.ViewMode.DualPageWithCover&&!En&&qt.index%2==1,"rpv-core__inner-page--single":Pt===A.ViewMode.SinglePage&&wt===A.ScrollMode.Page}),role:"region",key:"".concat(qt.index,"-").concat(Pt),style:Object.assign({},an.getItemStyles(qt),ci.buildPageStyles({numPages:Ft,pageIndex:qt.index,scrollMode:wt,viewMode:Pt}))},$.createElement(sa,{doc:Me,measureRef:qt.measureRef,outlines:Ht,pageIndex:qt.index,pageRotation:$t.has(qt.index)?$t.get(qt.index):0,pageSize:Ue[qt.index],plugins:Ve,renderPage:st,renderQueueKey:or,rotation:fn,scale:rn,shouldRender:Jn===qt.index,viewMode:Pt,onExecuteNamedAction:za,onJumpFromLinkAnnotation:Fa,onJumpToDest:li,onRenderCompleted:Ba,onRotatePage:Pr}))}))}))}};return Ve.forEach(function(Qt){Qt.renderViewer&&(tn=Qt.renderViewer({containerRef:Jt,doc:Me,pagesContainerRef:en,pagesRotation:$t,pageSizes:Ue,rotation:fn,slot:tn,themeContext:Xt,jumpToPage:Bn,openFile:ui,rotate:di,rotatePage:Pr,switchScrollMode:hi,switchViewMode:fi,zoom:Gn}))}),tn},[Ve,an]),mi=$.useCallback(function(ut){return $.createElement("div",ie({},ut.attrs,{style:ut.attrs&&ut.attrs.style?ut.attrs.style:{}}),ut.children,ut.subSlot&&mi(ut.subSlot))},[]);return mi(Ha())},ai=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Ca=function(X){var he=X.defaultScale,we=X.doc,Me=X.render,Ie=X.scrollMode,Oe=X.viewMode,Xe=$.useRef(),ze=$.useState({pageSizes:[],scale:0}),$e=ze[0],Ue=ze[1];return $.useLayoutEffect(function(){var Ve=Array(we.numPages).fill(0).map(function(st,ot){return new Promise(function(it,mt){at(we,ot).then(function(ht){var dt=ht.getViewport({scale:1});it({pageHeight:dt.height,pageWidth:dt.width,rotation:dt.rotation})})})});Promise.all(Ve).then(function(st){var ot=Xe.current;if(ot&&st.length!==0){var it=st[0].pageWidth,mt=st[0].pageHeight,ht=ot.parentElement,dt=(ht.clientWidth-45)/it,Bt=(ht.clientHeight-45)/mt,kt=dt;switch(Ie){case A.ScrollMode.Horizontal:kt=Math.min(dt,Bt);break;case A.ScrollMode.Vertical:default:kt=dt}var xt,Rt,yt=he?typeof he=="string"?yr(ht,mt,it,he,Oe,we.numPages):he:(xt=kt,(Rt=ai.findIndex(function(Ft){return Ft>=xt}))===-1||Rt===0?xt:ai[Rt-1]);Ue({pageSizes:st,scale:yt})}})},[we.loadingTask.docId]),$e.pageSizes.length===0||$e.scale===0?$.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Xe},$.createElement(q,null)):Me($e.pageSizes,$e.scale)},dr=function(){},Cr=function(X){function he(we,Me){var Ie=X.call(this)||this;return Ie.verifyPassword=we,Ie.passwordStatus=Me,Ie}return ve(he,X),he}(dr),Aa=function(X){var he=X.passwordStatus,we=X.renderProtectedView,Me=X.verifyPassword,Ie=X.onDocumentAskPassword,Oe=$.useContext(Pe).l10n,Xe=$.useState(""),ze=Xe[0],$e=Xe[1],Ue=$.useContext(ce).direction===A.TextDirection.RightToLeft,Ve=function(){return Me(ze)};return $.useEffect(function(){Ie&&Ie({verifyPassword:Me})},[]),we?we({passwordStatus:he,verifyPassword:Me}):$.createElement("div",{className:"rpv-core__asking-password-wrapper"},$.createElement("div",{className:ae({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Ue})},$.createElement("div",{className:"rpv-core__asking-password-message"},he===A.PasswordStatus.RequiredPassword&&Oe.core.askingPassword.requirePasswordToOpen,he===A.PasswordStatus.WrongPassword&&Oe.core.wrongPassword.tryAgain),$.createElement("div",{className:"rpv-core__asking-password-body"},$.createElement("div",{className:ae({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Ue,"rpv-core__asking-password-input--rtl":Ue})},$.createElement(K,{testId:"core__asking-password-input",type:"password",value:ze,onChange:$e,onKeyDown:function(st){st.key==="Enter"&&Ve()}})),$.createElement(ne,{onClick:Ve},Oe.core.askingPassword.submit))))},oi=function(X){function he(we){var Me=X.call(this)||this;return Me.doc=we,Me}return ve(he,X),he}(dr),si=function(X){function he(we){var Me=X.call(this)||this;return Me.error=we,Me}return ve(he,X),he}(dr),Ar=function(X){function he(we){var Me=X.call(this)||this;return Me.percentages=we,Me}return ve(he,X),he}(dr),wa=function(X){var he=X.characterMap,we=X.file,Me=X.httpHeaders,Ie=X.render,Oe=X.renderError,Xe=X.renderLoader,ze=X.renderProtectedView,$e=X.transformGetDocumentParams,Ue=X.withCredentials,Ve=X.onDocumentAskPassword,st=$.useContext(ce).direction===A.TextDirection.RightToLeft,ot=$.useState(new Ar(0)),it=ot[0],mt=ot[1],ht=$.useRef(""),dt=et();return $.useEffect(function(){ht.current="",mt(new Ar(0));var Bt=new re.PDFWorker({name:"PDFWorker_".concat(Date.now())}),kt=Object.assign({httpHeaders:Me,withCredentials:Ue,worker:Bt},typeof we=="string"?{url:we}:{data:we},he?{cMapUrl:he.url,cMapPacked:he.isCompressed}:{}),xt=$e?$e(kt):kt,Rt=re.getDocument(xt);return Rt.onPassword=function(yt,Ft){switch(Ft){case re.PasswordResponses.NEED_PASSWORD:dt.current&&mt(new Cr(yt,A.PasswordStatus.RequiredPassword));break;case re.PasswordResponses.INCORRECT_PASSWORD:dt.current&&mt(new Cr(yt,A.PasswordStatus.WrongPassword))}},Rt.onProgress=function(yt){var Ft=yt.total>0?Math.min(100,100*yt.loaded/yt.total):100;dt.current&&ht.current===""&&mt(new Ar(Ft))},Rt.promise.then(function(yt){ht.current=yt.loadingTask.docId,dt.current&&mt(new oi(yt))},function(yt){return dt.current&&!Bt.destroyed&&mt(new si({message:yt.message||"Cannot load document",name:yt.name}))}),function(){Rt.destroy(),Bt.destroy()}},[we]),it instanceof Cr?$.createElement(Aa,{passwordStatus:it.passwordStatus,renderProtectedView:ze,verifyPassword:it.verifyPassword,onDocumentAskPassword:Ve}):it instanceof oi?Ie(it.doc):it instanceof si?Oe?Oe(it.error):$.createElement("div",{className:ae({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":st})},$.createElement("div",{className:"rpv-core__doc-error-text"},it.error.message)):$.createElement("div",{"data-testid":"core__doc-loading",className:ae({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":st})},Xe?Xe(it.percentages):$.createElement(q,null))},Pa=function(X,he){var we=$.useMemo(function(){return X==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":X},[]),Me=$.useState(we),Ie=Me[0],Oe=Me[1],Xe=qe(Ie);return $.useEffect(function(){if(X==="auto"){var ze=window.matchMedia("(prefers-color-scheme: dark)"),$e=function(Ue){Oe(Ue.matches?"dark":"light")};return ze.addEventListener("change",$e),function(){return ze.removeEventListener("change",$e)}}},[]),$.useEffect(function(){Ie!==Xe&&he&&he(Ie)},[Ie]),$.useEffect(function(){X!==Ie&&Oe(X)},[X]),{currentTheme:Ie,setCurrentTheme:Oe}},ka=function(X){return{startPage:X.startPage-3,endPage:X.endPage+3}};A.Button=function(X){var he=X.children,we=X.testId,Me=X.onClick,Ie=$.useContext(ce).direction===A.TextDirection.RightToLeft,Oe=we?{"data-testid":we}:{};return $.createElement("button",ie({className:ae({"rpv-core__button":!0,"rpv-core__button--rtl":Ie}),type:"button",onClick:Me},Oe),he)},A.Icon=U,A.LazyRender=function(X){var he=X.attrs,we=X.children,Me=X.testId,Ie=$.useState(!1),Oe=Ie[0],Xe=Ie[1],ze=Me?ie(ie({},he),{"data-testid":Me}):he,$e=Q({once:!0,onVisibilityChanged:function(Ue){Ue.isVisible&&Xe(!0)}});return $.createElement("div",ie({ref:$e},ze),Oe&&we)},A.LocalizationContext=Pe,A.Menu=function(X){var he=X.children,we=$.useRef(),Me=$.useRef([]),Ie=$.useContext(ce).direction===A.TextDirection.RightToLeft,Oe=function(ze){if(we.current)switch(ze.key){case"Tab":ze.preventDefault();break;case"ArrowDown":ze.preventDefault(),Xe(function($e,Ue){return Ue+1});break;case"ArrowUp":ze.preventDefault(),Xe(function($e,Ue){return Ue-1});break;case"End":ze.preventDefault(),Xe(function($e,Ue){return $e.length-1});break;case"Home":ze.preventDefault(),Xe(function($e,Ue){return 0})}},Xe=function(ze){if(we.current){var $e=Me.current,Ue=$e.findIndex(function(st){return st.getAttribute("tabindex")==="0"}),Ve=Math.min($e.length-1,Math.max(0,ze($e,Ue)));Ue>=0&&Ue<=$e.length-1&&$e[Ue].setAttribute("tabindex","-1"),$e[Ve].setAttribute("tabindex","0"),$e[Ve].focus()}};return J(function(){var ze=we.current;if(ze){var $e=function(Ue){var Ve=[];return Ue.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(st){if(st instanceof HTMLElement){var ot=st.parentElement;(ot===Ue||window.getComputedStyle(ot).display!=="none")&&Ve.push(st)}}),Ve}(ze);Me.current=$e}},[]),J(function(){return document.addEventListener("keydown",Oe),function(){document.removeEventListener("keydown",Oe)}},[]),$.createElement("div",{ref:we,"aria-orientation":"vertical",className:ae({"rpv-core__menu":!0,"rpv-core__menu--rtl":Ie}),role:"menu",tabIndex:0},he)},A.MenuDivider=function(){return $.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(X){var he=X.checked,we=he!==void 0&&he,Me=X.children,Ie=X.icon,Oe=Ie===void 0?null:Ie,Xe=X.isDisabled,ze=Xe!==void 0&&Xe,$e=X.testId,Ue=X.onClick,Ve=$.useContext(ce).direction===A.TextDirection.RightToLeft,st=$e?{"data-testid":$e}:{};return $.createElement("button",ie({className:ae({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":ze,"rpv-core__menu-item--ltr":!Ve,"rpv-core__menu-item--rtl":Ve}),role:"menuitem",tabIndex:-1,type:"button",onClick:Ue},st),$.createElement("div",{className:ae({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ve,"rpv-core__menu-item-icon--rtl":Ve})},Oe),$.createElement("div",{className:ae({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ve,"rpv-core__menu-item-label--rtl":Ve})},Me),$.createElement("div",{className:ae({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ve,"rpv-core__menu-item-check--rtl":Ve})},we&&$.createElement(Y,null)))},A.MinimalButton=function(X){var he=X.ariaLabel,we=he===void 0?"":he,Me=X.ariaKeyShortcuts,Ie=Me===void 0?"":Me,Oe=X.children,Xe=X.isDisabled,ze=Xe!==void 0&&Xe,$e=X.isSelected,Ue=$e!==void 0&&$e,Ve=X.testId,st=X.onClick,ot=$.useContext(ce).direction===A.TextDirection.RightToLeft,it=Ve?{"data-testid":Ve}:{};return $.createElement("button",ie({"aria-label":we},Ie&&{"aria-keyshortcuts":Ie},ze&&{"aria-disabled":!0},{className:ae({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":ze,"rpv-core__minimal-button--rtl":ot,"rpv-core__minimal-button--selected":Ue}),type:"button",onClick:st},it),Oe)},A.Modal=function(X){var he=X.ariaControlsSuffix,we=X.closeOnClickOutside,Me=X.closeOnEscape,Ie=X.content,Oe=X.isOpened,Xe=Oe!==void 0&&Oe,ze=X.target,$e=he||"".concat(te());return $.createElement(rt,{target:ze?function(Ue,Ve){return $.createElement("div",{"aria-expanded":Ve?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat($e)},ze(Ue,Ve))}:null,content:function(Ue){return $.createElement(Se,null,$.createElement(ke,{ariaControlsSuffix:$e,closeOnClickOutside:we,closeOnEscape:Me,onToggle:Ue},Ie(Ue)))},isOpened:Xe})},A.Popover=function(X){var he=X.ariaHasPopup,we=he===void 0?"dialog":he,Me=X.ariaControlsSuffix,Ie=X.closeOnClickOutside,Oe=X.closeOnEscape,Xe=X.content,ze=X.lockScroll,$e=ze===void 0||ze,Ue=X.offset,Ve=X.position,st=X.target,ot=Ze(!1),it=ot.opened,mt=ot.toggle,ht=$.useRef(),dt=$.useMemo(function(){return Me||"".concat(te())},[]);return $.createElement("div",{ref:ht,"aria-expanded":it?"true":"false","aria-haspopup":we,"aria-controls":"rpv-core__popver-body-".concat(dt)},st(mt,it),it&&$.createElement($.Fragment,null,$e&&$.createElement(De,{closeOnEscape:Oe,onClose:mt}),$.createElement(Ce,{ariaControlsSuffix:dt,closeOnClickOutside:Ie,offset:Ue,position:Ve,targetRef:ht,onClose:mt},Xe(mt))))},A.PrimaryButton=ne,A.ProgressBar=function(X){var he=X.progress,we=$.useContext(ce).direction===A.TextDirection.RightToLeft;return $.createElement("div",{className:ae({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":we})},$.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(he,"%")}},he,"%"))},A.Separator=function(){return $.createElement("div",{className:"rpv-core__separator"})},A.Spinner=q,A.Splitter=function(X){var he=X.constrain,we=$.useContext(ce).direction===A.TextDirection.RightToLeft,Me=$.useRef(),Ie=$.useRef(),Oe=$.useRef(),Xe=$.useRef(0),ze=$.useRef(0),$e=$.useRef(0),Ue=$.useRef(0),Ve={capture:!0},st=function(it){var mt=Me.current,ht=Ie.current,dt=Oe.current;if(mt&&ht&&dt){var Bt=Ue.current,kt=it.clientX-Xe.current,xt=$e.current+(we?-kt:kt),Rt=mt.parentElement.getBoundingClientRect().width,yt=100*xt/Rt;if(mt.classList.add("rpv-core__splitter--resizing"),he){var Ft=Rt-xt-Bt;if(!he({firstHalfPercentage:yt,firstHalfSize:xt,secondHalfPercentage:100*Ft/Rt,secondHalfSize:Ft}))return}ht.style.width="".concat(yt,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ht.classList.add("rpv-core__splitter-sibling--resizing"),dt.classList.add("rpv-core__splitter-sibling--resizing")}},ot=function(it){var mt=Me.current,ht=Ie.current,dt=Oe.current;mt&&ht&&dt&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),mt.classList.remove("rpv-core__splitter--resizing"),ht.classList.remove("rpv-core__splitter-sibling--resizing"),dt.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",st,Ve),document.removeEventListener("mouseup",ot,Ve))};return $.useEffect(function(){var it=Me.current;it&&(Ue.current=it.getBoundingClientRect().width,Ie.current=it.previousElementSibling,Oe.current=it.nextElementSibling)},[]),$.createElement("div",{ref:Me,className:"rpv-core__splitter",onMouseDown:function(it){var mt=Ie.current;mt&&(Xe.current=it.clientX,ze.current=it.clientY,$e.current=mt.getBoundingClientRect().width,document.addEventListener("mousemove",st,Ve),document.addEventListener("mouseup",ot,Ve))}})},A.TextBox=K,A.ThemeContext=ce,A.Tooltip=function(X){var he=X.ariaControlsSuffix,we=X.content,Me=X.offset,Ie=X.position,Oe=X.target,Xe=Ze(!1),ze=Xe.opened,$e=Xe.toggle,Ue=$.useRef(),Ve=$.useRef(),st=$.useMemo(function(){return he||"".concat(te())},[]);Ae(function(){Ue.current&&document.activeElement&&Ue.current.contains(document.activeElement)&&it()});var ot=function(){$e(A.ToggleStatus.Open)},it=function(){$e(A.ToggleStatus.Close)};return $.createElement($.Fragment,null,$.createElement("div",{ref:Ue,"aria-describedby":"rpv-core__tooltip-body-".concat(st),onBlur:function(mt){mt.relatedTarget instanceof HTMLElement&&mt.currentTarget.parentElement&&mt.currentTarget.parentElement.contains(mt.relatedTarget)?Ve.current&&(Ve.current.style.display="none"):it()},onFocus:ot,onMouseEnter:ot,onMouseLeave:it},Oe),ze&&$.createElement(Re,{ariaControlsSuffix:st,contentRef:Ve,offset:Me,position:Ie,targetRef:Ue},we()))},A.Viewer=function(X){var he=X.characterMap,we=X.defaultScale,Me=X.enableSmoothScroll,Ie=Me===void 0||Me,Oe=X.fileUrl,Xe=X.httpHeaders,ze=Xe===void 0?{}:Xe,$e=X.initialPage,Ue=$e===void 0?0:$e,Ve=X.pageLayout,st=X.initialRotation,ot=st===void 0?0:st,it=X.localization,mt=X.plugins,ht=mt===void 0?[]:mt,dt=X.renderError,Bt=X.renderLoader,kt=X.renderPage,xt=X.renderProtectedView,Rt=X.scrollMode,yt=Rt===void 0?A.ScrollMode.Vertical:Rt,Ft=X.setRenderRange,Tt=Ft===void 0?ka:Ft,Kt=X.transformGetDocumentParams,Xt=X.theme,Yt=Xt===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Xt,Jt=X.viewMode,en=Jt===void 0?A.ViewMode.SinglePage:Jt,vn=X.withCredentials,ln=vn!==void 0&&vn,bn=X.onDocumentAskPassword,hn=X.onDocumentLoad,pn=hn===void 0?function(){}:hn,mn=X.onPageChange,fn=mn===void 0?function(){}:mn,wn=X.onRotate,In=wn===void 0?function(){}:wn,Rn=X.onRotatePage,Sn=Rn===void 0?function(){}:Rn,xn=X.onSwitchTheme,Ln=xn===void 0?function(){}:xn,$t=X.onZoom,Mt=$t===void 0?function(){}:$t,St=$.useState({data:Oe,name:typeof Oe=="string"?Oe:"",shouldLoad:!1}),wt=St[0],Ct=St[1],It=function(cn,un){Ct({data:un,name:cn,shouldLoad:!0})},Ot=$.useState(!1),Pt=Ot[0],Et=Ot[1],Nt=qe(wt);$.useEffect(function(){var cn,un,_n,nn;cn=Nt.data,nn=typeof(un=Oe),(_n=typeof cn)=="string"&&nn==="string"&&cn===un||_n==="object"&&nn==="object"&&cn.length===un.length&&cn.every(function(Nn,Jn){return Nn===un[Jn]})||Ct({data:Oe,name:typeof Oe=="string"?Oe:"",shouldLoad:Pt})},[Oe,Pt]);var Ht=Q({onVisibilityChanged:function(cn){Et(cn.isVisible),cn.isVisible&&Ct(function(un){return Object.assign({},un,{shouldLoad:!0})})}}),sn=typeof Yt=="string"?{direction:A.TextDirection.LeftToRight,theme:Yt}:Yt,rn=$.useState(it||nt),Cn=rn[0],Mn=rn[1],jt={l10n:Cn,setL10n:Mn},An=Object.assign({},{direction:sn.direction},Pa(sn.theme||"light",Ln));return $.useEffect(function(){it&&Mn(it)},[it]),$.createElement(Pe.Provider,{value:jt},$.createElement(ce.Provider,{value:An},$.createElement("div",{ref:Ht,className:"rpv-core__viewer rpv-core__viewer--".concat(An.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},wt.shouldLoad&&$.createElement(wa,{characterMap:he,file:wt.data,httpHeaders:ze,render:function(cn){return $.createElement(Ca,{defaultScale:we,doc:cn,render:function(un,_n){return $.createElement(Sa,{currentFile:{data:wt.data,name:wt.name},defaultScale:we,doc:cn,enableSmoothScroll:Ie,initialPage:Ue,initialRotation:ot,initialScale:_n,pageLayout:Ve,pageSizes:un,plugins:ht,renderPage:kt,scrollMode:yt,setRenderRange:Tt,viewMode:en,viewerState:{file:wt,fullScreenMode:A.FullScreenMode.Normal,pageIndex:-1,pageHeight:un[0].pageHeight,pageWidth:un[0].pageWidth,pagesRotation:new Map,rotation:ot,scale:_n,scrollMode:yt,viewMode:en},onDocumentLoad:pn,onOpenFile:It,onPageChange:fn,onRotate:In,onRotatePage:Sn,onZoom:Mt})},scrollMode:yt,viewMode:en})},renderError:dt,renderLoader:Bt,renderProtectedView:xt,transformGetDocumentParams:Kt,withCredentials:ln,onDocumentAskPassword:bn}))))},A.Worker=function(X){var he=X.children,we=X.workerUrl;return re.GlobalWorkerOptions.workerSrc=we,$.createElement($.Fragment,null,he)},A.chunk=ct,A.classNames=ae,A.createStore=function(X){var he=X||{},we={},Me=function(Oe,Xe){var ze;he=ie(ie({},he),((ze={})[Oe]=Xe,ze)),(we[Oe]||[]).forEach(function($e){return $e(he[Oe])})},Ie=function(Oe){return he[Oe]};return{subscribe:function(Oe,Xe){we[Oe]=(we[Oe]||[]).concat(Xe)},unsubscribe:function(Oe,Xe){we[Oe]=(we[Oe]||[]).filter(function(ze){return ze!==Xe})},update:function(Oe,Xe){Me(Oe,Xe)},updateCurrentValue:function(Oe,Xe){var ze=Ie(Oe);ze!==void 0&&Me(Oe,Xe(ze))},get:function(Oe){return Ie(Oe)}}},A.getDestination=Ge,A.getPage=at,A.isFullScreenEnabled=Te,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useDebounceCallback=Ye,A.useIntersectionObserver=Q,A.useIsMounted=et,A.useIsomorphicLayoutEffect=J,A.usePrevious=qe,A.useRenderQueue=Qe})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$d.exports=core_min;var libExports$d=lib$d.exports,lib$c={exports:{}},toolbar_min={},lib$b={exports:{}},selectionMode_min={};(function(A){var R=libExports$d;function V(J){var Q=Object.create(null);return J&&Object.keys(J).forEach(function(U){if(U!=="default"){var Y=Object.getOwnPropertyDescriptor(J,U);Object.defineProperty(Q,U,Y.get?Y:{enumerable:!0,get:function(){return J[U]}})}}),Q.default=J,Object.freeze(Q)}var O,B=V(reactExports),$=function(){return B.createElement(R.Icon,{size:16},B.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},re=function(){return re=Object.assign||function(J){for(var Q,U=1,Y=arguments.length;U<Y;U++)for(var ne in Q=arguments[U])Object.prototype.hasOwnProperty.call(Q,ne)&&(J[ne]=Q[ne]);return J},re.apply(this,arguments)};A.SelectionMode=void 0,(O=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",O.Text="Text";var fe=function(){return B.createElement(R.Icon,{size:16},B.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},ve=function(J){var Q=J.children,U=J.mode,Y=J.onClick,ne=B.useContext(R.LocalizationContext).l10n,q="",K=B.createElement(fe,null);switch(U){case A.SelectionMode.Hand:q=ne&&ne.selectionMode?ne.selectionMode.handTool:"Hand tool",K=B.createElement($,null);break;case A.SelectionMode.Text:default:q=ne&&ne.selectionMode?ne.selectionMode.textSelectionTool:"Text selection tool",K=B.createElement(fe,null)}return Q({icon:K,label:q,onClick:Y})},ue={left:0,top:8},ie=function(J){var Q=J.isSelected,U=J.mode,Y=J.onClick,ne="";switch(U){case A.SelectionMode.Hand:ne="selection-mode__hand-button";break;case A.SelectionMode.Text:default:ne="selection-mode__text-button"}return B.createElement(ve,{mode:U,onClick:Y},function(q){return B.createElement(R.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:R.Position.BottomCenter,target:B.createElement(R.MinimalButton,{ariaLabel:q.label,isSelected:Q,testId:ne,onClick:q.onClick},q.icon),content:function(){return q.label},offset:ue})})},ye=function(J){var Q=J.children,U=J.mode,Y=J.store,ne=U===Y.get("selectionMode");return(Q||function(q){return B.createElement(ie,{isSelected:ne,mode:q.mode,onClick:q.onClick})})({isSelected:ne,mode:U,onClick:function(){return Y.update("selectionMode",U)}})},ce=function(J){var Q=J.isSelected,U=J.mode,Y=J.onClick,ne="";switch(U){case A.SelectionMode.Hand:ne="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:ne="selection-mode__text-menu"}return B.createElement(ve,{mode:U,onClick:Y},function(q){return B.createElement(R.MenuItem,{checked:Q,icon:q.icon,testId:ne,onClick:q.onClick},q.label)})},ae=function(J){var Q=J.store,U=B.useRef(null),Y=B.useState(A.SelectionMode.Text),ne=Y[0],q=Y[1],K=B.useRef({top:0,left:0,x:0,y:0}),H=function(Ee){var Te=U.current;Te&&(Te.scrollTop=K.current.top-(Ee.clientY-K.current.y),Te.scrollLeft=K.current.left-(Ee.clientX-K.current.x))},G=function(){var Ee=U.current;Ee&&(Ee.classList.add("rpv-selection-mode__grab"),Ee.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",G))},de=function(Ee){var Te=U.current;Te&&ne!==A.SelectionMode.Text&&(Te.classList.remove("rpv-selection-mode__grab"),Te.classList.add("rpv-selection-mode__grabbing"),Ee.preventDefault(),Ee.stopPropagation(),K.current={left:Te.scrollLeft,top:Te.scrollTop,x:Ee.clientX,y:Ee.clientY},document.addEventListener("mousemove",H),document.addEventListener("mouseup",G))},W=function(Ee){U.current=Ee()},ge=function(Ee){q(Ee)};return B.useEffect(function(){var Ee=U.current;if(Ee)return ne===A.SelectionMode.Hand?Ee.classList.add("rpv-selection-mode__grab"):Ee.classList.remove("rpv-selection-mode__grab"),Ee.addEventListener("mousedown",de),function(){Ee.removeEventListener("mousedown",de)}},[ne]),B.useEffect(function(){return Q.subscribe("getPagesContainer",W),Q.subscribe("selectionMode",ge),function(){Q.unsubscribe("getPagesContainer",W),Q.unsubscribe("selectionMode",ge)}},[]),B.createElement(B.Fragment,null)};A.HandToolIcon=$,A.TextSelectionIcon=fe,A.selectionModePlugin=function(J){var Q=B.useMemo(function(){return R.createStore()},[]),U=function(Y){return B.createElement(ye,re({},Y,{store:Q}))};return{install:function(Y){Q.update("selectionMode",J&&J.selectionMode?J.selectionMode:A.SelectionMode.Text),Q.update("getPagesContainer",Y.getPagesContainer)},renderViewer:function(Y){var ne=Y.slot;return ne.subSlot&&ne.subSlot.children&&(ne.subSlot.children=B.createElement(B.Fragment,null,B.createElement(ae,{store:Q}),ne.subSlot.children)),ne},SwitchSelectionMode:U,SwitchSelectionModeButton:function(Y){return B.createElement(U,{mode:Y.mode},function(ne){return B.createElement(ie,{isSelected:ne.isSelected,mode:ne.mode,onClick:function(){ne.onClick()}})})},SwitchSelectionModeMenuItem:function(Y){return B.createElement(U,{mode:Y.mode},function(ne){return B.createElement(ce,{isSelected:ne.isSelected,mode:ne.mode,onClick:function(){ne.onClick(),Y.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$b.exports=selectionMode_min;var libExports$c=lib$b.exports,lib$a={exports:{}},fullScreen_min={},e$b=libExports$d;function t$b(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var n$b=t$b(reactExports),r$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n$b.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n$b.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n$b.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n$b.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},l$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M0.5 12L23.5 12"}),n$b.createElement("path",{d:"M11.5 1L11.5 23"}),n$b.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n$b.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n$b.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n$b.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},c$b=function(){return c$b=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},c$b.apply(this,arguments)},u$b={left:0,top:8},o$b=function(A){var R=A.enableShortcuts,V=A.onClick,O=n$b.useContext(e$b.LocalizationContext).l10n,B=O&&O.fullScreen?O.fullScreen.enterFullScreen:"Full screen",$=R?e$b.isMac()?"Meta+Ctrl+F":"F11":"";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:B,isDisabled:!e$b.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:V},n$b.createElement(l$b,null)),content:function(){return B},offset:u$b})},i$b={left:0,top:8},a$b=function(A){var R=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,O=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:O,testId:"full-screen__exit-button-with-tooltip",onClick:R},n$b.createElement(r$b,null)),content:function(){return O},offset:i$b})},f$8=function(A,R){var V=n$b.useState(R.get("fullScreenMode")),O=V[0],B=V[1],$=n$b.useCallback(function(re){B(re)},[]);return n$b.useEffect(function(){return R.subscribe("fullScreenMode",$),function(){R.unsubscribe("fullScreenMode",$)}},[]),{enterFullScreen:function(){var re=R.get("getPagesContainer");if(re){var fe=A(re());R.get("enterFullScreenMode")(fe)}},exitFullScreen:function(){R.get("exitFullScreenMode")()},isFullScreen:O===e$b.FullScreenMode.Entering||O===e$b.FullScreenMode.EnteredCompletely}},s$7=function(A){var R=A.children,V=A.enableShortcuts,O=A.getFullScreenTarget,B=A.store,$=f$8(O,B),re=$.enterFullScreen,fe=$.exitFullScreen,ve=$.isFullScreen;return(R||function(ue){return ve?n$b.createElement(a$b,{onClick:ue.onClick}):n$b.createElement(o$b,{enableShortcuts:V,onClick:ue.onClick})})({onClick:ve?fe:re})},S$4=function(A){var R=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,O=V&&V.fullScreen?V.fullScreen.enterFullScreen:"Full screen";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(l$b,null),isDisabled:!e$b.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:R},O)},d$8=function(A){var R=A.onClick,V=n$b.useContext(e$b.LocalizationContext).l10n,O=n$b.useContext(e$b.ThemeContext).direction===e$b.TextDirection.RightToLeft,B=V&&V.fullScreen?V.fullScreen.exitFullScreen:"Exit full screen";return n$b.createElement("div",{className:e$b.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!O,"rpv-full-screen__exit-button--rtl":O})},n$b.createElement(e$b.MinimalButton,{ariaLabel:B,testId:"full-screen__exit-button",onClick:R},n$b.createElement(r$b,null)))},m$7=function(A){var R=A.children,V=A.getFullScreenTarget,O=A.store,B=f$8(V,O),$=B.enterFullScreen,re=B.exitFullScreen,fe=B.isFullScreen;return fe&&(R||function(ve){return n$b.createElement(d$8,{onClick:ve.onClick})})({onClick:fe?re:$})},E$5=function(A){var R=A.store,V=A.onEnterFullScreen,O=A.onExitFullScreen,B=n$b.useState(R.get("fullScreenMode")),$=B[0],re=B[1],fe=n$b.useCallback(function(ve){re(ve)},[]);return n$b.useEffect(function(){switch($){case e$b.FullScreenMode.EnteredCompletely:V(R.get("zoom"));break;case e$b.FullScreenMode.Exited:O(R.get("zoom"))}},[$]),n$b.useEffect(function(){return R.subscribe("fullScreenMode",fe),function(){R.unsubscribe("fullScreenMode",fe)}},[]),($===e$b.FullScreenMode.Entering||$===e$b.FullScreenMode.Entered)&&n$b.createElement("div",{className:"rpv-full-screen__overlay"},n$b.createElement(e$b.Spinner,null))},F=function(A){var R=A.containerRef,V=A.getFullScreenTarget,O=A.store,B=f$8(V,O).enterFullScreen,$=function(re){if(!re.shiftKey&&!re.altKey&&(e$b.isMac()?re.metaKey&&re.ctrlKey&&re.key==="f":re.key==="F11")){var fe=R.current;fe&&document.activeElement&&fe.contains(document.activeElement)&&(re.preventDefault(),B())}};return n$b.useEffect(function(){if(R.current)return document.addEventListener("keydown",$),function(){document.removeEventListener("keydown",$)}},[R.current]),n$b.createElement(n$b.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$b,fullScreen_min.FullScreenIcon=l$b,fullScreen_min.fullScreenPlugin=function(A){var R=(A==null?void 0:A.getFullScreenTarget)||function(re){return re},V=n$b.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),O=n$b.useMemo(function(){return e$b.createStore({enterFullScreenMode:function(){},exitFullScreenMode:function(){},fullScreenMode:e$b.FullScreenMode.Normal,zoom:function(){}})},[]),B=function(re){return n$b.createElement(s$7,c$b({},re,{enableShortcuts:V.enableShortcuts,getFullScreenTarget:R,store:O}))},$=function(){return n$b.createElement(m$7,{getFullScreenTarget:R,store:O},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(re){O.update("enterFullScreenMode",re.enterFullScreenMode),O.update("exitFullScreenMode",re.exitFullScreenMode),O.update("getPagesContainer",re.getPagesContainer),O.update("zoom",re.zoom)},onViewerStateChange:function(re){return O.update("fullScreenMode",re.fullScreenMode),re},renderViewer:function(re){var fe=re.slot;return fe.subSlot&&(fe.subSlot.children=n$b.createElement(n$b.Fragment,null,V.enableShortcuts&&n$b.createElement(F,{containerRef:re.containerRef,getFullScreenTarget:R,store:O}),n$b.createElement(E$5,{store:O,onEnterFullScreen:V.onEnterFullScreen,onExitFullScreen:V.onExitFullScreen}),n$b.createElement($,null),fe.subSlot.children)),fe},EnterFullScreen:B,EnterFullScreenButton:function(){return n$b.createElement(B,null,function(re){return n$b.createElement(o$b,c$b({enableShortcuts:V.enableShortcuts},re))})},EnterFullScreenMenuItem:function(re){return n$b.createElement(B,null,function(fe){return n$b.createElement(S$4,{onClick:function(){fe.onClick(),re.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$a.exports=fullScreen_min;var libExports$b=lib$a.exports,lib$9={exports:{}},getFile_min={},e$a=libExports$d;function t$a(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var n$a=t$a(reactExports),o$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$a=function(){return r$a=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},r$a.apply(this,arguments)},i$a={left:0,top:8},a$a=function(A){var R=A.onClick,V=n$a.useContext(e$a.LocalizationContext).l10n,O=V&&V.download?V.download.download:"Download";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"get-file",position:e$a.Position.BottomCenter,target:n$a.createElement(e$a.MinimalButton,{ariaLabel:O,testId:"get-file__download-button",onClick:R},n$a.createElement(o$a,null)),content:function(){return O},offset:i$a})},c$a=function(A,R){var V=document.createElement("a");V.style.display="none",V.href=A,V.setAttribute("download",R),document.body.appendChild(V),V.click(),document.body.removeChild(V)},l$a=function(A,R,V){var O=URL.createObjectURL(new Blob([A],{type:V}));c$a(O,R),O&&URL.revokeObjectURL(O)},u$a=function(A,R){A.getData().then(function(V){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$a(V,R,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$a("data:application/pdf;base64,".concat(function(O){return btoa(Array(O.length).fill("").map(function(B,$){return String.fromCharCode(O[$])}).join(""))}(V)),R):l$a(V,R,"application/pdf")})},f$7=function(A){var R=A.children,V=A.fileNameGenerator,O=A.store,B=n$a.useState(O.get("file")),$=B[0],re=B[1],fe=n$a.useState(O.get("doc")),ve=fe[0],ue=fe[1],ie=function(ce){ue(ce)},ye=function(ce){re(ce)};return n$a.useEffect(function(){return O.subscribe("doc",ie),O.subscribe("file",ye),function(){O.subscribe("doc",ie),O.unsubscribe("file",ye)}},[]),(R||function(ce){return n$a.createElement(a$a,{onClick:ce.onClick})})({onClick:function(){ve&&$&&u$a(ve,V($))}})},d$7=function(A){var R=A.onClick,V=n$a.useContext(e$a.LocalizationContext).l10n,O=V&&V.download?V.download.download:"Download";return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(o$a,null),testId:"get-file__download-menu",onClick:R},O)};getFile_min.DownloadIcon=o$a,getFile_min.getFilePlugin=function(A){var R=n$a.useMemo(function(){return e$a.createStore({})},[]),V=function(B){return B.name?($=B.name,(re=$.split("/").pop())?re.split("#")[0].split("?")[0]:$):"document.pdf";var $,re},O=function(B){return n$a.createElement(f$7,r$a({},B,{fileNameGenerator:A&&A.fileNameGenerator||V,store:R}))};return{onDocumentLoad:function(B){R.update("doc",B.doc),R.update("file",B.file)},Download:O,DownloadButton:function(){return n$a.createElement(O,null,function(B){return n$a.createElement(a$a,r$a({},B))})},DownloadMenuItem:function(B){return n$a.createElement(O,null,function($){return n$a.createElement(d$7,{onClick:function(){$.onClick(),B.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$9.exports=getFile_min;var libExports$a=lib$9.exports,lib$8={exports:{}},open_min={},e$9=libExports$d;function t$9(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var n$9=t$9(reactExports),r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$9.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$9=function(){return o$9=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},o$9.apply(this,arguments)},i$9=function(A){var R=n$9.useRef(),V=function(){var B=R.current;B&&(B.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},O=function(B){B&&V()};return n$9.useEffect(function(){return A.subscribe("triggerOpenFile",O),function(){A.unsubscribe("triggerOpenFile",O)}},[]),{inputRef:R,openFile:V}},c$9={left:0,top:8},u$9=function(A){var R=A.enableShortcuts,V=A.store,O=A.onClick,B=n$9.useContext(e$9.LocalizationContext).l10n,$=B&&B.open?B.open.openFile:"Open file",re=i$9(V),fe=re.inputRef,ve=re.openFile,ue=R?e$9.isMac()?"Meta+O":"Ctrl+O":"";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"open",position:e$9.Position.BottomCenter,target:n$9.createElement("div",{className:"rpv-open__input-wrapper"},n$9.createElement("input",{accept:".pdf",ref:fe,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:O}),n$9.createElement(e$9.MinimalButton,{ariaKeyShortcuts:ue,ariaLabel:$,testId:"open__button",onClick:ve},n$9.createElement(r$9,null))),content:function(){return $},offset:c$9})},a$9=function(A){var R=A.children,V=A.enableShortcuts,O=A.store;return(R||function(B){return n$9.createElement(u$9,{enableShortcuts:V,store:O,onClick:B.onClick})})({onClick:function(B){var $=B.target.files;if($&&$.length){var re=O.get("openFile");re&&re($[0])}}})},l$9=function(A){var R=A.store,V=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,B=O&&O.open?O.open.openFile:"Open file",$=i$9(R),re=$.inputRef,fe=$.openFile;return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),testId:"open__menu",onClick:fe},n$9.createElement("div",{className:"rpv-open__input-wrapper"},n$9.createElement("input",{accept:".pdf",ref:re,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:V}),B))},p$7=function(A){var R=A.containerRef,V=A.store,O=function(B){if(!B.shiftKey&&!B.altKey&&B.key==="o"&&(e$9.isMac()?B.metaKey:B.ctrlKey)){var $=R.current;$&&document.activeElement&&$.contains(document.activeElement)&&(B.preventDefault(),V.update("triggerOpenFile",!0))}};return n$9.useEffect(function(){if(R.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[R.current]),n$9.createElement(n$9.Fragment,null)};open_min.OpenFileIcon=r$9,open_min.openPlugin=function(A){var R=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$9.useMemo(function(){return e$9.createStore({})},[]),O=function(B){return n$9.createElement(a$9,o$9({enableShortcuts:R.enableShortcuts},B,{store:V}))};return{install:function(B){V.update("openFile",B.openFile)},renderViewer:function(B){var $=B.slot,re={children:n$9.createElement(n$9.Fragment,null,R.enableShortcuts&&n$9.createElement(p$7,{containerRef:B.containerRef,store:V}),$.children)};return o$9(o$9({},$),re)},Open:O,OpenButton:function(){return n$9.createElement(O,null)},OpenMenuItem:function(){return n$9.createElement(O,null,function(B){return n$9.createElement(l$9,{store:V,onClick:B.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$8.exports=open_min;var libExports$9=lib$8.exports,lib$7={exports:{}},pageNavigation_min={},e$8=libExports$d;function t$8(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var n$8=t$8(reactExports),a$8=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},r$8=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$8=function(){return o$8=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},o$8.apply(this,arguments)},i$8=function(A){var R=n$8.useState(A.get("currentPage")||0),V=R[0],O=R[1],B=function($){O($)};return e$8.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",B),function(){A.unsubscribe("currentPage",B)}},[]),{currentPage:V}},u$8=function(A){var R=n$8.useState(A.get("numberOfPages")||0),V=R[0],O=R[1],B=function($){O($)};return n$8.useEffect(function(){return A.subscribe("numberOfPages",B),function(){A.unsubscribe("numberOfPages",B)}},[]),{numberOfPages:V}},c$8=function(A){var R=A.store,V=n$8.useContext(e$8.LocalizationContext).l10n,O=n$8.useState("1"),B=O[0],$=O[1],re=i$8(R).currentPage,fe=u$8(R).numberOfPages;n$8.useEffect(function(){return $("".concat(re+1))},[re]);var ve=function(ie){var ye=R.get("jumpToPage");ye&&ye(ie)},ue=V&&V.pageNavigation?V.pageNavigation.enterPageNumber:"Enter a page number";return n$8.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$8.createElement(e$8.TextBox,{ariaLabel:ue,testId:"page-navigation__current-page-input",type:"text",value:B,onChange:$,onKeyDown:function(ie){switch(ie.key){case"ArrowUp":(ae=re-1)>=0&&($("".concat(ae+1)),ve(ae));break;case"ArrowDown":(ce=re+1)<fe&&($("".concat(ce+1)),ve(ce));break;case"Enter":ye=parseInt(B,10),B===""||ye<1||ye>fe?$("".concat(re+1)):ve(ye-1)}var ye,ce,ae}}))},l$8=function(A){var R=A.children,V=A.doc,O=e$8.useIsMounted(),B=n$8.useState({loading:!0,labels:[]}),$=B[0],re=B[1];return n$8.useEffect(function(){V.getPageLabels().then(function(fe){O.current&&re({loading:!1,labels:fe||[]})})},[V.loadingTask.docId]),$.loading?n$8.createElement(n$8.Fragment,null):R($.labels)},s$6=function(A){var R=A.children,V=A.store,O=function(fe){var ve=n$8.useState(fe.get("doc")),ue=ve[0],ie=ve[1],ye=function(ce){ie(ce)};return n$8.useEffect(function(){return fe.subscribe("doc",ye),function(){fe.unsubscribe("doc",ye)}},[]),ue}(V),B=i$8(V).currentPage,$=u$8(V).numberOfPages,re=R||function(fe){return n$8.createElement(n$8.Fragment,null,fe.currentPage+1)};return O?n$8.createElement(l$8,{doc:O},function(fe){var ve=fe.length===$&&$>0?fe[B]:"";return re({currentPage:B,numberOfPages:$,pageLabel:ve})}):n$8.createElement(n$8.Fragment,null)},g$5=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$6={left:0,top:8},m$6=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:B,isDisabled:R,testId:"page-navigation__first-button",onClick:V},n$8.createElement(g$5,null)),content:function(){return B},offset:f$6})},p$6=function(A){var R=A.children,V=A.store;return(R||function(O){return n$8.createElement(m$6,{isDisabled:O.isDisabled,onClick:O.onClick})})({isDisabled:i$8(V).currentPage===0,onClick:function(){var O=V.get("jumpToPage");O&&O(0)}})},v$5=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(g$5,null),isDisabled:R,testId:"page-navigation__first-menu",onClick:V},B)},d$6={left:0,top:8},P$2=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:B,isDisabled:R,testId:"page-navigation__last-button",onClick:V},n$8.createElement(a$8,null)),content:function(){return B},offset:d$6})},b$3=function(A){var R=A.children,V=A.store,O=i$8(V).currentPage,B=u$8(V).numberOfPages;return(R||function($){return n$8.createElement(P$2,{isDisabled:$.isDisabled,onClick:$.onClick})})({isDisabled:O+1>=B,onClick:function(){var $=V.get("jumpToPage");$&&$(B-1)}})},E$4=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(a$8,null),isDisabled:R,testId:"page-navigation__last-menu",onClick:V},B)},C$3={left:0,top:8},D=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:B,isDisabled:R,testId:"page-navigation__next-button",onClick:V},n$8.createElement(r$8,null)),content:function(){return B},offset:C$3})},k$3=function(A){var R=A.children,V=A.store;return(R||function(O){return n$8.createElement(D,{onClick:O.onClick,isDisabled:O.isDisabled})})({isDisabled:i$8(V).currentPage+1>=u$8(V).numberOfPages,onClick:function(){var O=V.get("jumpToNextPage");O&&O()}})},T=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(r$8,null),isDisabled:R,testId:"page-navigation__next-menu",onClick:V},B)},x$1=function(){return n$8.createElement(e$8.Icon,{size:16},n$8.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},N=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$8.Position.BottomCenter,target:n$8.createElement(e$8.MinimalButton,{ariaLabel:B,isDisabled:R,testId:"page-navigation__previous-button",onClick:V},n$8.createElement(x$1,null)),content:function(){return B},offset:L})},j=function(A){var R=A.store;return(A.children||function(V){return n$8.createElement(N,{isDisabled:V.isDisabled,onClick:V.onClick})})({isDisabled:i$8(R).currentPage<=0,onClick:function(){var V=R.get("jumpToPreviousPage");V&&V()}})},I$2=function(A){var R=A.isDisabled,V=A.onClick,O=n$8.useContext(e$8.LocalizationContext).l10n,B=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$8.createElement(e$8.MenuItem,{icon:n$8.createElement(x$1,null),isDisabled:R,testId:"page-navigation__previous-menu",onClick:V},B)},h$5=function(A){var R=A.children,V=A.store,O=u$8(V).numberOfPages;return R?R({numberOfPages:O}):n$8.createElement(n$8.Fragment,null,O)},y$1=function(A){var R=A.containerRef,V=A.numPages,O=A.store,B=i$8(O).currentPage,$=n$8.useRef(B);$.current=B;var re=n$8.useRef(!1),fe=function(){re.current=!0},ve=function(){re.current=!1},ue=function(ie){var ye=R.current,ce=re.current||document.activeElement&&ye.contains(document.activeElement);if(ye&&ce){var ae,J,Q=ie.altKey&&ie.key==="ArrowDown"||!ie.shiftKey&&!ie.altKey&&ie.key==="PageDown",U=ie.altKey&&ie.key==="ArrowUp"||!ie.shiftKey&&!ie.altKey&&ie.key==="PageUp";if(Q)return ie.preventDefault(),ae=O.get("jumpToPage"),J=$.current+1,void(ae&&J<V&&ae(J));if(U)return ie.preventDefault(),void function(){var Y=O.get("jumpToPage"),ne=$.current-1;Y&&ne>=0&&Y(ne)}();if(e$8.isMac()?ie.metaKey&&!ie.ctrlKey:ie.altKey)switch(ie.key){case"ArrowLeft":ie.preventDefault(),function(){var Y=O.get("jumpToPreviousDestination");Y&&Y()}();break;case"ArrowRight":ie.preventDefault(),function(){var Y=O.get("jumpToNextDestination");Y&&Y()}()}}};return n$8.useEffect(function(){var ie=R.current;if(ie)return document.addEventListener("keydown",ue),ie.addEventListener("mouseenter",fe),ie.addEventListener("mouseleave",ve),function(){document.removeEventListener("keydown",ue),ie.removeEventListener("mouseenter",fe),ie.removeEventListener("mouseleave",ve)}},[R.current]),n$8.createElement(n$8.Fragment,null)};pageNavigation_min.DownArrowIcon=a$8,pageNavigation_min.NextIcon=r$8,pageNavigation_min.PreviousIcon=x$1,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var R=n$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$8.useMemo(function(){return e$8.createStore()},[]),O=function(fe){return n$8.createElement(p$6,o$8({},fe,{store:V}))},B=function(fe){return n$8.createElement(b$3,o$8({},fe,{store:V}))},$=function(fe){return n$8.createElement(k$3,o$8({},fe,{store:V}))},re=function(fe){return n$8.createElement(j,o$8({},fe,{store:V}))};return{install:function(fe){V.update("jumpToDestination",fe.jumpToDestination),V.update("jumpToNextDestination",fe.jumpToNextDestination),V.update("jumpToNextPage",fe.jumpToNextPage),V.update("jumpToPage",fe.jumpToPage),V.update("jumpToPreviousDestination",fe.jumpToPreviousDestination),V.update("jumpToPreviousPage",fe.jumpToPreviousPage)},renderViewer:function(fe){var ve=fe.slot;if(!R.enableShortcuts)return ve;var ue={children:n$8.createElement(n$8.Fragment,null,n$8.createElement(y$1,{containerRef:fe.containerRef,numPages:fe.doc.numPages,store:V}),ve.children)};return o$8(o$8({},ve),ue)},onDocumentLoad:function(fe){V.update("doc",fe.doc),V.update("numberOfPages",fe.doc.numPages)},onViewerStateChange:function(fe){return V.update("currentPage",fe.pageIndex),fe},jumpToNextPage:function(){var fe=V.get("jumpToNextPage");fe&&fe()},jumpToPage:function(fe){var ve=V.get("jumpToPage");ve&&ve(fe)},jumpToPreviousPage:function(){var fe=V.get("jumpToPreviousPage");fe&&fe()},CurrentPageInput:function(){return n$8.createElement(c$8,{store:V})},CurrentPageLabel:function(fe){return n$8.createElement(s$6,o$8({},fe,{store:V}))},GoToFirstPage:O,GoToFirstPageButton:function(){return n$8.createElement(O,null,function(fe){return n$8.createElement(m$6,o$8({},fe))})},GoToFirstPageMenuItem:function(fe){return n$8.createElement(O,null,function(ve){return n$8.createElement(v$5,{isDisabled:ve.isDisabled,onClick:function(){ve.onClick(),fe.onClick()}})})},GoToLastPage:B,GoToLastPageButton:function(){return n$8.createElement(B,null,function(fe){return n$8.createElement(P$2,o$8({},fe))})},GoToLastPageMenuItem:function(fe){return n$8.createElement(B,null,function(ve){return n$8.createElement(E$4,{isDisabled:ve.isDisabled,onClick:function(){ve.onClick(),fe.onClick()}})})},GoToNextPage:$,GoToNextPageButton:function(){return n$8.createElement($,null,function(fe){return n$8.createElement(D,o$8({},fe))})},GoToNextPageMenuItem:function(fe){return n$8.createElement($,null,function(ve){return n$8.createElement(T,{isDisabled:ve.isDisabled,onClick:function(){ve.onClick(),fe.onClick()}})})},GoToPreviousPage:re,GoToPreviousPageButton:function(){return n$8.createElement(re,null,function(fe){return n$8.createElement(N,o$8({},fe))})},GoToPreviousPageMenuItem:function(fe){return n$8.createElement(re,null,function(ve){return n$8.createElement(I$2,{isDisabled:ve.isDisabled,onClick:function(){ve.onClick(),fe.onClick()}})})},NumberOfPages:function(fe){return n$8.createElement(h$5,o$8({},fe,{store:V}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$7.exports=pageNavigation_min;var libExports$8=lib$7.exports,lib$6={exports:{}},print_min={},define_process_env_default={},e$7=libExports$d,t$7=reactExports,n$7=reactDomExports;function r$7(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var o$7,a$7=r$7(t$7),i$7=function(){return a$7.createElement(e$7.Icon,{size:16},a$7.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$7=function(){return c$7=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},c$7.apply(this,arguments)},u$7={left:0,top:8},s$5=function(A){var R=A.enableShortcuts,V=A.onClick,O=a$7.useContext(e$7.LocalizationContext).l10n,B=O&&O.print?O.print.print:"Print",$=R?e$7.isMac()?"Meta+P":"Ctrl+P":"";return a$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"print",position:e$7.Position.BottomCenter,target:a$7.createElement(e$7.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:B,testId:"print__button",onClick:V},a$7.createElement(i$7,null)),content:function(){return B},offset:u$7})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$7||(o$7={}));var l$7=function(A){var R=A.children,V=A.enableShortcuts,O=A.store;return(R||s$5)({enableShortcuts:V,onClick:function(){O.update("printStatus",o$7.CheckingPermission)}})},p$5=function(A){var R=A.doc,V=A.store,O=a$7.useContext(e$7.LocalizationContext).l10n,B=a$7.useState(!0),$=B[0],re=B[1];return a$7.useEffect(function(){R.getPermissions().then(function(fe){fe===null||fe.includes(4)||fe.includes(2048)?V.update("printStatus",o$7.Preparing):re(!1)})},[]),$?a$7.createElement(a$7.Fragment,null):a$7.createElement(e$7.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(fe){return a$7.createElement(a$7.Fragment,null,a$7.createElement("div",{className:"rpv-print__permission-body"},O&&O.print?O.print.disallowPrint:"The document does not allow to print"),a$7.createElement("div",{className:"rpv-print__permission-footer"},a$7.createElement(e$7.Button,{onClick:function(){fe(),V.update("printStatus",o$7.Cancelled)}},O&&O.print?O.print.close:"Close")))},isOpened:!0})},m$5=function(A){var R=A.numLoadedPages,V=A.numPages,O=A.onCancel,B=a$7.useContext(e$7.LocalizationContext).l10n,$=a$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft,re=Math.floor(100*R/V);return a$7.createElement("div",{className:"rpv-print__progress"},a$7.createElement("div",{className:e$7.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":$})},a$7.createElement("div",{className:"rpv-print__progress-message"},B&&B.print?B.print.preparingDocument:"Preparing document ..."),a$7.createElement("div",{className:"rpv-print__progress-bar"},a$7.createElement(e$7.ProgressBar,{progress:re})),a$7.createElement(e$7.Button,{onClick:O},B&&B.print?B.print.cancel:"Cancel")))},d$5=function(A){var R=A.canvas,V=A.page,O=A.pageHeight,B=A.pageIndex,$=A.pageWidth,re=A.rotation,fe=A.onLoad,ve=e$7.useIsMounted(),ue=a$7.useRef(),ie=a$7.useState(""),ye=ie[0],ce=ie[1],ae=a$7.useMemo(function(){return typeof process<"u"&&define_process_env_default.JEST_WORKER_ID!==void 0},[]);return a$7.useEffect(function(){var J=ue.current;J&&J.cancel();var Q=150/72;R.height=Math.floor(O*Q),R.width=Math.floor($*Q);var U=R.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,R.width,R.height),U.restore();var Y=V.getViewport({rotation:re,scale:1});ue.current=V.render({canvasContext:U,intent:"print",transform:[Q,0,0,Q,0,0],viewport:Y}),ue.current.promise.then(function(){"toBlob"in R&&"createObjectURL"in URL?R.toBlob(function(ne){ve.current&&ce(URL.createObjectURL(ne)),ae&&fe()}):(ve.current&&ce(R.toDataURL()),ae&&fe())},function(){})},[]),ye&&a$7.createElement("div",{className:"rpv-print__page"},a$7.createElement("img",{"data-testid":"print__thumbnail-".concat(B),src:ye,onLoad:function(){ae||fe()}}))},f$5=function(A){var R=A.canvas,V=A.doc,O=A.pageIndex,B=A.pageRotation,$=A.pageSize,re=A.rotation,fe=A.shouldRender,ve=A.onLoad,ue=e$7.useIsMounted(),ie=a$7.useState(null),ye=ie[0],ce=ie[1],ae=Math.abs(re+B)%180==0;a$7.useEffect(function(){fe&&e$7.getPage(V,O).then(function(Q){ue.current&&ce(Q)})},[fe]);var J=($.rotation+re+B)%360;return ye&&a$7.createElement(d$5,{canvas:R,page:ye,pageHeight:ae?$.pageHeight:$.pageWidth,pageIndex:O,pageWidth:ae?$.pageWidth:$.pageHeight,rotation:J,onLoad:ve})},g$4=function(A){var R=A.doc,V=A.numLoadedPages,O=A.pagesRotation,B=A.pageSizes,$=A.printPages,re=A.printStatus,fe=A.rotation,ve=A.onCancel,ue=A.onLoad,ie=a$7.useMemo(function(){return document.createElement("canvas")},[]),ye=a$7.useMemo(function(){var J=document.querySelector(".rpv-print__zone");if(J)return J;var Q=document.createElement("div");return Q.classList.add("rpv-print__zone"),Q.setAttribute("data-testid","print__zone"),document.body.appendChild(Q),Q},[]);a$7.useEffect(function(){re===o$7.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var J=function(){if(re===o$7.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var Q=document.querySelectorAll(".rpv-print__zone");Q&&Q.forEach(function(U){U.parentElement.removeChild(U)}),ie.height=0,ie.width=0,document.removeEventListener("mousemove",J),ve()}};return document.addEventListener("mousemove",J),function(){return document.removeEventListener("mousemove",J)}},[re]);var ce=B[0].pageHeight,ae=B[0].pageWidth;return n$7.createPortal(a$7.createElement(a$7.Fragment,null,$.map(function(J,Q){return a$7.createElement(f$5,{key:J,canvas:ie,doc:R,pageIndex:J,pageRotation:O.has(J)?O.get(J):0,pageSize:B[J],rotation:fe,shouldRender:Q===V,onLoad:ue})}),a$7.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(ae,"pt ").concat(ce,"pt }")}})),ye)},v$4=function(A){var R=A.doc,V=A.pagesRotation,O=A.pageSizes,B=A.renderProgressBar,$=A.rotation,re=A.setPages,fe=A.store,ve=a$7.useState(o$7.Inactive),ue=ve[0],ie=ve[1],ye=a$7.useState(0),ce=ye[0],ae=ye[1],J=a$7.useMemo(function(){var ne=R.numPages;return re(R).filter(function(q){return q>=0&&q<ne})},[R,re]),Q=J.length,U=function(){ae(0),ie(o$7.Inactive)},Y=function(ne){return ie(ne)};return a$7.useEffect(function(){return fe.subscribe("printStatus",Y),function(){fe.unsubscribe("printStatus",Y)}},[]),a$7.createElement(a$7.Fragment,null,ue===o$7.CheckingPermission&&a$7.createElement(p$5,{doc:R,store:fe}),ue===o$7.Preparing&&(B?B(ce,Q,U):a$7.createElement(m$5,{numLoadedPages:ce,numPages:Q,onCancel:U})),(ue===o$7.Preparing||ue===o$7.Ready)&&ce<=Q&&a$7.createElement(g$4,{doc:R,numLoadedPages:ce,pagesRotation:V,pageSizes:O,printPages:J,printStatus:ue,rotation:$,onCancel:U,onLoad:function(){var ne=ce+1;ne<=Q&&(ae(ne),ne===Q&&ie(o$7.Ready))}}))},h$4=function(A){var R=A.onClick,V=a$7.useContext(e$7.LocalizationContext).l10n,O=V&&V.print?V.print.print:"Print";return a$7.createElement(e$7.MenuItem,{icon:a$7.createElement(i$7,null),testId:"print__menu",onClick:R},O)},E$3=function(A){var R=A.containerRef,V=A.store,O=function(B){if(!B.shiftKey&&!B.altKey&&B.key==="p"&&(e$7.isMac()?B.metaKey:B.ctrlKey)){var $=R.current;$&&document.activeElement&&$.contains(document.activeElement)&&(B.preventDefault(),V.update("printStatus",o$7.Preparing))}};return a$7.useEffect(function(){if(R.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[R.current]),a$7.createElement(a$7.Fragment,null)};print_min.PrintIcon=i$7,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function(R,V){return V})},print_min.getCustomPagesNumbers=function(A){return function(R){var V,O=[];return A.replace(/\s+/g,"").split(",").forEach(function(B){var $,re,fe=B.split("-").map(function(ve){return parseInt(ve,10)}).filter(function(ve){return Number.isInteger(ve)});fe.length===1?O.push(fe[0]-1):fe.length===2&&O.push.apply(O,($=fe[0]-1,re=fe[1]-1,Array(re-$+1).fill(0).map(function(ve,ue){return $+ue})))}),(V=O,V.filter(function(B){return V.indexOf(B)===V.lastIndexOf(B)})).filter(function(B){return B>=0&&B<R.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function(R,V){return V}).filter(function(R){return(R+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function(R,V){return V}).filter(function(R){return(R+1)%2==1})},print_min.printPlugin=function(A){var R=a$7.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(B){return Array(B.numPages).fill(0).map(function($,re){return re})}},A)},[]),V=a$7.useMemo(function(){return e$7.createStore({printStatus:o$7.Inactive})},[]),O=function(B){return a$7.createElement(l$7,c$7({enableShortcuts:R.enableShortcuts},B,{store:V}))};return{print:function(){V.update("printStatus",o$7.CheckingPermission)},renderViewer:function(B){var $=B.slot,re={children:a$7.createElement(a$7.Fragment,null,R.enableShortcuts&&a$7.createElement(E$3,{containerRef:B.containerRef,store:V}),a$7.createElement(v$4,{doc:B.doc,pagesRotation:B.pagesRotation,pageSizes:B.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:B.rotation,setPages:R.setPages,store:V}),$.children)};return c$7(c$7({},$),re)},Print:O,PrintButton:function(){return a$7.createElement(O,null,function(B){return a$7.createElement(s$5,c$7({},B))})},PrintMenuItem:function(B){return a$7.createElement(O,null,function($){return a$7.createElement(h$4,{onClick:function(){$.onClick(),B.onClick()}})})},setPages:function(B){R.setPages=B}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$6.exports=print_min;var libExports$7=lib$6.exports,lib$5={exports:{}},properties_min={},e$6=libExports$d;function t$6(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var r$6=t$6(reactExports),n$6=function(){return r$6.createElement(e$6.Icon,{size:16},r$6.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$6=function(){return o$6=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},o$6.apply(this,arguments)},a$6=function(A){var R=A.doc,V=A.render,O=r$6.useState(),B=O[0],$=O[1];return r$6.useEffect(function(){R.getMetadata().then(function(re){return Promise.resolve(re)}).then(function(re){return R.getDownloadInfo().then(function(fe){return Promise.resolve({fileName:re.contentDispositionFilename||"",info:re.info,length:fe.length})})}).then(function(re){$(re)})},[]),B?V(B):r$6.createElement("div",{className:"rpv-properties__loader"},r$6.createElement(e$6.Spinner,null))},i$6=function(A){var R=A.label,V=A.value,O=r$6.useContext(e$6.ThemeContext).direction===e$6.TextDirection.RightToLeft;return r$6.createElement("dl",{className:e$6.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":O})},r$6.createElement("dt",{className:"rpv-properties__item-label"},R,":"),r$6.createElement("dd",{className:"rpv-properties__item-value"},V||"-"))},l$6=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$6=function(A,R,V,O){var B=parseInt(A,10);return B>=R&&B<=V?B:O},p$4=function(A){var R=A.doc,V=A.fileName,O=A.onToggle,B=r$6.useContext(e$6.LocalizationContext).l10n,$=function(re){var fe=function(ve){var ue=l$6.exec(ve);if(!ue)return null;var ie=parseInt(ue[1],10),ye=c$6(ue[2],1,12,1)-1,ce=c$6(ue[3],1,31,1),ae=c$6(ue[4],0,23,0),J=c$6(ue[5],0,59,0),Q=c$6(ue[6],0,59,0),U=ue[7]||"Z",Y=c$6(ue[8],0,23,0),ne=c$6(ue[9],0,59,0);switch(U){case"-":ae+=Y,J+=ne;break;case"+":ae-=Y,J-=ne}return new Date(Date.UTC(ie,ye,ce,ae,J,Q))}(re);return fe?"".concat(fe.toLocaleDateString(),", ").concat(fe.toLocaleTimeString()):""};return r$6.createElement("div",{className:"rpv-properties__modal"},r$6.createElement(a$6,{doc:R,render:function(re){return r$6.createElement(r$6.Fragment,null,r$6.createElement("div",{className:"rpv-properties__modal-section"},r$6.createElement(i$6,{label:B&&B.properties?B.properties.fileName:"File name",value:re.fileName||(ue=V,ie=ue.split("/").pop(),ie?ie.split("#")[0].split("?")[0]:ue)}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.fileSize:"File size",value:(fe=re.length,ve=Math.floor(Math.log(fe)/Math.log(1024)),"".concat((fe/Math.pow(1024,ve)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][ve]))})),r$6.createElement(e$6.Separator,null),r$6.createElement("div",{className:"rpv-properties__modal-section"},r$6.createElement(i$6,{label:B&&B.properties?B.properties.title:"Title",value:re.info.Title}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.author:"Author",value:re.info.Author}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.subject:"Subject",value:re.info.Subject}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.keywords:"Keywords",value:re.info.Keywords}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.creator:"Creator",value:re.info.Creator}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.creationDate:"Creation date",value:$(re.info.CreationDate)}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.modificationDate:"Modification date",value:$(re.info.ModDate)})),r$6.createElement(e$6.Separator,null),r$6.createElement("div",{className:"rpv-properties__modal-section"},r$6.createElement(i$6,{label:B&&B.properties?B.properties.pdfProducer:"PDF producer",value:re.info.Producer}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.pdfVersion:"PDF version",value:re.info.PDFFormatVersion}),r$6.createElement(i$6,{label:B&&B.properties?B.properties.pageCount:"Page count",value:"".concat(R.numPages)})));var fe,ve,ue,ie}}),r$6.createElement("div",{className:"rpv-properties__modal-footer"},r$6.createElement(e$6.Button,{onClick:O},B&&B.properties?B.properties.close:"Close")))},s$4={left:0,top:8},u$6=function(A){var R=A.onClick,V=r$6.useContext(e$6.LocalizationContext).l10n,O=V&&V.properties?V.properties.showProperties:"Show properties";return r$6.createElement(e$6.Tooltip,{ariaControlsSuffix:"properties",position:e$6.Position.BottomCenter,target:r$6.createElement(e$6.MinimalButton,{ariaLabel:O,testId:"properties__button",onClick:R},r$6.createElement(n$6,null)),content:function(){return O},offset:s$4})},m$4=function(A){var R=A.children,V=A.store,O=function(re){var fe=r$6.useState(re.get("doc")),ve=fe[0],ue=fe[1],ie=function(ye){ue(ye)};return r$6.useEffect(function(){return re.subscribe("doc",ie),function(){re.unsubscribe("doc",ie)}},[]),{currentDoc:ve}}(V).currentDoc,B=V.get("fileName")||"",$=R||function(re){return r$6.createElement(u$6,o$6({},re))};return O?r$6.createElement(e$6.Modal,{ariaControlsSuffix:"properties",target:function(re){return $({onClick:re})},content:function(re){return r$6.createElement(p$4,{doc:O,fileName:B,onToggle:re})},closeOnClickOutside:!0,closeOnEscape:!0}):r$6.createElement(r$6.Fragment,null)},f$4=function(A){var R=A.onClick,V=r$6.useContext(e$6.LocalizationContext).l10n,O=V&&V.properties?V.properties.showProperties:"Show properties";return r$6.createElement(e$6.MenuItem,{icon:r$6.createElement(n$6,null),testId:"properties__menu",onClick:R},O)};properties_min.InfoIcon=n$6,properties_min.propertiesPlugin=function(){var A=r$6.useMemo(function(){return e$6.createStore({fileName:""})},[]),R=function(V){return r$6.createElement(m$4,o$6({},V,{store:A}))};return{onDocumentLoad:function(V){A.update("doc",V.doc)},onViewerStateChange:function(V){return A.update("fileName",V.file.name),V},ShowProperties:R,ShowPropertiesButton:function(){return r$6.createElement(m$4,{store:A})},ShowPropertiesMenuItem:function(V){return r$6.createElement(R,null,function(O){return r$6.createElement(f$4,o$6({},O))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$5.exports=properties_min;var libExports$6=lib$5.exports,lib$4={exports:{}},rotate_min={},t$5=libExports$d;function e$5(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var r$5=e$5(reactExports),n$5=function(){return r$5.createElement(t$5.Icon,{ignoreDirection:!0,size:16},r$5.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$5=function(){return r$5.createElement(t$5.Icon,{ignoreDirection:!0,size:16},r$5.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$5=function(){return c$5=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},c$5.apply(this,arguments)},a$5={left:0,top:8},i$5=function(A){var R=A.direction,V=A.onClick,O=r$5.useContext(t$5.LocalizationContext).l10n,B=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",$=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",re=R===t$5.RotateDirection.Backward?B:$,fe=R===t$5.RotateDirection.Backward?r$5.createElement(n$5,null):r$5.createElement(o$5,null);return r$5.createElement(t$5.Tooltip,{ariaControlsSuffix:"rotate",position:t$5.Position.BottomCenter,target:r$5.createElement(t$5.MinimalButton,{ariaLabel:re,testId:R===t$5.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:V},fe),content:function(){return re},offset:a$5})},u$5=function(A){var R=A.children,V=A.direction,O=A.store;return(R||function(B){return r$5.createElement(i$5,{direction:B.direction,onClick:B.onClick})})({direction:V,onClick:function(){var B=O.get("rotate");B&&B(V)}})},l$5=function(A){var R=A.direction,V=A.onClick,O=r$5.useContext(t$5.LocalizationContext).l10n,B=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",$=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",re=R===t$5.RotateDirection.Backward?B:$,fe=R===t$5.RotateDirection.Backward?r$5.createElement(n$5,null):r$5.createElement(o$5,null);return r$5.createElement(t$5.MenuItem,{icon:fe,testId:R===t$5.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:V},re)},d$4=function(A){var R=A.children,V=A.store;return R({onRotatePage:function(O,B){var $=V.get("rotatePage");$&&$(O,B)}})};rotate_min.RotateBackwardIcon=n$5,rotate_min.RotateForwardIcon=o$5,rotate_min.rotatePlugin=function(){var A=r$5.useMemo(function(){return t$5.createStore()},[]),R=function(V){return r$5.createElement(u$5,c$5({},V,{store:A}))};return{install:function(V){A.update("rotate",V.rotate),A.update("rotatePage",V.rotatePage)},Rotate:R,RotateBackwardButton:function(){return r$5.createElement(R,{direction:t$5.RotateDirection.Backward},function(V){return r$5.createElement(i$5,c$5({},V))})},RotateBackwardMenuItem:function(V){return r$5.createElement(R,{direction:t$5.RotateDirection.Backward},function(O){return r$5.createElement(l$5,{direction:O.direction,onClick:function(){O.onClick(),V.onClick()}})})},RotateForwardButton:function(){return r$5.createElement(R,{direction:t$5.RotateDirection.Forward},function(V){return r$5.createElement(i$5,c$5({},V))})},RotateForwardMenuItem:function(V){return r$5.createElement(R,{direction:t$5.RotateDirection.Forward},function(O){return r$5.createElement(l$5,{direction:O.direction,onClick:function(){O.onClick(),V.onClick()}})})},RotatePage:function(V){return r$5.createElement(d$4,c$5({},V,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$4.exports=rotate_min;var libExports$5=lib$4.exports,lib$3={exports:{}},scrollMode_min={},e$4=libExports$d;function o$4(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var t$4=o$4(reactExports),l$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$4.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$4.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$4.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$4=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$4=function(){return i$4=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},i$4.apply(this,arguments)},a$4=function(A,R){A.get("switchScrollMode")(R);var V=A.get("viewMode");R!==e$4.ScrollMode.Horizontal&&R!==e$4.ScrollMode.Wrapped||V===e$4.ViewMode.SinglePage||A.get("switchViewMode")(e$4.ViewMode.SinglePage)},d$3=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$3=function(){return t$4.createElement(e$4.Icon,{size:16},t$4.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$4=function(A){var R=A.children,V=A.mode,O=A.onClick,B=t$4.useContext(e$4.LocalizationContext).l10n,$="",re=t$4.createElement(d$3,null);switch(V){case e$4.ScrollMode.Horizontal:$=B&&B.scrollMode?B.scrollMode.horizontalScrolling:"Horizontal scrolling",re=t$4.createElement(n$4,null);break;case e$4.ScrollMode.Page:$=B&&B.scrollMode?B.scrollMode.pageScrolling:"Page scrolling",re=t$4.createElement(r$4,null);break;case e$4.ScrollMode.Wrapped:$=B&&B.scrollMode?B.scrollMode.wrappedScrolling:"Wrapped scrolling",re=t$4.createElement(s$3,null);break;case e$4.ScrollMode.Vertical:default:$=B&&B.scrollMode?B.scrollMode.verticalScrolling:"Vertical scrolling",re=t$4.createElement(d$3,null)}return R({icon:re,label:$,onClick:O})},m$3={left:0,top:8},M$2=function(A){var R=A.isDisabled,V=A.isSelected,O=A.mode,B=A.onClick,$="";switch(O){case e$4.ScrollMode.Horizontal:$="scroll-mode__horizontal-button";break;case e$4.ScrollMode.Page:$="scroll-mode__page-button";break;case e$4.ScrollMode.Wrapped:$="scroll-mode__wrapped-button";break;case e$4.ScrollMode.Vertical:default:$="scroll-mode__vertical-button"}return t$4.createElement(u$4,{mode:O,onClick:B},function(re){return t$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$4.Position.BottomCenter,target:t$4.createElement(e$4.MinimalButton,{ariaLabel:re.label,isDisabled:R,isSelected:V,testId:$,onClick:re.onClick},re.icon),content:function(){return re.label},offset:m$3})})},f$3=function(A){var R=t$4.useState(A.get("scrollMode")||e$4.ScrollMode.Vertical),V=R[0],O=R[1],B=function($){O($)};return t$4.useEffect(function(){return A.subscribe("scrollMode",B),function(){A.unsubscribe("scrollMode",B)}},[]),{scrollMode:V}},w$1=function(A){var R=t$4.useState(A.get("viewMode")||e$4.ViewMode.SinglePage),V=R[0],O=R[1],B=function($){O($)};return t$4.useEffect(function(){return A.subscribe("viewMode",B),function(){A.unsubscribe("viewMode",B)}},[]),{viewMode:V}},S$3=function(A){var R=A.children,V=A.mode,O=A.store,B=w$1(O).viewMode,$=f$3(O).scrollMode===V,re=(V===e$4.ScrollMode.Horizontal||V===e$4.ScrollMode.Wrapped)&&B!==e$4.ViewMode.SinglePage;return(R||function(fe){return t$4.createElement(M$2,{isDisabled:re,isSelected:$,mode:fe.mode,onClick:fe.onClick})})({isDisabled:re,isSelected:$,mode:V,onClick:function(){a$4(O,V)}})},g$3=function(A){var R=A.isDisabled,V=A.isSelected,O=A.mode,B=A.onClick,$="";switch(O){case e$4.ScrollMode.Horizontal:$="scroll-mode__horizontal-menu";break;case e$4.ScrollMode.Page:$="scroll-mode__page-menu";break;case e$4.ScrollMode.Wrapped:$="scroll-mode__wrapped-menu";break;case e$4.ScrollMode.Vertical:default:$="scroll-mode__vertical-menu"}return t$4.createElement(u$4,{mode:O,onClick:B},function(re){return t$4.createElement(e$4.MenuItem,{checked:V,icon:re.icon,isDisabled:R,testId:$,onClick:re.onClick},re.label)})},h$3=function(A,R){A.get("switchViewMode")(R);var V=A.get("scrollMode");V!==e$4.ScrollMode.Horizontal&&V!==e$4.ScrollMode.Wrapped||R===e$4.ViewMode.SinglePage||A.get("switchScrollMode")(e$4.ScrollMode.Vertical)},b$2=function(A){var R=A.children,V=A.mode,O=A.onClick,B=t$4.useContext(e$4.LocalizationContext).l10n,$="",re=t$4.createElement(r$4,null);switch(V){case e$4.ViewMode.DualPage:$=B&&B.scrollMode?B.scrollMode.dualPage:"Dual page",re=t$4.createElement(c$4,null);break;case e$4.ViewMode.DualPageWithCover:$=B&&B.scrollMode?B.scrollMode.dualPageCover:"Dual page with cover",re=t$4.createElement(l$4,null);break;case e$4.ViewMode.SinglePage:default:$=B&&B.scrollMode?B.scrollMode.singlePage:"Single page",re=t$4.createElement(r$4,null)}return R({icon:re,label:$,onClick:O})},p$3={left:0,top:8},v$3=function(A){var R=A.isDisabled,V=A.isSelected,O=A.mode,B=A.onClick,$="";switch(O){case e$4.ViewMode.DualPage:$="view-mode__dual-button";break;case e$4.ViewMode.DualPageWithCover:$="view-mode__dual-cover-button";break;case e$4.ViewMode.SinglePage:default:$="view-mode__single-button"}return t$4.createElement(b$2,{mode:O,onClick:B},function(re){return t$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$4.Position.BottomCenter,target:t$4.createElement(e$4.MinimalButton,{ariaLabel:re.label,isDisabled:R,isSelected:V,testId:$,onClick:re.onClick},re.icon),content:function(){return re.label},offset:p$3})})},k$2=function(A){var R=A.children,V=A.mode,O=A.store,B=w$1(O).viewMode,$=f$3(O).scrollMode,re=B===V,fe=($===e$4.ScrollMode.Horizontal||$===e$4.ScrollMode.Wrapped)&&V!==e$4.ViewMode.SinglePage;return(R||function(ve){return t$4.createElement(v$3,{isDisabled:fe,isSelected:re,mode:ve.mode,onClick:ve.onClick})})({isDisabled:fe,isSelected:re,mode:V,onClick:function(){h$3(O,V)}})},C$2=function(A){var R=A.isDisabled,V=A.isSelected,O=A.mode,B=A.onClick,$="";switch(O){case e$4.ViewMode.DualPage:$="view-mode__dual-menu";break;case e$4.ViewMode.DualPageWithCover:$="view-mode__dual-cover-menu";break;case e$4.ViewMode.SinglePage:default:$="view-mode__single-menu"}return t$4.createElement(b$2,{mode:O,onClick:B},function(re){return t$4.createElement(e$4.MenuItem,{checked:V,icon:re.icon,isDisabled:R,testId:$,onClick:re.onClick},re.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$4,scrollMode_min.DualPageViewModeIcon=c$4,scrollMode_min.HorizontalScrollingIcon=n$4,scrollMode_min.PageScrollingIcon=r$4,scrollMode_min.VerticalScrollingIcon=d$3,scrollMode_min.WrappedScrollingIcon=s$3,scrollMode_min.scrollModePlugin=function(){var A=t$4.useMemo(function(){return e$4.createStore({scrollMode:e$4.ScrollMode.Vertical,viewMode:e$4.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),R=function(O){return t$4.createElement(S$3,i$4({},O,{store:A}))},V=function(O){return t$4.createElement(k$2,i$4({},O,{store:A}))};return{install:function(O){A.update("switchScrollMode",O.switchScrollMode),A.update("switchViewMode",O.switchViewMode)},onViewerStateChange:function(O){return A.update("scrollMode",O.scrollMode),A.update("viewMode",O.viewMode),O},switchScrollMode:function(O){a$4(A,O)},switchViewMode:function(O){h$3(A,O)},SwitchScrollMode:R,SwitchScrollModeButton:function(O){return t$4.createElement(R,{mode:O.mode},function(B){return t$4.createElement(M$2,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick()}})})},SwitchScrollModeMenuItem:function(O){return t$4.createElement(R,{mode:O.mode},function(B){return t$4.createElement(g$3,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick(),O.onClick()}})})},SwitchViewMode:V,SwitchViewModeButton:function(O){return t$4.createElement(V,{mode:O.mode},function(B){return t$4.createElement(v$3,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick()}})})},SwitchViewModeMenuItem:function(O){return t$4.createElement(V,{mode:O.mode},function(B){return t$4.createElement(C$2,{isDisabled:B.isDisabled,isSelected:B.isSelected,mode:B.mode,onClick:function(){B.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$3.exports=scrollMode_min;var libExports$4=lib$3.exports,lib$2={exports:{}},search_min={},e$3=libExports$d;function t$3(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var r$3=t$3(reactExports),n$3=function(){return r$3.createElement(e$3.Icon,{size:16},r$3.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$3=function(){return r$3.createElement(e$3.Icon,{size:16},r$3.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$3=function(){return r$3.createElement(e$3.Icon,{ignoreDirection:!0,size:16},r$3.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$3=function(){return c$3=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},c$3.apply(this,arguments)},u$3={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$3=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$2=function(A){var R=A.index,V=A.area,O=A.onHighlightKeyword,B=r$3.useRef();return e$3.useIsomorphicLayoutEffect(function(){var $=B.current;O&&$&&O({highlightEle:$,keyword:V.keyword})},[]),r$3.createElement("div",{className:"rpv-search__highlight","data-index":R,ref:B,style:i$3(V),title:V.keywordStr.trim()})},l$3=function(A){var R=A.parentNode;R&&R.removeChild(A)},h$2=function(A){var R=A.parentNode;if(R){var V=document.createRange();V.selectNodeContents(A),function(O,B){l$3(O);var $=B.parentNode;$&&$.insertBefore(O,B),l$3(B)}(V.extractContents(),A),R.normalize()}},d$2=function(A,R){return A.top<R.top?-1:A.top>R.top?1:A.left<R.left?-1:A.left>R.left?1:0},f$2=function(A){var R=A.numPages,V=A.pageIndex,O=A.renderHighlights,B=A.store,$=A.onHighlightKeyword,re=r$3.useRef(),fe=r$3.useCallback(function(Ye){return r$3.createElement(r$3.Fragment,null,Ye.highlightAreas.map(function(et,qe){return r$3.createElement(s$2,{index:qe,key:qe,area:et,onHighlightKeyword:$})}))},[]),ve=O||fe,ue=r$3.useState(B.get("matchPosition")),ie=ue[0],ye=ue[1],ce=r$3.useState(B.get("keyword")||[u$3]),ae=ce[0],J=ce[1],Q=r$3.useState({pageIndex:V,scale:1,status:e$3.LayerRenderStatus.PreRender}),U=Q[0],Y=Q[1],ne=r$3.useRef(null),q=r$3.useRef([]),K=r$3.useState([]),H=K[0],G=K[1],de=function(){return!0},W=r$3.useCallback(function(){return B.get("targetPageFilter")||de},[B.get("targetPageFilter")]),ge=function(Ye){var et=q.current;if(et.length===0)return[];var qe=[],Ne=[].slice.call(Ye.querySelectorAll(".rpv-core__text-layer-text")),Be=et.map(function(Qe){return Qe.char}).join("");return ae.forEach(function(Qe){var nt=Qe.keyword;if(nt.trim()){for(var Pe,se=Qe.regExp.flags.indexOf("g")===-1?new RegExp(Qe.regExp,"".concat(Qe.regExp.flags,"g")):Qe.regExp,te=[];(Pe=se.exec(Be))!==null;)te.push({keyword:se,startIndex:Pe.index,endIndex:se.lastIndex});te.map(function(pe){return{keyword:pe.keyword,indexes:et.slice(pe.startIndex,pe.endIndex)}}).forEach(function(pe){var Ae=pe.indexes.reduce(function(ke,Se){return ke[Se.spanIndex]=(ke[Se.spanIndex]||[]).concat([Se]),ke},{});Object.values(Ae).forEach(function(ke){if(ke.length!==1||ke[0].char.trim()!==""){var Se=Qe.wholeWords?ke.slice(1,-1):ke,je=function(Ze,rt,We,ee,oe){var be=document.createRange(),_e=ee.firstChild;if(!_e||_e.nodeType!==Node.TEXT_NODE)return null;var le=_e.textContent.length,xe=oe[0].charIndexInSpan,Fe=oe.length===1?xe:oe[oe.length-1].charIndexInSpan;if(xe>le||Fe+1>le)return null;be.setStart(_e,xe),be.setEnd(_e,Fe+1);var Le=document.createElement("span");be.surroundContents(Le);var Je=Le.getBoundingClientRect(),Ce=We.getBoundingClientRect(),De=Ce.height,Re=Ce.width,tt=100*(Je.left-Ce.left)/Re,ct=100*(Je.top-Ce.top)/De,gt=100*Je.height/De,vt=100*Je.width/Re;return h$2(Le),{keyword:rt,keywordStr:Ze,numPages:R,pageIndex:V,left:tt,top:ct,height:gt,width:vt,pageHeight:De,pageWidth:Re}}(nt,pe.keyword,Ye,Ne[Se[0].spanIndex],Se);je&&qe.push(je)}})})}}),qe.sort(d$2)},Ee=function(Ye){Ye&&Ye.length>0&&J(Ye)},Te=function(Ye){return ye(Ye)},Ke=function(Ye){if(Ye.has(V)){var et=Ye.get(V);et&&Y({ele:et.ele,pageIndex:V,scale:et.scale,status:et.status})}},ft=function(){return ae.length===0||ae.length===1&&ae[0].keyword.trim()===""};return r$3.useEffect(function(){if(!ft()&&U.status===e$3.LayerRenderStatus.DidRender&&!q.current.length){var Ye=U.ele,et=[].slice.call(Ye.querySelectorAll(".rpv-core__text-layer-text")).map(function(qe){return qe.textContent}).reduce(function(qe,Ne,Be){return qe.concat(Ne.split("").map(function(Qe,nt){return{char:Qe,charIndexInSpan:nt,spanIndex:Be}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);q.current=et}},[ae,U.status]),r$3.useEffect(function(){if(!ft()&&U.ele&&U.status===e$3.LayerRenderStatus.DidRender&&W()({pageIndex:V,numPages:R})){var Ye=U.ele,et=ge(Ye);G(et)}},[ae,ie,U.status,q.current]),r$3.useEffect(function(){ft()&&U.ele&&U.status===e$3.LayerRenderStatus.DidRender&&G([])},[ae,U.status]),r$3.useEffect(function(){if(H.length!==0){var Ye=re.current;if(ie.pageIndex===V&&Ye&&U.status===e$3.LayerRenderStatus.DidRender){var et=Ye.querySelector('.rpv-search__highlight[data-index="'.concat(ie.matchIndex,'"]'));if(et){var qe=function(nt,Pe){for(var se=nt.offsetTop,te=nt.offsetLeft,pe=nt.parentElement;pe&&pe!==Pe;)se+=pe.offsetTop,te+=pe.offsetLeft,pe=pe.parentElement;return{left:te,top:se}}(et,Ye),Ne=qe.left,Be=qe.top,Qe=B.get("jumpToDestination");Qe&&(Qe({pageIndex:V,bottomOffset:(Ye.getBoundingClientRect().height-Be)/U.scale,leftOffset:Ne/U.scale,scaleTo:U.scale}),ne.current&&ne.current.classList.remove("rpv-search__highlight--current"),ne.current=et,et.classList.add("rpv-search__highlight--current"))}}}},[H,ie]),r$3.useEffect(function(){return B.subscribe("keyword",Ee),B.subscribe("matchPosition",Te),B.subscribe("renderStatus",Ke),function(){B.unsubscribe("keyword",Ee),B.unsubscribe("matchPosition",Te),B.unsubscribe("renderStatus",Ke)}},[]),r$3.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(V),ref:re},ve({getCssProperties:i$3,highlightAreas:H}))},p$2=function(A){var R,V=A.wholeWords?" ".concat(A.keyword," "):A.keyword,O=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp((R=V,R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),O),wholeWords:A.wholeWords||!1}},g$2=function(A,R,V){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:V||!1}:typeof A=="string"?A===""?u$3:p$2({keyword:A,matchCase:R||!1,wholeWords:V||!1}):(R!==void 0&&(A.matchCase=R),V!==void 0&&(A.wholeWords=V),p$2(A))},m$2=function(A){var R,V=A.get("initialKeyword"),O=r$3.useMemo(function(){if(V&&V.length===1){var Te=g$2(V[0]);return{matchCase:Te.regExp.flags.indexOf("i")===-1,wholeWords:Te.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),B=function(Te){var Ke=r$3.useRef(Te.get("doc")),ft=function(Ye){Ke.current=Ye};return r$3.useEffect(function(){return Te.subscribe("doc",ft),function(){Te.unsubscribe("doc",ft)}},[]),Ke}(A),$=r$3.useState(V),re=$[0],fe=$[1],ve=r$3.useState([]),ue=ve[0],ie=ve[1],ye=r$3.useState(0),ce=ye[0],ae=ye[1],J=r$3.useState(O.matchCase),Q=J[0],U=J[1],Y=r$3.useRef([]),ne=r$3.useState(O.wholeWords),q=ne[0],K=ne[1],H=function(){return!0},G=r$3.useCallback(function(){return A.get("targetPageFilter")||H},[A.get("targetPageFilter")]),de=function(Te){var Ke=ue.length;if(re.length===0||Ke===0)return null;var ft=Te===Ke+1?1:Math.max(1,Math.min(Ke,Te));return ae(ft),ge(ue[ft-1])},W=function(Te){return fe(Te===""?[]:[Te])},ge=function(Te){var Ke=A.get("jumpToPage");return Ke&&Ke(Te.pageIndex),A.update("matchPosition",{matchIndex:Te.matchIndex,pageIndex:Te.pageIndex}),Te},Ee=function(Te,Ke,ft){var Ye=B.current;if(!Ye)return Promise.resolve([]);var et=Ye.numPages,qe=Te.map(function(Ne){return g$2(Ne,Ke,ft)});return A.update("keyword",qe),ae(0),ie([]),new Promise(function(Ne,Be){var Qe=Y.current.length===0?function(){var nt=B.current;if(!nt)return Promise.resolve([]);var Pe=Array(nt.numPages).fill(0).map(function(se,te){return e$3.getPage(nt,te).then(function(pe){return pe.getTextContent()}).then(function(pe){var Ae=pe.items.map(function(ke){return ke.str||""}).join("");return Promise.resolve({pageContent:Ae,pageIndex:te})})});return Promise.all(Pe).then(function(se){return se.sort(function(te,pe){return te.pageIndex-pe.pageIndex}),Promise.resolve(se.map(function(te){return te.pageContent}))})}().then(function(nt){return Y.current=nt,Promise.resolve(nt)}):Promise.resolve(Y.current);Qe.then(function(nt){var Pe=[];nt.forEach(function(se,te){G()({pageIndex:te,numPages:et})&&qe.forEach(function(pe){for(var Ae,ke=0;(Ae=pe.regExp.exec(se))!==null;)Pe.push({keyword:pe.regExp,matchIndex:ke,pageIndex:te,pageText:se,startIndex:Ae.index,endIndex:pe.regExp.lastIndex}),ke++})}),ie(Pe),Pe.length>0&&(ae(1),ge(Pe[0])),Ne(Pe)})})};return r$3.useEffect(function(){Y.current=[]},[B.current]),{clearKeyword:function(){A.update("keyword",[u$3]),W(""),ae(0),ie([]),U(!1),K(!1)},changeMatchCase:function(Te){U(Te),re.length>0&&Ee(re,Te,q)},changeWholeWords:function(Te){K(Te),re.length>0&&Ee(re,Q,Te)},currentMatch:ce,jumpToMatch:de,jumpToNextMatch:function(){return de(ce+1)},jumpToPreviousMatch:function(){return de(ce-1)},keywords:re,matchCase:Q,numberOfMatches:ue.length,wholeWords:q,search:function(){return Ee(re,Q,q)},searchFor:Ee,setKeywords:fe,keyword:re.length===0?"":(R=re[0],R instanceof RegExp?R.source:typeof R=="string"?R:R.keyword),setKeyword:W,setTargetPages:function(Te){A.update("targetPageFilter",Te)}}},v$2=function(A){var R=A.children,V=A.store,O=m$2(V),B=r$3.useState(!1),$=B[0],re=B[1],fe=function(ve){return re(!0)};return r$3.useEffect(function(){return V.subscribe("doc",fe),function(){V.unsubscribe("doc",fe)}},[]),R(c$3(c$3({},O),{isDocumentLoaded:$}))},x=function(A){var R=A.containerRef,V=A.store,O=r$3.useRef(!1),B=function(){O.current=!0},$=function(){O.current=!1},re=function(fe){var ve=R.current;ve&&(fe.shiftKey||fe.altKey||fe.key!=="f"||(e$3.isMac()?fe.metaKey&&!fe.ctrlKey:fe.ctrlKey)&&(O.current||document.activeElement&&ve.contains(document.activeElement))&&(fe.preventDefault(),V.update("areShortcutsPressed",!0)))};return r$3.useEffect(function(){var fe=R.current;if(fe)return document.addEventListener("keydown",re),fe.addEventListener("mouseenter",B),fe.addEventListener("mouseleave",$),function(){document.removeEventListener("keydown",re),fe.removeEventListener("mouseenter",B),fe.removeEventListener("mouseleave",$)}},[R.current]),r$3.createElement(r$3.Fragment,null)},y={left:0,top:8},E$2=function(A){var R=A.store,V=A.onToggle,O=r$3.useContext(e$3.LocalizationContext).l10n,B=r$3.useContext(e$3.ThemeContext).direction,$=r$3.useState(!1),re=$[0],fe=$[1],ve=r$3.useState(!1),ue=ve[0],ie=ve[1],ye=B===e$3.TextDirection.RightToLeft,ce=m$2(R),ae=ce.clearKeyword,J=ce.changeMatchCase,Q=ce.changeWholeWords,U=ce.currentMatch,Y=ce.jumpToNextMatch,ne=ce.jumpToPreviousMatch,q=ce.keyword,K=ce.matchCase,H=ce.numberOfMatches,G=ce.wholeWords,de=ce.search,W=ce.setKeyword,ge=function(Ye){fe(!0),de().then(function(et){fe(!1),ie(!0),Ye&&Ye()})};r$3.useEffect(function(){var Ye=R.get("initialKeyword");Ye&&Ye.length===1&&q&&ge(function(){R.update("initialKeyword",[])})},[]);var Ee=O&&O.search?O.search.enterToSearch:"Enter to search",Te=O&&O.search?O.search.previousMatch:"Previous match",Ke=O&&O.search?O.search.nextMatch:"Next match",ft=O&&O.search?O.search.close:"Close";return r$3.createElement("div",{className:"rpv-search__popover"},r$3.createElement("div",{className:"rpv-search__popover-input-counter"},r$3.createElement(e$3.TextBox,{ariaLabel:Ee,autoFocus:!0,placeholder:Ee,type:"text",value:q,onChange:function(Ye){ie(!1),W(Ye)},onKeyDown:function(Ye){Ye.key==="Enter"&&q&&(ue?Y():ge())}}),r$3.createElement("div",{className:e$3.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!ye,"rpv-search__popover-counter--rtl":ye})},re&&r$3.createElement(e$3.Spinner,{testId:"search__popover-searching",size:"1rem"}),!re&&r$3.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",H))),r$3.createElement("label",{className:"rpv-search__popover-label"},r$3.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:K,type:"checkbox",onChange:function(Ye){ie(!1),J(Ye.target.checked)}})," ",O&&O.search?O.search.matchCase:"Match case"),r$3.createElement("label",{className:"rpv-search__popover-label"},r$3.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:G,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(Ye){ie(!1),Q(Ye.target.checked)}})," ",O&&O.search?O.search.wholeWords:"Whole words"),r$3.createElement("div",{className:"rpv-search__popover-footer"},r$3.createElement("div",{className:"rpv-search__popover-footer-item"},r$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"search-previous-match",position:ye?e$3.Position.BottomRight:e$3.Position.BottomCenter,target:r$3.createElement(e$3.MinimalButton,{ariaLabel:Te,isDisabled:U<=1,onClick:ne},r$3.createElement(o$3,null)),content:function(){return Te},offset:y})),r$3.createElement("div",{className:"rpv-search__popover-footer-item"},r$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$3.Position.BottomCenter,target:r$3.createElement(e$3.MinimalButton,{ariaLabel:Ke,isDisabled:U>H-1,onClick:Y},r$3.createElement(n$3,null)),content:function(){return Ke},offset:y})),r$3.createElement("div",{className:e$3.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!ye,"rpv-search__popover-footer-button--rtl":ye})},r$3.createElement(e$3.Button,{onClick:function(){V(),ae()}},ft))))},w=function(A){var R=A.children,V=A.onClick,O=r$3.useContext(e$3.LocalizationContext).l10n,B=O&&O.search?O.search.search:"Search";return R({icon:r$3.createElement(a$3,null),label:B,onClick:V})},b$1={left:0,top:8},k$1=function(A){var R=A.enableShortcuts,V=A.store,O=A.onClick,B=R?e$3.isMac()?"Meta+F":"Ctrl+F":"",$=function(re){re&&O()};return r$3.useEffect(function(){return V.subscribe("areShortcutsPressed",$),function(){V.unsubscribe("areShortcutsPressed",$)}},[]),r$3.createElement(w,{onClick:O},function(re){return r$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"search-popover",position:e$3.Position.BottomCenter,target:r$3.createElement(e$3.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:re.label,testId:"search__popover-button",onClick:O},re.icon),content:function(){return re.label},offset:b$1})})},S$2={left:0,top:8},C$1=function(A){var R=A.children,V=A.enableShortcuts,O=A.store,B=r$3.useContext(e$3.ThemeContext).direction===e$3.TextDirection.RightToLeft?e$3.Position.BottomRight:e$3.Position.BottomLeft,$=R||function(re){return r$3.createElement(k$1,c$3({enableShortcuts:V,store:O},re))};return r$3.createElement(e$3.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:B,target:function(re){return $({onClick:re})},content:function(re){return r$3.createElement(E$2,{store:O,onToggle:re})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function(R){return g$2(R)}):[g$2(A)]};search_min.NextIcon=n$3,search_min.PreviousIcon=o$3,search_min.SearchIcon=a$3,search_min.searchPlugin=function(A){var R=r$3.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),V=r$3.useMemo(function(){return e$3.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$3],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),O=m$2(V),B=O.clearKeyword,$=O.jumpToMatch,re=O.jumpToNextMatch,fe=O.jumpToPreviousMatch,ve=O.searchFor,ue=O.setKeywords,ie=O.setTargetPages,ye=function(ce){return r$3.createElement(C$1,c$3({enableShortcuts:R.enableShortcuts},ce,{store:V}))};return{install:function(ce){var ae=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],J=A&&A.keyword?P$1(A.keyword):[u$3];V.update("initialKeyword",ae),V.update("jumpToDestination",ce.jumpToDestination),V.update("jumpToPage",ce.jumpToPage),V.update("keyword",J)},renderPageLayer:function(ce){return r$3.createElement(f$2,{key:ce.pageIndex,numPages:ce.doc.numPages,pageIndex:ce.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:V,onHighlightKeyword:R.onHighlightKeyword})},renderViewer:function(ce){var ae=ce.slot;return ae.subSlot&&(ae.subSlot.children=r$3.createElement(r$3.Fragment,null,R.enableShortcuts&&r$3.createElement(x,{containerRef:ce.containerRef,store:V}),ae.subSlot.children)),ae},uninstall:function(ce){var ae=V.get("renderStatus");ae&&ae.clear()},onDocumentLoad:function(ce){V.update("doc",ce.doc)},onTextLayerRender:function(ce){var ae=V.get("renderStatus");ae&&(ae=ae.set(ce.pageIndex,ce),V.update("renderStatus",ae))},Search:function(ce){return r$3.createElement(v$2,c$3({},ce,{store:V}))},ShowSearchPopover:ye,ShowSearchPopoverButton:function(){return r$3.createElement(ye,null,function(ce){return r$3.createElement(k$1,c$3({enableShortcuts:R.enableShortcuts,store:V},ce))})},clearHighlights:function(){B()},highlight:function(ce){var ae=Array.isArray(ce)?ce:[ce];return ue(ae),ve(ae)},jumpToMatch:$,jumpToNextMatch:re,jumpToPreviousMatch:fe,setTargetPages:ie}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$2.exports=search_min;var libExports$3=lib$2.exports,lib$1={exports:{}},theme_min={},e$2=libExports$d;function t$2(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var n$2=t$2(reactExports),r$2=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$2.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$2=function(){return n$2.createElement(e$2.Icon,{size:16},n$2.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$2.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$2=function(){return o$2=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},o$2.apply(this,arguments)},a$2={left:0,top:8},i$2=function(A){var R=A.onClick,V=n$2.useContext(e$2.ThemeContext),O=n$2.useContext(e$2.LocalizationContext).l10n,B=V.currentTheme==="dark",$=O&&O.theme?B?O.theme.switchLightTheme:O.theme.switchDarkTheme:B?"Switch to the light theme":"Switch to the dark theme";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaLabel:$,testId:"theme__switch-button",onClick:R},B?n$2.createElement(c$2,null):n$2.createElement(r$2,null)),content:function(){return $},offset:a$2})},l$2=function(A){var R=A.children,V=n$2.useContext(e$2.ThemeContext);return(R||function(O){return n$2.createElement(i$2,{onClick:O.onClick})})({onClick:function(){return V.setCurrentTheme(V.currentTheme==="dark"?"light":"dark")}})},u$2=function(A){var R=A.onClick,V=n$2.useContext(e$2.ThemeContext),O=n$2.useContext(e$2.LocalizationContext).l10n,B=V.currentTheme==="dark",$=O&&O.theme?B?O.theme.switchLightTheme:O.theme.switchDarkTheme:B?"Switch to the light theme":"Switch to the dark theme";return n$2.createElement(e$2.MenuItem,{icon:B?n$2.createElement(c$2,null):n$2.createElement(r$2,null),testId:"theme__switch-menu",onClick:R},$)};theme_min.DarkIcon=r$2,theme_min.LightIcon=c$2,theme_min.themePlugin=function(){var A=function(R){return n$2.createElement(l$2,o$2({},R))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$2.createElement(A,null,function(R){return n$2.createElement(i$2,o$2({},R))})},SwitchThemeMenuItem:function(R){return n$2.createElement(A,null,function(V){return n$2.createElement(u$2,{onClick:function(){V.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$1.exports=theme_min;var libExports$2=lib$1.exports,lib={exports:{}},zoom_min={},e$1=libExports$d;function t$1(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var n$1=t$1(reactExports),o$1=function(){return n$1.createElement(e$1.Icon,{ignoreDirection:!0,size:16},n$1.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$1=function(){return n$1.createElement(e$1.Icon,{ignoreDirection:!0,size:16},n$1.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$1=function(){return c$1=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},c$1.apply(this,arguments)},a$1=function(A){var R=n$1.useState(A.get("scale")||0),V=R[0],O=R[1],B=function($){O($)};return n$1.useEffect(function(){return A.subscribe("scale",B),function(){A.unsubscribe("scale",B)}},[]),{scale:V}},u$1=function(A){var R=A.children,V=A.store;return(R||function(O){return n$1.createElement(n$1.Fragment,null,"".concat(Math.round(100*O.scale),"%"))})({scale:a$1(V).scale})},l$1={passive:!1},i$1=null,s$1=function(A){var R=A.pagesContainerRef,V=A.store,O=e$1.useDebounceCallback(function($){var re=V.get("zoom");re&&re($)},40),B=function($){if($.ctrlKey){$.preventDefault();var re=$.target.getBoundingClientRect(),fe=1-$.deltaY/100,ve=$.clientX-re.left,ue=$.clientY-re.top,ie=V.get("scale"),ye=(i$1||(i$1=document.createElementNS("http://www.w3.org/2000/svg","svg"))).createSVGMatrix().translate(ve,ue).scale(fe).translate(-ve,-ue).scale(ie);O(ye.a)}};return e$1.useIsomorphicLayoutEffect(function(){var $=R.current;if($)return $.addEventListener("wheel",B,l$1),function(){$.removeEventListener("wheel",B)}},[]),n$1.createElement(n$1.Fragment,null)},m$1=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],f$1=function(A){return m$1.find(function(R){return R>A})||A},v$1=function(A){var R=m$1.findIndex(function(V){return V>=A});return R===-1||R===0?A:m$1[R-1]},p$1=function(A){var R=A.containerRef,V=A.store,O=function(B){if(!B.shiftKey&&!B.altKey&&(e$1.isMac()?B.metaKey:B.ctrlKey)){var $=R.current;if($&&document.activeElement&&$.contains(document.activeElement)){var re=V.get("zoom");if(re){var fe=V.get("scale")||1,ve=1;switch(B.key){case"-":ve=v$1(fe);break;case"=":ve=f$1(fe);break;case"0":ve=1;break;default:ve=fe}ve!==fe&&(B.preventDefault(),re(ve))}}}};return n$1.useEffect(function(){if(R.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[R.current]),n$1.createElement(n$1.Fragment,null)},z=[.5,.75,1,1.25,1.5,2,3,4],E$1={left:0,top:8},d$1=function(A){var R=A.levels,V=R===void 0?z:R,O=A.scale,B=A.onZoom,$=n$1.useContext(e$1.LocalizationContext).l10n,re=n$1.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,fe=$&&$.zoom?$.zoom.zoomDocument:"Zoom document";return n$1.createElement(e$1.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$1.Position.BottomCenter,target:function(ve){return n$1.createElement(e$1.MinimalButton,{ariaLabel:fe,testId:"zoom__popover-target",onClick:function(){ve()}},n$1.createElement("span",{className:"rpv-zoom__popover-target"},n$1.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$1.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!re,"rpv-zoom__popover-target-scale--rtl":re})},Math.round(100*O),"%"),n$1.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(ve){return n$1.createElement(e$1.Menu,null,Object.keys(e$1.SpecialZoomLevel).map(function(ue){var ie=ue;return n$1.createElement(e$1.MenuItem,{key:ie,onClick:function(){ve(),B(ie)}},function(ye){switch(ye){case e$1.SpecialZoomLevel.ActualSize:return $&&$.zoom?$.zoom.actualSize:"Actual size";case e$1.SpecialZoomLevel.PageFit:return $&&$.zoom?$.zoom.pageFit:"Page fit";case e$1.SpecialZoomLevel.PageWidth:return $&&$.zoom?$.zoom.pageWidth:"Page width"}}(ie))}),n$1.createElement(e$1.MenuDivider,null),V.map(function(ue){return n$1.createElement(e$1.MenuItem,{key:ue,onClick:function(){ve(),B(ue)}},"".concat(Math.round(100*ue),"%"))}))},offset:E$1,closeOnClickOutside:!0,closeOnEscape:!0})},g$1=function(A){var R=A.children,V=A.levels,O=A.store;return(R||function(B){return n$1.createElement(d$1,{levels:V,scale:B.scale,onZoom:B.onZoom})})({scale:a$1(O).scale,onZoom:function(B){var $=O.get("zoom");$&&$(B)}})},C={left:0,top:8},h$1=function(A){var R=A.enableShortcuts,V=A.onClick,O=n$1.useContext(e$1.LocalizationContext).l10n,B=O&&O.zoom?O.zoom.zoomIn:"Zoom in",$=R?e$1.isMac()?"Meta+=":"Ctrl+=":"";return n$1.createElement(e$1.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$1.Position.BottomCenter,target:n$1.createElement(e$1.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:B,testId:"zoom__in-button",onClick:V},n$1.createElement(o$1,null)),content:function(){return B},offset:C})},b=function(A){var R=A.children,V=A.enableShortcuts,O=A.store,B=a$1(O).scale;return(R||h$1)({enableShortcuts:V,onClick:function(){var $=O.get("zoom");$&&$(f$1(B))}})},k=function(A){var R=A.onClick,V=n$1.useContext(e$1.LocalizationContext).l10n,O=V&&V.zoom?V.zoom.zoomIn:"Zoom in";return n$1.createElement(e$1.MenuItem,{icon:n$1.createElement(o$1,null),testId:"zoom__in-menu",onClick:R},O)},S$1={left:0,top:8},M$1=function(A){var R=A.enableShortcuts,V=A.onClick,O=n$1.useContext(e$1.LocalizationContext).l10n,B=O&&O.zoom?O.zoom.zoomOut:"Zoom out",$=R?e$1.isMac()?"Meta+-":"Ctrl+-":"";return n$1.createElement(e$1.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$1.Position.BottomCenter,target:n$1.createElement(e$1.MinimalButton,{ariaKeyShortcuts:$,ariaLabel:B,testId:"zoom__out-button",onClick:V},n$1.createElement(r$1,null)),content:function(){return B},offset:S$1})},I$1=function(A){var R=A.children,V=A.enableShortcuts,O=A.store,B=a$1(O).scale;return(R||M$1)({enableShortcuts:V,onClick:function(){var $=O.get("zoom");$&&$(v$1(B))}})},Z=function(A){var R=A.onClick,V=n$1.useContext(e$1.LocalizationContext).l10n,O=V&&V.zoom?V.zoom.zoomOut:"Zoom out";return n$1.createElement(e$1.MenuItem,{icon:n$1.createElement(r$1,null),testId:"zoom__out-menu",onClick:R},O)};zoom_min.ZoomInIcon=o$1,zoom_min.ZoomOutIcon=r$1,zoom_min.zoomPlugin=function(A){var R=n$1.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),V=n$1.useMemo(function(){return e$1.createStore({})},[]),O=function(re){return n$1.createElement(b,c$1({enableShortcuts:R.enableShortcuts},re,{store:V}))},B=function(re){return n$1.createElement(I$1,c$1({enableShortcuts:R.enableShortcuts},re,{store:V}))},$=function(re){return n$1.createElement(g$1,c$1({},re,{store:V}))};return{renderViewer:function(re){var fe=re.slot;if(!R.enableShortcuts)return fe;var ve={children:n$1.createElement(n$1.Fragment,null,n$1.createElement(p$1,{containerRef:re.containerRef,store:V}),n$1.createElement(s$1,{pagesContainerRef:re.pagesContainerRef,store:V}),fe.children)};return c$1(c$1({},fe),ve)},install:function(re){V.update("zoom",re.zoom)},onViewerStateChange:function(re){return V.update("scale",re.scale),re},zoomTo:function(re){var fe=V.get("zoom");fe&&fe(re)},CurrentScale:function(re){return n$1.createElement(u$1,c$1({},re,{store:V}))},ZoomIn:O,ZoomInButton:function(){return n$1.createElement(O,null,function(re){return n$1.createElement(h$1,c$1({},re))})},ZoomInMenuItem:function(re){return n$1.createElement(O,null,function(fe){return n$1.createElement(k,{onClick:function(){fe.onClick(),re.onClick()}})})},ZoomOut:B,ZoomOutButton:function(){return n$1.createElement(B,null,function(re){return n$1.createElement(M$1,c$1({},re))})},ZoomOutMenuItem:function(re){return n$1.createElement(B,null,function(fe){return n$1.createElement(Z,{onClick:function(){fe.onClick(),re.onClick()}})})},Zoom:$,ZoomPopover:function(re){return n$1.createElement($,null,function(fe){return n$1.createElement(d$1,c$1({levels:re==null?void 0:re.levels},fe))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=zoom_min;var libExports$1=lib.exports,e=libExports$d,t=libExports$c,r=reactExports,n=libExports$b,o=libExports$a,a=libExports$9,l=libExports$8,i=libExports$7,c=libExports$6,m=libExports$5,u=libExports$4,s=libExports$3,d=libExports$2,p=libExports$1;function v(A){var R=Object.create(null);return A&&Object.keys(A).forEach(function(V){if(V!=="default"){var O=Object.getOwnPropertyDescriptor(A,V);Object.defineProperty(R,V,O.get?O:{enumerable:!0,get:function(){return A[V]}})}}),R.default=A,Object.freeze(R)}var _=v(r),E=function(){return _.createElement(e.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var R=A.toolbarSlot,V=_.useContext(e.LocalizationContext).l10n,O=_.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft?e.Position.BottomLeft:e.Position.BottomRight,B=R.DownloadMenuItem,$=R.EnterFullScreenMenuItem,re=R.GoToFirstPageMenuItem,fe=R.GoToLastPageMenuItem,ve=R.GoToNextPageMenuItem,ue=R.GoToPreviousPageMenuItem,ie=R.OpenMenuItem,ye=R.PrintMenuItem,ce=R.RotateBackwardMenuItem,ae=R.RotateForwardMenuItem,J=R.ShowPropertiesMenuItem,Q=R.SwitchScrollModeMenuItem,U=R.SwitchSelectionModeMenuItem,Y=R.SwitchViewModeMenuItem,ne=R.SwitchThemeMenuItem;return _.createElement(e.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:O,target:function(q,K){var H=V&&V.toolbar?V.toolbar.moreActions:"More actions";return _.createElement(e.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:O,target:_.createElement(e.MinimalButton,{ariaLabel:H,isSelected:K,testId:"toolbar__more-actions-popover-target",onClick:q},_.createElement(E,null)),content:function(){return H},offset:g})},content:function(q){return _.createElement(e.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ne,{onClick:q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement($,{onClick:q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ie,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ye,{onClick:q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e.MenuDivider,null)),_.createElement(re,{onClick:q}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ue,{onClick:q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ve,{onClick:q})),_.createElement(fe,{onClick:q}),_.createElement(e.MenuDivider,null),_.createElement(ae,{onClick:q}),_.createElement(ce,{onClick:q}),_.createElement(e.MenuDivider,null),_.createElement(U,{mode:t.SelectionMode.Text,onClick:q}),_.createElement(U,{mode:t.SelectionMode.Hand,onClick:q}),_.createElement(e.MenuDivider,null),_.createElement(Q,{mode:e.ScrollMode.Page,onClick:q}),_.createElement(Q,{mode:e.ScrollMode.Vertical,onClick:q}),_.createElement(Q,{mode:e.ScrollMode.Horizontal,onClick:q}),_.createElement(Q,{mode:e.ScrollMode.Wrapped,onClick:q}),_.createElement(e.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(Y,{mode:e.ViewMode.SinglePage,onClick:q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(Y,{mode:e.ViewMode.DualPage,onClick:q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(Y,{mode:e.ViewMode.DualPageWithCover,onClick:q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e.MenuDivider,null)),_.createElement(J,{onClick:q}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var R,V=1,O=arguments.length;V<O;V++)for(var B in R=arguments[V])Object.prototype.hasOwnProperty.call(R,B)&&(A[B]=R[B]);return A},M.apply(this,arguments)},h=function(A){return function(R){var V=_.useMemo(function(){return A(R)},[]),O=_.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,B=V.CurrentPageInput,$=V.Download,re=V.EnterFullScreen,fe=V.GoToNextPage,ve=V.GoToPreviousPage,ue=V.NumberOfPages,ie=V.Open,ye=V.Print,ce=V.ShowSearchPopover,ae=V.SwitchTheme,J=V.Zoom,Q=V.ZoomIn,U=V.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":O}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ce,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ve,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ue,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(fe,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Q,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ae,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(re,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ie,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement($,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ye,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:V}))))}},f=function(A){var R=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement(R,null))}})},S=function(A){return h(f)(A)},I=function(A){var R=A.children,V=A.slot;return(R||S)(V)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var R=n.fullScreenPlugin(A?A.fullScreenPlugin:{}),V=o.getFilePlugin(A?A.getFilePlugin:{}),O=a.openPlugin(A?A.openPlugin:{}),B=l.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),$=i.printPlugin(A?A.printPlugin:{}),re=c.propertiesPlugin(),fe=m.rotatePlugin(),ve=u.scrollModePlugin(),ue=s.searchPlugin(A?A.searchPlugin:{}),ie=t.selectionModePlugin(A?A.selectionModePlugin:{}),ye=d.themePlugin(),ce=p.zoomPlugin(A?A.zoomPlugin:{}),ae=[R,V,O,B,$,re,fe,ve,ue,ie,ye,ce],J=_.useCallback(function(Q){var U=R.EnterFullScreen,Y=R.EnterFullScreenMenuItem,ne=V.Download,q=V.DownloadMenuItem,K=O.Open,H=O.OpenMenuItem,G=B.CurrentPageInput,de=B.CurrentPageLabel,W=B.GoToFirstPage,ge=B.GoToFirstPageMenuItem,Ee=B.GoToLastPage,Te=B.GoToLastPageMenuItem,Ke=B.GoToNextPage,ft=B.GoToNextPageMenuItem,Ye=B.GoToPreviousPage,et=B.GoToPreviousPageMenuItem,qe=B.NumberOfPages,Ne=$.Print,Be=$.PrintMenuItem,Qe=re.ShowProperties,nt=re.ShowPropertiesMenuItem,Pe=fe.Rotate,se=fe.RotateBackwardMenuItem,te=fe.RotateForwardMenuItem,pe=ve.SwitchScrollMode,Ae=ve.SwitchScrollModeMenuItem,ke=ve.SwitchViewMode,Se=ve.SwitchViewModeMenuItem,je=ue.Search,Ze=ue.ShowSearchPopover,rt=ie.SwitchSelectionMode,We=ie.SwitchSelectionModeMenuItem,ee=ye.SwitchTheme,oe=ye.SwitchThemeMenuItem,be=ce.CurrentScale,_e=ce.Zoom,le=ce.ZoomIn,xe=ce.ZoomInMenuItem,Fe=ce.ZoomOut,Le=ce.ZoomOutMenuItem;return _.createElement(I,M({},Q,{slot:{CurrentPageInput:G,CurrentPageLabel:de,CurrentScale:be,Download:ne,DownloadMenuItem:q,EnterFullScreen:U,EnterFullScreenMenuItem:Y,GoToFirstPage:W,GoToFirstPageMenuItem:ge,GoToLastPage:Ee,GoToLastPageMenuItem:Te,GoToNextPage:Ke,GoToNextPageMenuItem:ft,GoToPreviousPage:Ye,GoToPreviousPageMenuItem:et,NumberOfPages:qe,Open:K,OpenMenuItem:H,Print:Ne,PrintMenuItem:Be,Rotate:Pe,RotateBackwardMenuItem:se,RotateForwardMenuItem:te,Search:je,ShowProperties:Qe,ShowPropertiesMenuItem:nt,ShowSearchPopover:Ze,SwitchScrollMode:pe,SwitchScrollModeMenuItem:Ae,SwitchSelectionMode:rt,SwitchSelectionModeMenuItem:We,SwitchViewMode:ke,SwitchViewModeMenuItem:Se,SwitchTheme:ee,SwitchThemeMenuItem:oe,Zoom:_e,ZoomIn:le,ZoomInMenuItem:xe,ZoomOut:Fe,ZoomOutMenuItem:Le}}))},[]);return{fullScreenPluginInstance:R,getFilePluginInstance:V,openPluginInstance:O,pageNavigationPluginInstance:B,printPluginInstance:$,propertiesPluginInstance:re,rotatePluginInstance:fe,scrollModePluginInstance:ve,searchPluginInstance:ue,selectionModePluginInstance:ie,themePluginInstance:ye,zoomPluginInstance:ce,install:function(Q){ae.forEach(function(U){U.install&&U.install(Q)})},renderPageLayer:function(Q){return _.createElement(_.Fragment,null,ae.map(function(U,Y){return U.renderPageLayer?_.createElement(_.Fragment,{key:Y},U.renderPageLayer(Q)):_.createElement(_.Fragment,{key:Y})}))},renderViewer:function(Q){var U=Q.slot;return ae.forEach(function(Y){Y.renderViewer&&(U=Y.renderViewer(M(M({},Q),{slot:U})))}),U},uninstall:function(Q){ae.forEach(function(U){U.uninstall&&U.uninstall(Q)})},onDocumentLoad:function(Q){ae.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(Q)})},onAnnotationLayerRender:function(Q){ae.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(Q)})},onTextLayerRender:function(Q){ae.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(Q)})},onViewerStateChange:function(Q){var U=Q;return ae.forEach(function(Y){Y.onViewerStateChange&&(U=Y.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:J}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib$c.exports=toolbar_min;var libExports=lib$c.exports;const attachment={clickToDownload:"Nhấn vào để tải về",noAttachment:"Không có tập tin đính kèm nào"},bookmark={noBookmark:"Không có đánh dấu nào"},core={askingPassword:{requirePasswordToOpen:"Tập tin yêu cầu mật khẩu để mở",submit:"Gửi đi"},wrongPassword:{submit:"Gửi đi",tryAgain:"Mật khẩu không đúng. Xin thử lại"}},defaultLayout={attachment:"Đính kèm",bookmark:"Đánh dấu",thumbnail:"Hình nhỏ"},download={download:"Tải về"},drop={dragDropFile:"Kéo và thả tập tin PDF ở đây"},fullScreen={enterFullScreen:"Toàn màn hình"},localeSwitcher={switchLocale:"Chuyển ngôn ngữ"},open={openFile:"Mở tập tin"},pageNavigation={goToFirstPage:"Trang đầu",goToLastPage:"Trang cuối",goToNextPage:"Trang kế",goToPreviousPage:"Trang trước"},print={cancel:"Huỷ",preparingDocument:"Chuẩn bị tài liệu ...",print:"In"},properties={author:"Tác giả",close:"Đóng",creationDate:"Ngày tạo",creator:"Người tạo",fileName:"Tên tệp tin",fileSize:"Kích thước tệp tin",keywords:"Từ khoá",modificationDate:"Ngày chỉnh sửa",pageCount:"Số trang",pdfProducer:"Phần mềm tạo PDF",pdfVersion:"Phiên bản PDF",showProperties:"Thông tin tập tin",subject:"Chủ đề",title:"Tiêu đề"},rotate={rotateBackward:"Xoay ngược chiều kim đồng hồ",rotateForward:"Xoay chiều kim đồng hồ"},scrollMode={horizontalScrolling:"Cuộn ngang",verticalScrolling:"Cuộn dọc",wrappedScrolling:"Cuộn lưới"},search={close:"Đóng",enterToSearch:"Nhấn Enter để tìm",matchCase:"Giống chữ hoa thường",nextMatch:"Kết quả tiếp theo",previousMatch:"Kết quả trước",search:"Tìm kiếm",wholeWords:"Toàn bộ từ"},selectionMode={handTool:"Cầm tay",textSelectionTool:"Chọn văn bản"},theme={switchDarkTheme:"Giao diện tối",switchLightTheme:"Giao diện sáng"},toolbar={moreActions:"Nhiều tác vụ khác"},zoom={actualSize:"Kích thước thực sự",pageFit:"Vừa trang",pageWidth:"Vừa chiều rộng",zoomIn:"Phóng to",zoomOut:"Thu nhỏ"},vi_VN={attachment,bookmark,core,defaultLayout,download,drop,fullScreen,localeSwitcher,open,pageNavigation,print,properties,rotate,scrollMode,search,selectionMode,theme,toolbar,zoom},Localization=({item:A})=>{const R=libExports.toolbarPlugin(),{Toolbar:V}=R,[O,B]=reactExports.useState("light"),[$,re]=reactExports.useState(vi_VN),fe={l10n:$,setL10n:re},ve={currentTheme:O,setCurrentTheme:B};return jsxRuntimeExports.jsx(libExports$d.ThemeContext.Provider,{value:ve,className:"flex justify-center",children:jsxRuntimeExports.jsx(libExports$d.LocalizationContext.Provider,{value:fe,children:jsxRuntimeExports.jsxs("div",{className:`rpv-core__viewer rpv-core__viewer--${O} lg:w-2/3 w-full h-[950px] flex flex-col border border-[#0000004d]`,children:[jsxRuntimeExports.jsx("div",{style:{alignItems:"center",backgroundColor:O==="dark"?"#292929":"#eeeeee",borderBottom:O==="dark"?"1px solid #000":"1px solid rgba(0, 0, 0, 0.1)",display:"flex",padding:".25rem"},children:jsxRuntimeExports.jsx(V,{})}),jsxRuntimeExports.jsx("div",{className:"justify-center flex-1 overflow-auto",children:jsxRuntimeExports.jsx("div",{className:"mx-3",dangerouslySetInnerHTML:{__html:A}})})]})})})},Localization$1=Localization;function Detail(A){const[R,V]=reactExports.useState(!1),[O,B]=reactExports.useState([]);let{param:$}=useParams();const re=$;reactExports.useEffect(()=>{(async()=>{const ue=await VbqpplApi.getById(re);console.log(ue),B(ue)})()},[re]);const fe=()=>{R||V(!0)};return jsxRuntimeExports.jsxs("div",{className:"px-10 py-8 lg:px-20 detail",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center info",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:O.title}),jsxRuntimeExports.jsxs("table",{className:"w-[70%] mt-5 border border-collapse content",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Thông tin"}),jsxRuntimeExports.jsx("th",{children:"Nội dung"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Số Hiệu"}),jsxRuntimeExports.jsx("td",{children:O.number})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Loại văn bản"}),jsxRuntimeExports.jsx("td",{children:O.type})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"Tài liệu đính kèm"}),jsxRuntimeExports.jsxs("td",{className:"flex items-center",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center text-blue-500 hover:text-blue-700",children:[jsxRuntimeExports.jsx(ForwardRef$1,{className:"w-4 h-4 mr-3"}),jsxRuntimeExports.jsx("p",{children:"Tải xuống văn bản"}),jsxRuntimeExports.jsx(ForwardRef$2,{className:"w-4 h-4 ml-3"})]}),jsxRuntimeExports.jsx(ForwardRef,{className:`w-6 h-6 ml-3 cursor-pointer opacity-90 hover:opacity-1 hover:text-blue-700 ${R?"text-blue-700":""}`,onClick:fe})]})]})]})]})]}),R&&jsxRuntimeExports.jsx("div",{className:"container flex justify-center w-full mt-5",children:jsxRuntimeExports.jsx(libExports$d.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.4.120/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(Localization$1,{item:O.html})})})]})}export{Detail as default};
