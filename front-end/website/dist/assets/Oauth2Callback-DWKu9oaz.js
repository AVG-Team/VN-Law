import{i as r,n,r as c,j as s}from"./index-D8y7tREh.js";import{a as i}from"./axios-B6xwUs71.js";const f=()=>{const a=r(),o=n();return c.useEffect(()=>{(async()=>{const e=new URLSearchParams(o.search).get("token");if(e){localStorage.setItem("token",e);try{const t=await i.get("http://localhost:9001/api/user/me",{headers:{Authorization:`Bearer ${e}`}});localStorage.setItem("userInfo",JSON.stringify(t.data))}catch(t){console.error("Failed to fetch user info:",t)}}else a("/login",{replace:!0})})().then(e=>e)},[o,a]),s.jsx("div",{style:{textAlign:"center",padding:"50px"},children:s.jsx("h2",{children:"Processing OAuth2 Login..."})})};export{f as default};
