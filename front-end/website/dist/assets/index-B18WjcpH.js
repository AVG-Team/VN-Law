import{j as e,h as I,i as U,r,k as Z,B as y,l as D,Q as $}from"./index-D8y7tREh.js";import{r as K}from"./authClient-CRicmCU6.js";import{h as W,S as _}from"./react-google-recaptcha-v3.esm-BAC1LrXW.js";import{B as n,G as h,T as q}from"./Grid-C3qmDbmo.js";import{T as N}from"./Typography-DHzf4aXy.js";import{T as d,F as v,a as k,L as J}from"./EyeIcon-BS77Z83k.js";import{B as g}from"./Button-Q1odovWi.js";import"./index-VWaDGczM.js";import"./axiosClient-f7rFmG3x.js";import"./axios-B6xwUs71.js";import"./Paper-CMmxJBy4.js";function Q(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm font-medium leading-6",children:e.jsx("span",{className:"bg-white px-6 text-gray-900",children:"Hoặc đăng nhập bằng"})})]}),e.jsx("div",{className:"mt-6 grid gap-4",children:e.jsxs("a",{href:I,className:"flex w-full items-center justify-center gap-3 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:ring-transparent",children:[e.jsxs("svg",{className:"h-5 w-5","aria-hidden":"true",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),e.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),e.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),e.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.27539 17.385C3.25539 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),e.jsx("span",{className:"text-sm font-semibold leading-6",children:"Google"})]})})]})})}function X(){const x=U(),[s,o]=r.useState({}),[u,P]=r.useState(!1),[S,L]=r.useState(!1),[f,T]=r.useState(!1),[A,E]=r.useState(!1),[w,j]=r.useState(!1),[a,F]=r.useState({name:"",email:"",password:"",confirmPassword:""}),[B,M]=r.useState(null),V="6LfJywMqAAAAAEk2nw2ghStxujeIzedVb3xOvW6U",H=l=>{M(l)};async function R(l){l.preventDefault();const{name:m,email:i,password:p,confirmPassword:b}=a,t={};if(m.trim()||(t.name="Tên người dùng là bắt buộc"),i.trim()?/\S+@\S+\.\S+/.test(i)||(t.email="Email không hợp lệ"):t.email="Email là bắt buộc",p.trim()?p.length<8&&(t.password="Mật khẩu phải có ít nhất 8 kí tự"):t.password="Mật khẩu là bắt buộc",b.trim()?b!==p&&(t.confirmPassword="Mật khẩu không khớp"):t.confirmPassword="Nhập lại mật khẩu là bắt buộc",o(t),Object.keys(t).length===0)try{j(!0);let z=(await K({name:a.name,email:a.email,password:a.password,recaptchaToken:B})).message;y.success(z,{onClose:()=>x("/dang-nhap"),autoClose:1e3,buttonClose:!1})}catch(C){y.error(C.message)}finally{j(!1)}}function c(l){const{name:m,value:i}=l.target;F({...a,[m]:i}),m==="password"?L(i!==""):m==="confirmPassword"&&E(i!=="")}function G(){P(!u)}function O(){T(!f)}return e.jsxs(n,{className:"w-full px-5 py-6 mx-auto rounded shadow-2xl sm:w-8/12 lg:w-4/12",children:[e.jsxs("div",{className:"mb-2 text-center",children:[e.jsx("div",{className:"flex justify-center ",children:e.jsx("img",{loading:"lazy",className:"!w-2/4 ",src:Z,alt:"Logo"})}),e.jsx(N,{variant:"h6",className:" !text-sm italic !text-blue-gray-950",children:"Tri Thức Pháp Luật Việt Nam"})]}),e.jsx(W,{reCaptchaKey:V,language:"vi",children:e.jsxs(n,{component:"form",validate:"true",onSubmit:R,className:"flex flex-col mt-1 text-center",children:[e.jsx(_,{onVerify:H}),e.jsx(d,{margin:"normal",id:"name",type:"name",label:"Tên người dùng",name:"name",autoComplete:"name",onChange:c,value:a.name,autoFocus:!0}),s.name&&e.jsx(n,{className:"text-sm text-left text-red-500",children:s.name}),e.jsx(d,{margin:"normal",id:"email",type:"email",label:"Email",name:"email",autoComplete:"email",onChange:c,value:a.email,autoFocus:!0}),s.email&&e.jsx(n,{className:"text-sm text-left text-red-500",children:s.email}),e.jsx(d,{margin:"normal",name:"password",label:"Mật khẩu",type:u?"text":"password",id:"password",onChange:c,value:a.password,autoComplete:"current-password",InputProps:{endAdornment:S&&e.jsx(g,{className:"eye-button",onClick:G,children:u?e.jsx(v,{className:"block w-5 h-5 text-black","aria-hidden":"true"}):e.jsx(k,{className:"block w-5 h-5 text-black","aria-hidden":"true"})})}}),s.password&&e.jsx(n,{className:"text-sm text-left text-red-500",children:s.password}),e.jsx(d,{margin:"normal",name:"confirmPassword",label:"Nhập lại mật khẩu",type:f?"text":"password",id:"confirmPassword",onChange:c,value:a.confirmPassword,autoComplete:"current-password",InputProps:{endAdornment:A&&e.jsx(g,{className:"eye-button",onClick:O,children:f?e.jsx(v,{className:"block w-5 h-5 text-black","aria-hidden":"true"}):e.jsx(k,{className:"block w-5 h-5 text-black","aria-hidden":"true"})})}}),s.confirmPassword&&e.jsx(n,{className:"text-sm text-left text-red-500",children:s.confirmPassword}),e.jsxs(g,{type:"submit",variant:"contained",className:`!mx-auto !my-8 transition duration-300 ease-in-out ${w?"!bg-gray-300":"!bg-indigo-500 hover:!bg-indigo-700"}`,children:[w&&e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đăng ký"]}),e.jsx(h,{container:!0,className:"justify-center mt-5",children:e.jsxs(h,{item:!0,className:"flex flex-row",children:[e.jsx(N,{className:"mr-0.5 px-1",variant:"body2",children:"Bạn đã có tài khoản?"}),e.jsx(J,{underline:"none",href:"/dang-nhap",variant:"body2",children:"Đăng nhập"})]})})]})}),e.jsx(Q,{})]})}function ce(x){const s=D(),o=x.title;return r.useEffect(()=>{document.title=o?`${o}`:"Trang không tồn tại"},[o]),e.jsxs(q,{theme:s,children:[e.jsx($,{}),e.jsx(h,{container:!0,component:"main",className:"min-h-screen",alignItems:"center",justifyContent:"center",children:e.jsx(h,{item:!0,xs:12,elevation:6,children:e.jsx(n,{className:"mx-5 ",children:e.jsx(X,{})})})})]})}export{ce as default};
